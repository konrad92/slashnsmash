!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,e,i){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/build/",e(e.s=8)}([function(t,e){!function(t){"use strict";t.Utils={assign:Object.assign||function(t,e){for(var i,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(i in e)t[i]=e[i]}},extends:function(e,i,n){t.Utils.assign(e.prototype=Object.create(i.prototype),{constructor:e},n)},fullscreen:function(t){if("undefined"==typeof t||t){var e=document.body,i=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;i&&i.call(e)}else{var e=document.body,n=e.closeFullScreen||e.webkitCloseFullScreen||e.mozCloseFullScreen||e.msCloseFullScreen;n&&n.call(e)}}},window.Class=t.Class=function(e){return"undefined"==typeof e.type&&(e.type=e,e.prototype={constructor:e}),e.extends=function(t){return"function"!=typeof t?(console.error("Extending class by non-class object is unallowed"),this):(this.type.prototype=Object.create(t.prototype),this.type.prototype.constructor=this.type,this)},e.properties=function(t){return Object.defineProperties(this.type.prototype,t),this},e.scope=function(e){return t.Utils.assign(this.type.prototype,e),this},e.final=function(){return delete this.type.scope,delete this.type.properties,delete this.type.extends,delete this.type.type,this},e},t.DOM=function(e){return new t.DOM.Element(e)},t.DOM.Element=function(t){this.context=t},t.DOM.Element.prototype={constructor:t.DOM,on:function(t,e){return this.context.addEventListener?this.context.addEventListener.apply(this.context,arguments):console.error("No event binding functionality found!"),this},css:function(e){return t.Utils.assign(this.context.style,e),this},append:function(e){for(var i in arguments)e=arguments[i],this.context.appendChild(e instanceof t.DOM.Element?e.context:e);return this},appendTo:function(e){return e instanceof t.DOM.Element?e.context.appendChild(this.context):e.appendChild(this.context),this},id:function(t){return this.context.id=t,this},class:function(t){return this.context.className=t,this},text:function(t){return this.context.textContent=t,this},html:function(t){return this.context.innerHTML=t,this},done:function(t){return"undefined"!=typeof t&&this.appendTo(t),this.context}}}(window.BBQ=window.BBQ||{})},function(t,e){!function(t){"use strict";t.console=function(){var e=[t.DOM(document.createElement("span")).css({marginRight:"8px"}).context,t.DOM(document.createElement("span")).text("---").context],i=t.DOM(document.createElement("div")).append(e[0],e[1]).context,n=t.DOM(document.createElement("ul")).context,s=t.DOM(document.createElement("div")).id("game-logger").css({display:"none"}).append(i,n).done(document.body);return{showOnReady:!0,status:function(t){return e[0].textContent=t,this},fps:function(t){return e[1].textContent=t,this},log:function(e){return n.childNodes.length>5&&n.removeChild(n.childNodes[0]),t.DOM(document.createElement("li")).text(e).done(n)},show:function(){return s.style.display="block",this},hide:function(){return s.style.display="none",this},toggle:function(){return"none"===s.style.display?this.show():this.hide()}}}(),document.addEventListener("DOMContentLoaded",function(e){t.console.showOnReady&&t.console.show()},!1),window.console||(window.console={log:function(){},info:function(){},warn:function(){},error:function(){}});var e={log:window.console.log,info:window.console.info,warn:window.console.warn,error:window.console.error};t.Utils.assign(window.console,{log:function(i){e.log.apply(this,arguments),t.console.log(""+i)},info:function(i){e.info.apply(this,arguments),t.console.log(""+i).style.color="#c0c0ff"},warn:function(i){e.warn.apply(this,arguments),t.console.log(""+i).style.color="#ffff80"},error:function(i){e.error.apply(this,arguments),t.console.log(""+i).style.color="#f03030"}})}(window.BBQ=window.BBQ||{})},function(t,e){!function(t,e,i){"use strict";i.SCALE_MODES.DEFAULT=i.SCALE_MODES.NEAREST,t.Utils.assign(i.DEFAULT_RENDER_OPTIONS,{autoResize:!0}),i.utils._saidHello=!0;var n={getAssetEntry:e.Application.prototype.getAssetEntry};t.Utils.assign(e.Application.prototype,{createRenderer:function(t){console.log("Creating PIXI renderer..."),this.renderer=i.autoDetectRenderer(window.innerWidth,window.innerHeight,t),"number"==typeof this.scale&&(window.addEventListener("resize",this.keepAspect.bind(this),!1),this.keepAspect());var e=this.container||document.body;e.appendChild(this.renderer.view)},keepAspect:function(){window.innerWidth<768?this.scale=2:this.scale=3,this.renderer.resize(window.innerWidth/this.scale,window.innerHeight/this.scale);var t="scale("+this.scale+","+this.scale+")";this.renderer.view.style.msTransform=t,this.renderer.view.style.webkitTransform=t,this.renderer.view.style.MozTransform=t,this.renderer.view.style.OTransform=t,this.renderer.view.style.transform=t},tex:function(t,e){var n=t;return"string"==typeof t&&(n=this.images[t]),n instanceof Image?"undefined"==typeof e||e===!0?i.Texture.fromImage(n.src):new i.Texture(i.BaseTexture.fromImage(n.src)):(console.error("Image '"+t+"' not recognized",n),null)},getAssetEntry:function(t,e,i){if(/^http(|s):\/\/.+/i.test(t)){var s=t.split("/").pop().split(".")[0],o=t.split(".").pop();return{key:s,url:t,path:t,ext:o}}return n.getAssetEntry.apply(this,arguments)}}),t.Utils.assign(i.Point.prototype,{set:function(t,e){return this.x=t||0,this.y=e||0,this},mul:function(t){return this.x=this.x*t||0,this.y=this.y*t||0,this},div:function(t){return this.x=this.x/t||0,this.y=this.y/t||0,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.div(this.length())}}),t.Utils.assign(i.Rectangle.prototype,{intersects:function(t){return this.x+this.width>=t.x&&this.x<=t.x+t.width&&this.y+this.height>=t.y&&this.y<=t.y+t.height}})}(window.BBQ=window.BBQ||{},PLAYGROUND,PIXI)},function(t,e){!function(t,e){"use strict";t.Actor=function(){e.Sprite.apply(this,arguments),this.signals=[],this.events=[],this.killed=!1},t.Utils.extends(t.Actor,e.Sprite,{constructor:t.Actor,emitSignal:function(t){var e=this.signals[t],i=Array.prototype.slice.call(arguments,1);return"undefined"!=typeof e&&e.length>0&&e.forEach(function(t){t.callback.apply(t.context,i)}),this},bindSignal:function(t,e,i){return this.signals[t]=this.signals[t]||[],this.signals[t].push({callback:e,context:i||this}),this},unbindSignal:function(t,e){var i=this.signals[t];return"undefined"!=typeof i&&i.length>0&&(this.signals[t]=i.filter(function(t){return!(t.callback===e)})),this},clearSignal:function(t){return delete this.signals[t],this},enqueueEvent:function(t){return this.events.push({name:t,args:Array.prototype.slice.call(arguments,1)}),this},dequeueEvent:function(){if(0===this.events.length)return!1;var t=this.events[0];return this.events=this.events.slice(1),t},update:function(t){for(var e;(e=this.dequeueEvent())!==!1;)this.emitSignal.apply(this,Array.prototype.concat.apply([e.name],e.args))},destroy:function(){this.parent&&this.parent.toDelete&&(this.parent.toDelete.push(this),this.killed=!0)}}),t.AnimatedActor=function(){t.Actor.apply(this,arguments)},t.Utils.extends(t.AnimatedActor,t.Actor,{animations:{idle:{time:1,frames:[0]}},frameTick:0,frameIndex:0,animation:"idle",play:function(t,e){(t!==this.animation||e)&&(this.frameTick=this.frameIndex=0,this.animation=t,this.emitSignal("animationStart",this.animation))},update:function(e){t.Actor.prototype.update.call(this,e);var i=this.animation;"string"==typeof i&&(i=this.animations[i]),"object"==typeof i&&(this.frameTick+=e*i.frames.length/i.time,this.frameTick>=i.frames.length&&(this.frameTick-=i.frames.length,this.emitSignal("animationEnd",this.animation),i.next&&this.play(i.next)),this.frameIndex=i.frames[Math.floor(this.frameTick)])}}),t.Camera=function(t){e.Container.call(this),this.renderer=t},t.Utils.extends(t.Camera,e.Container,{updateTransform:function(){var t=this.renderer.width/2,i=this.renderer.height/2;this.position.x+=t,this.position.y+=i,e.Container.prototype.updateTransform.call(this),this.position.x-=t,this.position.y-=i}}),t.FollowCamera=function(e,i,n){t.Camera.call(this,e),this.position.x=i||0,this.position.y=n||0},t.Utils.extends(t.FollowCamera,t.Camera,{followed:[],follow:function(t){this.followed.indexOf(t)===-1&&this.followed.push(t)},unfollow:function(t){var e=this.followed.indexOf(t);e!==-1&&this.followed.splice(e,1)},update:function(t){this.followed.length>0&&(this.position.x=this.getCenter())},getCenter:function(){if(this.followed.length>0){var t=0;for(var e in this.followed){var i=this.followed[e];t-=i.position.x}return t/this.followed.length}return 0}}),t.ParallaxBackground=function(t){e.Container.call(this),this.camera=t},t.Utils.extends(t.ParallaxBackground,e.Container,{addBackground:function(i,n){n=t.Utils.assign({htiled:!0,vtiled:!0},n),"string"==typeof i&&(i=Game.app.images[i]);var s=new e.extras.TilingSprite(Game.app.tex(i),n.htiled?this.camera.renderer.width:i.width,n.vtiled?this.camera.renderer.height:i.height);return s.parallaxScale=n.scale||new e.Point(0,0),s.parallaxOffset=n.offset||new e.Point(0,0),s.htiled=n.htiled,s.vtiled=n.vtiled,this.addChild(s)},updateTransform:function(t){var i=this.camera;this.children.forEach(function(t){t.htiled?(t.width=i.renderer.width,t.tilePosition.x=t.width/2-t.texture.width/2,t.tilePosition.x+=t.parallaxOffset.x,t.tilePosition.x+=i.x*t.parallaxScale.x):(t.position.x=t.parallaxOffset.x-i.renderer.width/2,t.position.x+=i.x*t.parallaxScale.x),t.vtiled?(t.height=i.renderer.height,t.tilePosition.y=t.height/2-t.texture.height/2,t.tilePosition.y+=t.parallaxOffset.y,t.tilePosition.y+=i.y*t.parallaxScale.y):(t.position.y=t.parallaxOffset.y+i.renderer.height/2,t.position.y+=i.y*t.parallaxScale.y)}),e.Container.prototype.updateTransform.call(this)}}),t.State=function(){e.Container.call(this)},t.Utils.extends(t.State,e.Container,{constructor:t.State,create:function(){this.camera=new t.FollowCamera(this.app.renderer),this.background=new t.ParallaxBackground(this.camera),this.actors=new e.Container,this.actors.toDelete=[],this.camera.addChild(this.actors),this.foreground=new e.Container,this.addChild(this.background),this.addChild(this.camera),this.addChild(this.foreground)},step:function(t){this.actors.toDelete.forEach(function(t){t&&(t.emitSignal("destroy"),this.actors.removeChild(t))},this),this.actors.children.sort(this.sortActorsFunc),this.performLayer(this.actors,"update",t,this.app),this.camera.update(t)},render:function(){this.app.renderer.render(this)},performLayer:function(t,e){var i=Array.prototype.slice.call(arguments,2);return t.children.forEach(function(t){var n=t[e];"function"==typeof n&&n.apply(t,i)},this),this},sortActorsFunc:function(t,e){return t.position.y<e.position.y?-1:t.position.y>e.position.y?1:0}})}(window.BBQ=window.BBQ||{},PIXI)},function(t,e){!function(t,e,i){"use strict";t.Actors={},t.Actors.Character=e.Class(function(n){e.AnimatedActor.call(this),"string"==typeof n&&(n=t.app.images[n]),this.texture=t.app.tex("shadow"),this.anchor.x=this.anchor.y=.5,this.body=new i.Sprite(t.app.tex(n,!1)),this.body.anchor.x=.5,this.body.anchor.y=1,this.addChild(this.body),this.frameSize=new i.Rectangle(0,0,16,28),this.state={movement:new i.Point},this.velocity=new i.Point,this.bbox=new i.Rectangle(0,0,16,8),this.hitBbox=new i.Rectangle(0,0,4,10),this.health=100,this.strength={punch:10,kick:15},this.speed={walk:35,jump:50,hit:-50,punch:20,kick:10}}).extends(e.AnimatedActor).properties({frameSize:{get:function(){return this.body.texture.crop},set:function(t){this.body.texture.trim=t.clone(),this.body.texture.crop=t.clone()}}}).scope({animations:{idle:{time:1,frames:[0]},walk:{time:.42,frames:[0,1,0,2]},jump:{time:.5,frames:[3,4],next:"idle"},hit:{time:.35,frames:[5],next:"idle"},punch:{time:.3,frames:[6,7,8,8,8],next:"idle"},kick:{time:.4,frames:[9,10,11,11,11],next:"idle"}},update:function(t){e.AnimatedActor.prototype.update.call(this,t),this.updateAnimFrame(),"jump"===this.animation?this.body.y=16*-Math.sin(this.frameTick/2*Math.PI):"hit"===this.animation?this.body.y=8*-Math.sin(this.frameTick*Math.PI):"kick"===this.animation&&(this.body.y=8*-Math.sin(this.frameTick/5*Math.PI)),"function"==typeof this.updateState&&this.updateState(t),this.updatePhysics(t)},updateAnimFrame:function(){this.body.texture.crop.x=Math.floor(this.frameIndex%3)*this.frameSize.width,this.body.texture.crop.y=Math.floor(this.frameIndex/3)*this.frameSize.height,this.body.texture._updateUvs()},updatePhysics:function(t){if(this.state.walking="idle"===this.animation||"walk"===this.animation,this.state.jumping="jump"===this.animation,this.state.hitted="hit"===this.animation,this.state.attacking="punch"===this.animation||"kick"===this.animation,this.state.walking&&(this.velocity=this.state.movement.clone().normalize(),this.velocity.x||this.velocity.y?this.play("walk"):this.play("idle")),(this.state.attacking||this.state.hitted)&&this.velocity.set(this.scale.x,0).normalize(),this.state.attacking&&this.frameTick>2){var e=this.getActorHitCollision(2*this.scale.x,0);e!==!1&&e.emitSignal("hit",this)}var i=this.getCurrentSpeed();this.position.x+=this.velocity.x*i*t,this.position.y=Math.min(70,Math.max(0,this.position.y+this.velocity.y*i*t))},getWorldBBox:function(t,e){var n=this.bbox.width/2,s=this.bbox.height/2;return new i.Rectangle(this.position.x-n+this.bbox.x+(t||0),this.position.y-s+this.bbox.y+(e||0),this.bbox.width,this.bbox.height)},getWorldHitBBox:function(t,e){var n=this.hitBbox.width/2,s=this.hitBbox.height/2;return new i.Rectangle(this.position.x-n+this.hitBbox.x+(t||0),this.position.y-s+this.hitBbox.y+(e||0),this.hitBbox.width,this.hitBbox.height)},getActorHitCollision:function(e,i){var n,s=this.getWorldHitBBox(e,i),o=t.app.state.actors.children;for(var a in o)if(n=o[a],n!==this&&"undefined"!=typeof n.bbox&&n.getWorldBBox().intersects(s))return n;return!1},getCurrentSpeed:function(){return this.speed[this.animation]||0}}).final(),t.Actors.Character.preload=function(t){t.loadImages("shadow")},t.Actors.Player=e.Class(function(){t.Actors.Character.apply(this,arguments),this.input={},this.keymap={right:"right",left:"left",up:"up",down:"down",punch:"p",kick:"o",jump:"l"},this.bindSignal("keydown",this.onKeyEvent),this.bindSignal("keyup",this.onKeyEvent),this.bindSignal("hit",this.onHit),this.bindSignal("destroy",this.onDestroy)}).extends(t.Actors.Character).scope({updateState:function(t){this.state.movement.set(),this.state.walking&&(this.input.attack?this.play(this.input.attack):this.input.jump?this.play("jump"):(this.input.right?(this.state.movement.x=1,this.scale.x=1):this.input.left&&(this.state.movement.x=-1,this.scale.x=-1),this.input.down?this.state.movement.y=1:this.input.up&&(this.state.movement.y=-1))),this.input.attack=!1,this.input.jump=!1},updatePhysics:function(e){t.Actors.Character.prototype.updatePhysics.call(this,e)},onKeyEvent:function(t,e){t===this.keymap.right?this.input.right=e:t===this.keymap.left?this.input.left=e:t===this.keymap.down?this.input.down=e:t===this.keymap.up&&(this.input.up=e),t===this.keymap.punch&&e?this.input.attack="punch":t===this.keymap.kick&&e&&(this.input.attack="kick"),t===this.keymap.jump&&e&&(this.input.jump=!0)},onHit:function(e){this.state.hitted||this.state.jumping||(this.scale.x=-e.scale.x,this.health-=e.strength[e.animation]||10,this.play("hit"),this.health<0&&(t.app.state.playerKilled(this),this.destroy()))},onDestroy:function(){t.app.state.camera.unfollow(this)}}),t.Actors.Player.preload=function(t){t.loadImages("fatguy","indicator")},t.Actors.PlayerTouchScreen=e.Class(function(){t.Actors.Player.apply(this,arguments),this.touch={},this.bindSignal("touchstart",this.onTouchStart),this.bindSignal("touchmove",this.onTouchMove),this.bindSignal("touchend",this.onTouchEnd),this.bindSignal("destroy",this.destroyIndicator)}).extends(t.Actors.Player).scope({onTouchStart:function(e,n,s){var o=t.app.renderer.width/2,a=t.app.renderer.height/2;n<o?this.touch.move||(this.touch.move={id:e,x:n,y:s},this.indicator=new i.Sprite(t.app.tex("indicator")),this.indicator.anchor=new i.Point(.5,.5),this.indicator.position.x=n,this.indicator.position.y=s,t.app.state.foreground.addChild(this.indicator)):s<a?this.input.jump=!0:n<o+o/2?this.input.attack="kick":this.input.attack="punch"},onTouchMove:function(t,e,i){this.touch.move&&this.touch.move.id===t&&(this.input.right=e-this.touch.move.x>10,this.input.left=e-this.touch.move.x<-10,this.input.down=i-this.touch.move.y>10,this.input.up=i-this.touch.move.y<-10)},onTouchEnd:function(t,e,i){this.touch.move&&this.touch.move.id===t&&(this.touch.move=!1,this.input.right=!1,this.input.left=!1,this.input.down=!1,this.input.up=!1,this.destroyIndicator())},destroyIndicator:function(){this.indicator&&(t.app.state.foreground.removeChild(this.indicator),this.indicator=!1)}}),t.Actors.Enemy=e.Class(function(){t.Actors.Character.apply(this,arguments),this.bindSignal("hit",this.onHit),this.follow=!1,this.tick=0,this.health=50,this.speed={walk:25,jump:40,hit:-50,punch:20,kick:10}}).extends(t.Actors.Character).scope({updateState:function(t){if(this.state.walking){var e=this.findNearestPlayer();e!==!1&&(this.state.movement.set(),this.distanceTo(e)>10?this.moveTo(e):this.tick--<=0&&(this.play(Math.random()<.75?"punch":"kick"),this.tick=5+10*Math.random()),this.scale.x=this.position.x>e.position.x?-1:1)}},findNearestPlayer:function(){var e=t.app.state.players,i=1e4;for(var n in e){var s=e[n],o=this.distanceTo(s);(this.follow===!1||o<i)&&(i=o,this.follow=s)}return this.follow&&this.follow.killed&&(this.follow=!1),this.follow},distanceTo:function(t){var e=t.position.x-this.position.x,i=t.position.y-this.position.y;return Math.sqrt(e*e+i*i)},moveTo:function(t,e){var i=this.distanceTo(t);this.state.movement.x=(t.position.x-this.position.x)/i,this.state.movement.y=(t.position.y-this.position.y)/i},onHit:function(t){this.state.hitted||(this.scale.x=-t.scale.x,this.health-=t.strength[t.animation]||10,this.play("hit"),this.health<=0&&this.destroy())}}),t.Actors.Enemy.preload=function(t){t.loadImages("enemyguy")}}(window.Game=window.Game||{},BBQ,PIXI)},function(t,e){!function(t,e,i){t.Actors.Cat=e.Class(function(){t.Actors.Enemy.call(this,"cat"),this.frameSize=new i.Rectangle(0,0,16,16),this.follow=!1,this.tick=0,this.health=1e3,this.strength={punch:10,kick:15},this.speed={walk:35,jump:50,hit:-50,punch:20,kick:10}}).extends(t.Actors.Enemy).properties({}).scope({animations:{idle:{time:.5,frames:[3,4,5]},walk:{time:.5,frames:[0,1,0,2]},hit:{time:2,frames:[0,1,2,3,4,5],next:"idle"}},updateState:function(t){if(this.state.walking){var e=this.findNearestPlayer();e!==!1&&(this.state.movement.set(),this.distanceTo(e)>20?this.moveTo(e):this.tick--<=0&&(this.animation="idle"),this.scale.x=this.position.x>e.position.x?-1:1)}}}),t.Actors.Cat.preload=function(t){t.loadImages("cat")}}(window.Game=window.Game||{},BBQ,PIXI)},function(t,e){!function(t){"use strict";PLAYGROUND.LoadingScreen={logoRaw:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAYCAYAAABKtPtEAAAA+0lEQVRYw+1X0Q3FIAgsjQs4gCu4/xyu4ACO0PdFYmzLQyw1Vvmmyh3HSWFjhnPu2AaJGCNwc+Fr4GtJMNwDrbXDgE8psXP3bfJYBHxN/rX1Tq8AI/kohACcVwI7UeZzwnt/UIZWujzmq3sAFzwFTFosda+E5OYRkIAPIQAWWxJRS8wT+4nRmCuUp7X21CUEye0YnqW1jO1a4Km5vpMtRUrNettdAVz/yEmRzvBwi9CVCeajMcQz2AK+V6dfUwBlVtjpvNtIyD9itEywSQExRrgq7K5Yicwp4E8Yo3lTxpryl3oIaB7eM7hkr9/hRcAiYO5gu/JIRljz2vwANueFK1RCNCwAAAAASUVORK5CYII=",create:function(){this.logo=new PIXI.Sprite(PIXI.Texture.fromImage(this.logoRaw)),this.logo.anchor=new PIXI.Point(.5,1),this.progressBar=new PIXI.Graphics,this.progressBar.position=new PIXI.Point(0,8),this.logo.addChild(this.progressBar),this.app.loader.on("error",this.error,this)},enter:function(){this.app.renderer.backgroundColor=1052688,this.progress=0},leave:function(){console.log("Loading done.")},step:function(t){this.progress+=Math.abs(this.app.loader.progress-this.progress),this.logo.position=new PIXI.Point(Math.floor(this.app.renderer.width/2),Math.floor(this.app.renderer.height/2))},render:function(){var t=this.progressBar,e=this.progress;t.clear(),t.lineStyle(0),t.beginFill(16777215,1),t.drawRect(-32,-2,64*e,4),t.endFill(),t.beginFill(16777215,1),t.drawRect(-34,-2,1,4),t.endFill(),t.beginFill(16777215,1),t.drawRect(33,-2,1,4),t.endFill(),this.app.renderer.render(this.logo)},error:function(t){var e=new PIXI.Text("Error while loading\n"+t,{font:"9px Courier",fill:"#FFFFFF",align:"center"});e.anchor=new PIXI.Point(.5,0),e.position=new PIXI.Point(0,18),this.logo.addChild(e)}},Game.app=playground({paths:{base:"assets/",images:"images/",sounds:"sounds/",atlases:"atlases/"},scale:3,performance:{ticks:0,frame:0,fps:0},create:function(){this.createRenderer(),BBQ.console.status(this.renderer instanceof PIXI.WebGLRenderer?"WebGL":"Canvas"),console.log("Loading game assets...");for(var t in Game){var e=Game[t];if("object"==typeof e)for(var i in e)"function"==typeof e[i].preload&&e[i].preload.call(this,this)}},ready:function(){this.setState(new Game.State.Menu)},step:function(t){},render:function(t){this.performance.frame++,this.performance.ticks+=t,this.performance.ticks>=1&&(this.performance.fps=this.performance.frame,BBQ.console.fps("FPS: "+this.performance.fps),this.performance.ticks=0,this.performance.frame=0)},resize:function(){},keydown:function(t){if("f1"===t.key)return BBQ.console.toggle(),!1},pointerdown:function(t){}})}(window)},function(t,e){!function(t,e,i){"use strict";t.Fatality=e.Class(function(){i.Sprite.call(this,t.app.tex("fatality")),this.anchor=new i.Point(.5,.5),this.timer=100}).extends(i.Sprite).scope({updateTransform:function(){this.position.x=t.app.renderer.width/2,this.position.y=t.app.renderer.height/2.5-Math.abs(100*Math.cos((this.timer/100+50)*Math.PI)*Math.sin(this.timer/200*Math.PI)),i.Sprite.prototype.updateTransform.call(this),this.timer>0&&this.timer--}}),t.State={},t.State.Menu=e.Class(function(){e.State.apply(this,arguments);var i=new t.State.Menu.Button(t.app.tex("singleplayer")),n=new t.State.Menu.Button(t.app.tex("multiplayer")),s=new t.State.Menu.Button(t.app.tex("fullscreen"));i.offset.y=-25,n.offset.y=0,s.offset.y=25,i.click=function(){t.app.singleplayer=!0,t.app.setState(new t.State.Stage)},n.click=function(){t.app.singleplayer=!1,t.app.setState(new t.State.Stage)},s.click=function(){e.Utils.fullscreen()},i.bind(),n.bind(),s.bind(),this.addChild(i),this.addChild(n),this.addChild(s)}).extends(e.State),t.State.Menu.Button=e.Class(function(){i.Sprite.apply(this,arguments),this.anchor=new i.Point(.5,.5),this.interactive=!0,this.offset=new i.Point}).extends(i.Sprite).scope({click:function(){console.log("asd1")},bind:function(){this.on("mousedown",this.click.bind(this)),this.on("touchstart",this.click.bind(this))},updateTransform:function(){var e=t.app.renderer.width/2,n=t.app.renderer.height/2;this.position.x=e+this.offset.x,this.position.y=n+this.offset.y,i.Sprite.prototype.updateTransform.call(this)}}),t.State.Menu.preload=function(t){t.loadImages("singleplayer","multiplayer","fullscreen")},t.State.Stage=function(){e.State.call(this),this.players=[],this.timer=10},e.Utils.extends(t.State.Stage,e.State,{enter:function(){this.background.addBackground("townsky",{scale:new i.Point(.1,.1)}),this.background.addBackground("townbg",{scale:new i.Point(.5,1),offset:new i.Point(0,-200),vtiled:!1,htiled:!0}),this.background.addBackground("townfg",{scale:new i.Point(.65,1),offset:new i.Point(0,-200),vtiled:!1,htiled:!0}),this.background.addBackground("road",{scale:new i.Point(1,1),offset:new i.Point(0,-22),vtiled:!1,htiled:!0});var e=new t.Actors.PlayerTouchScreen("fatguy");e.position.x=60,this.actors.addChild(e),this.camera.follow(e),this.players.push(e);var n=new t.Actors.Cat("cat");n.position.x=400,this.actors.addChild(n),t.app.singleplayer||(e=new t.Actors.Player("fatguy"),e.position.x=100,e.keymap={right:"d",left:"a",down:"s",up:"w",punch:"t",kick:"y",jump:"g"},this.camera.follow(e),this.actors.addChild(e),this.players.push(e))},step:function(){if(e.State.prototype.step.apply(this,arguments),this.players.length>0&&this.timer--<0){this.timer=80+200*Math.random();var i=new t.Actors.Enemy("enemyguy");i.position.x=400*(Math.random()<.5?-1:1),i.position.y=100*Math.random(),i.position.x-=this.camera.getCenter(),this.actors.addChild(i)}},keydown:function(t){this.players.forEach(function(e){e.enqueueEvent("keydown",t.key,!0,t)},this)},keyup:function(t){this.players.forEach(function(e){e.enqueueEvent("keyup",t.key,!1,t)},this)},touchstart:function(t){this.players.forEach(function(e){e.enqueueEvent("touchstart",t.identifier,t.x,t.y,!1,t)},this)},touchmove:function(t){this.players.forEach(function(e){e.enqueueEvent("touchmove",t.identifier,t.x,t.y,!1,t)},this)},touchend:function(t){this.players.forEach(function(e){e.enqueueEvent("touchend",t.identifier,t.x,t.y,!1,t)},this)},playerKilled:function(e){var i=this.players.indexOf(e);i!==-1&&this.players.splice(i,1),this.players.length<=0&&this.foreground.addChild(new t.Fatality)}}),t.Stages={},t.Stages._={preload:function(t){t.loadImages("fatality")}},t.Stages.town={preload:function(t){t.loadImages("road","townsky","townbg","townfg")},appearance:{ground:"road",parallax:[{texture:"townsky",vscale:1,hscale:1}]},sections:[{waves:[["SkinHead","SkinHead","SkinHead"]]}],next:"pub"}}(window.Game=window.Game||{},BBQ,PIXI)},function(t,e,i){"use strict";var n=i(0),s=(i.n(n),i(1)),o=(i.n(s),i(2)),a=(i.n(o),i(3)),r=(i.n(a),i(4)),h=(i.n(r),i(5)),c=(i.n(h),i(7)),l=(i.n(c),i(6));i.n(l)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBiYzdkMTkxM2E1OGM2ODM5Yzk3NSIsIndlYnBhY2s6Ly8vLi9zcmMvYmJxL2JicS1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9iYnEvYmJxLWNvbnNvbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JicS9iYnEtcGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmJxL2JicS1zdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9hY3RvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY3JlYXR1cmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvc3RhZ2VzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwidmFsdWUiLCJkIiwibmFtZSIsImdldHRlciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwibyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJCUSIsIlV0aWxzIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwicHJvcCIsImxlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImV4dGVuZHMiLCJjbGFzc2EiLCJjbGFzc2IiLCJwcm90byIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiZnVsbHNjcmVlbiIsImVuYWJsZSIsImJvZHkiLCJkb2N1bWVudCIsInJlcXVlc3RGdWxsc2NyZWVuIiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbFNjcmVlbiIsImNsb3NlRnVsbHNjcmVlbiIsImNsb3NlRnVsbFNjcmVlbiIsIndlYmtpdENsb3NlRnVsbFNjcmVlbiIsIm1vekNsb3NlRnVsbFNjcmVlbiIsIm1zQ2xvc2VGdWxsU2NyZWVuIiwid2luZG93IiwiQ2xhc3MiLCJjdG9yIiwidHlwZSIsImV4dGVuZGVkIiwiY29uc29sZSIsImVycm9yIiwidGhpcyIsInByb3BlcnRpZXMiLCJwcm9wcyIsImRlZmluZVByb3BlcnRpZXMiLCJzY29wZSIsImZpbmFsIiwiRE9NIiwiZWxlbWVudCIsIkVsZW1lbnQiLCJjb250ZXh0Iiwib24iLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBseSIsImNzcyIsInN0eWxlIiwiYXBwZW5kIiwibm9kZSIsImFwcGVuZENoaWxkIiwiYXBwZW5kVG8iLCJpZCIsImlkTmFtZSIsImNsYXNzIiwiY2xhc3NOYW1lIiwidGV4dCIsImNvbnRlbnQiLCJ0ZXh0Q29udGVudCIsImh0bWwiLCJpbm5lckhUTUwiLCJkb25lIiwic3ViaW5mbyIsImNyZWF0ZUVsZW1lbnQiLCJtYXJnaW5SaWdodCIsImluZm9iYXIiLCJsb2dzIiwiY29udGFpbmVyIiwiZGlzcGxheSIsInNob3dPblJlYWR5Iiwic3RhdHVzIiwiZnBzIiwibG9nIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwic2hvdyIsImhpZGUiLCJ0b2dnbGUiLCJldmVudCIsImluZm8iLCJ3YXJuIiwiX3N1cGVyIiwiY29sb3IiLCJQTEFZR1JPVU5EIiwiUElYSSIsIlNDQUxFX01PREVTIiwiREVGQVVMVCIsIk5FQVJFU1QiLCJERUZBVUxUX1JFTkRFUl9PUFRJT05TIiwiYXV0b1Jlc2l6ZSIsInV0aWxzIiwiX3NhaWRIZWxsbyIsImdldEFzc2V0RW50cnkiLCJBcHBsaWNhdGlvbiIsImNyZWF0ZVJlbmRlcmVyIiwib3B0aW9ucyIsInJlbmRlcmVyIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwic2NhbGUiLCJrZWVwQXNwZWN0IiwiYmluZCIsInZpZXciLCJyZXNpemUiLCJzY2FsZTJkIiwibXNUcmFuc2Zvcm0iLCJ3ZWJraXRUcmFuc2Zvcm0iLCJNb3pUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwidHJhbnNmb3JtIiwidGV4IiwiaW1hZ2UiLCJzaGFyZWQiLCJpbWFnZUluc3QiLCJpbWFnZXMiLCJJbWFnZSIsIlRleHR1cmUiLCJmcm9tSW1hZ2UiLCJzcmMiLCJCYXNlVGV4dHVyZSIsInBhdGgiLCJmb2xkZXIiLCJkZWZhdWx0RXh0ZW5zaW9uIiwidGVzdCIsImtleSIsInNwbGl0IiwicG9wIiwiZXh0IiwidXJsIiwiUG9pbnQiLCJzZXQiLCJ4IiwieSIsIm11bCIsInNjYWxhciIsImRpdiIsIk1hdGgiLCJzcXJ0Iiwibm9ybWFsaXplIiwiUmVjdGFuZ2xlIiwiaW50ZXJzZWN0cyIsInJlY3QiLCJ3aWR0aCIsImhlaWdodCIsIkFjdG9yIiwiU3ByaXRlIiwic2lnbmFscyIsImV2ZW50cyIsImtpbGxlZCIsImVtaXRTaWduYWwiLCJzaWduYWwiLCJzbGljZWRBcmd1bWVudHMiLCJBcnJheSIsInNsaWNlIiwiZm9yRWFjaCIsImJpbmRTaWduYWwiLCJwdXNoIiwidW5iaW5kU2lnbmFsIiwiZmlsdGVyIiwiY2xlYXJTaWduYWwiLCJlbnF1ZXVlRXZlbnQiLCJhcmdzIiwiZGVxdWV1ZUV2ZW50IiwidXBkYXRlIiwiZGVsdGEiLCJjb25jYXQiLCJkZXN0cm95IiwicGFyZW50IiwidG9EZWxldGUiLCJBbmltYXRlZEFjdG9yIiwiYW5pbWF0aW9ucyIsImlkbGUiLCJ0aW1lIiwiZnJhbWVzIiwiZnJhbWVUaWNrIiwiZnJhbWVJbmRleCIsImFuaW1hdGlvbiIsInBsYXkiLCJyZXN0YXJ0IiwibmV4dCIsImZsb29yIiwiQ2FtZXJhIiwiQ29udGFpbmVyIiwidXBkYXRlVHJhbnNmb3JtIiwiX2N4IiwiX2N5IiwicG9zaXRpb24iLCJGb2xsb3dDYW1lcmEiLCJmb2xsb3dlZCIsImZvbGxvdyIsImFjdG9yIiwiaW5kZXhPZiIsInVuZm9sbG93IiwiaW5kZXgiLCJzcGxpY2UiLCJnZXRDZW50ZXIiLCJfeCIsIlBhcmFsbGF4QmFja2dyb3VuZCIsImNhbWVyYSIsImFkZEJhY2tncm91bmQiLCJodGlsZWQiLCJ2dGlsZWQiLCJHYW1lIiwiYXBwIiwiYmciLCJleHRyYXMiLCJUaWxpbmdTcHJpdGUiLCJwYXJhbGxheFNjYWxlIiwicGFyYWxsYXhPZmZzZXQiLCJvZmZzZXQiLCJhZGRDaGlsZCIsImNoaWxkcmVuIiwidGlsZVBvc2l0aW9uIiwidGV4dHVyZSIsIlN0YXRlIiwiYmFja2dyb3VuZCIsImFjdG9ycyIsImZvcmVncm91bmQiLCJzdGVwIiwic29ydCIsInNvcnRBY3RvcnNGdW5jIiwicGVyZm9ybUxheWVyIiwicmVuZGVyIiwibGF5ZXIiLCJhY3Rpb24iLCJhY3RvckZ1bmMiLCJhY3RvcjEiLCJhY3RvcjIiLCJBY3RvcnMiLCJDaGFyYWN0ZXIiLCJhbmNob3IiLCJmcmFtZVNpemUiLCJzdGF0ZSIsIm1vdmVtZW50IiwidmVsb2NpdHkiLCJiYm94IiwiaGl0QmJveCIsImhlYWx0aCIsInN0cmVuZ3RoIiwicHVuY2giLCJraWNrIiwic3BlZWQiLCJ3YWxrIiwianVtcCIsImhpdCIsImNyb3AiLCJ0cmltIiwiY2xvbmUiLCJ1cGRhdGVBbmltRnJhbWUiLCJzaW4iLCJQSSIsInVwZGF0ZVN0YXRlIiwidXBkYXRlUGh5c2ljcyIsIl91cGRhdGVVdnMiLCJ3YWxraW5nIiwianVtcGluZyIsImhpdHRlZCIsImF0dGFja2luZyIsImdldEFjdG9ySGl0Q29sbGlzaW9uIiwiZ2V0Q3VycmVudFNwZWVkIiwibWluIiwibWF4IiwiZ2V0V29ybGRCQm94IiwiZ2V0V29ybGRIaXRCQm94IiwiX2Jib3giLCJhaW5kIiwicHJlbG9hZCIsImxvYWRJbWFnZXMiLCJQbGF5ZXIiLCJpbnB1dCIsImtleW1hcCIsInJpZ2h0IiwibGVmdCIsInVwIiwiZG93biIsIm9uS2V5RXZlbnQiLCJvbkhpdCIsIm9uRGVzdHJveSIsImF0dGFjayIsIm90aGVyIiwicGxheWVyS2lsbGVkIiwiUGxheWVyVG91Y2hTY3JlZW4iLCJ0b3VjaCIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsImRlc3Ryb3lJbmRpY2F0b3IiLCJfc2NyaHciLCJfc2NyaGgiLCJtb3ZlIiwiaW5kaWNhdG9yIiwiRW5lbXkiLCJ0aWNrIiwicGxheWVyIiwiZmluZE5lYXJlc3RQbGF5ZXIiLCJkaXN0YW5jZVRvIiwibW92ZVRvIiwicmFuZG9tIiwicGxheWVycyIsImN1cnJlbnREaXN0YW5jZSIsInBpbmQiLCJwbGF5ZXJEaXN0YW5jZSIsImRpc3RhbmNlIiwiQ2F0IiwiTG9hZGluZ1NjcmVlbiIsImxvZ29SYXciLCJsb2dvIiwicHJvZ3Jlc3NCYXIiLCJHcmFwaGljcyIsImxvYWRlciIsImVudGVyIiwiYmFja2dyb3VuZENvbG9yIiwicHJvZ3Jlc3MiLCJsZWF2ZSIsImFicyIsImciLCJjbGVhciIsImxpbmVTdHlsZSIsImJlZ2luRmlsbCIsImRyYXdSZWN0IiwiZW5kRmlsbCIsIlRleHQiLCJmb250IiwiZmlsbCIsImFsaWduIiwicGxheWdyb3VuZCIsInBhdGhzIiwiYmFzZSIsInNvdW5kcyIsImF0bGFzZXMiLCJwZXJmb3JtYW5jZSIsInRpY2tzIiwiZnJhbWUiLCJXZWJHTFJlbmRlcmVyIiwiR2FtZV9DaGlsZCIsInJlYWR5Iiwic2V0U3RhdGUiLCJNZW51Iiwia2V5ZG93biIsInBvaW50ZXJkb3duIiwiRmF0YWxpdHkiLCJ0aW1lciIsImNvcyIsInNwIiwiQnV0dG9uIiwibXAiLCJmcyIsImNsaWNrIiwic2luZ2xlcGxheWVyIiwiU3RhZ2UiLCJpbnRlcmFjdGl2ZSIsImNoYXJhIiwiY2F0IiwiZW5lbXkiLCJlIiwia2V5dXAiLCJ0b3VjaHN0YXJ0IiwiaWRlbnRpZmllciIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwiaW5kIiwiU3RhZ2VzIiwiXyIsInRvd24iLCJhcHBlYXJhbmNlIiwiZ3JvdW5kIiwicGFyYWxsYXgiLCJ2c2NhbGUiLCJoc2NhbGUiLCJzZWN0aW9ucyIsIndhdmVzIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2JicV9iYnFfYmFzZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2JicV9iYnFfY29uc29sZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2JicV9iYnFfcGl4aV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JicV9iYnFfc3RhdGVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9nYW1lX2FjdG9yc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2dhbWVfY3JlYXR1cmVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfZ2FtZV9zdGFnZXNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19nYW1lX2dhbWVfXyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUksRUFBQUosRUFDQUssR0FBQSxFQUNBSCxXQVVBLE9BTkFKLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0E2REEsT0FqQ0FGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFLLEVBQUEsU0FBQUssR0FBMkMsTUFBQUEsSUFHM0NWLEVBQUFXLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQUMsT0FBQUMsZUFBQVosRUFBQVMsR0FDQUksY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFMLEtBS0FiLEVBQUFtQixFQUFBLFNBQUFmLEdBQ0EsR0FBQVMsR0FBQVQsS0FBQWdCLFdBQ0EsV0FBMkIsTUFBQWhCLEdBQUEsU0FDM0IsV0FBaUMsTUFBQUEsR0FFakMsT0FEQUosR0FBQVcsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBYixFQUFBcUIsRUFBQSxTQUFBQyxFQUFBQyxHQUFzRCxNQUFBVCxRQUFBVSxVQUFBQyxlQUFBbEIsS0FBQWUsRUFBQUMsSUFHdER2QixFQUFBMEIsRUFBQSxVQUdBMUIsSUFBQTJCLEVBQUEsS0RNTSxTQUFTdkIsRUFBUUQsSUU5Q3ZCLFNBQUF5QixHQUNBLFlBS0FBLEdBQUFDLE9BUUFDLE9BQUFoQixPQUFBZ0IsUUFBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFDLEdBQUE1QixFQUFBLEVBQUE2QixFQUFBQyxVQUFBQyxPQUErQy9CLEVBQUE2QixFQUFTN0IsSUFBQSxDQUN4RDJCLEVBQUFHLFVBQUE5QixFQUNBLEtBQUE0QixJQUFBRCxHQUNBRCxFQUFBRSxHQUFBRCxFQUFBQyxLQWNBSSxRQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FaLEVBQUFDLE1BQUFDLE9BQ0FRLEVBQUFkLFVBQUFWLE9BQUEyQixPQUFBRixFQUFBZixZQUNBa0IsWUFBQUosR0FFQUUsSUFTQUcsV0FBQSxTQUFBQyxHQUVBLHNCQUFBQSxNQUFBLENBQ0EsR0FBQUMsR0FBQUMsU0FBQUQsS0FDQUUsRUFBQUYsRUFBQUcsbUJBQ0FILEVBQUFJLHlCQUNBSixFQUFBSyxzQkFDQUwsRUFBQU0sbUJBR0FKLElBQ0FBLEVBQUF4QyxLQUFBc0MsT0FJQSxDQUNBLEdBQUFBLEdBQUFDLFNBQUFELEtBQ0FPLEVBQUFQLEVBQUFRLGlCQUNBUixFQUFBUyx1QkFDQVQsRUFBQVUsb0JBQ0FWLEVBQUFXLGlCQUdBSixJQUNBQSxFQUFBN0MsS0FBQXNDLE1Ba0NBWSxPQUFBQyxNQUFBOUIsRUFBQThCLE1BQUEsU0FBQUMsR0FvRUEsTUFuRUEsbUJBQUFBLEdBQUFDLE9BRUFELEVBQUFDLEtBQUFELEVBR0FBLEVBQUFuQyxXQUNBa0IsWUFBQWlCLElBWUFBLEVBQUF0QixRQUFBLFNBQUF3QixHQUNBLHdCQUFBQSxJQUNBQyxRQUFBQyxNQUFBLG9EQUNBQyxPQUlBQSxLQUFBSixLQUFBcEMsVUFBQVYsT0FBQTJCLE9BQUFvQixFQUFBckMsV0FDQXdDLEtBQUFKLEtBQUFwQyxVQUFBa0IsWUFBQXNCLEtBQUFKLEtBQ0FJLE9BU0FMLEVBQUFNLFdBQUEsU0FBQUMsR0FFQSxNQURBcEQsUUFBQXFELGlCQUFBSCxLQUFBSixLQUFBcEMsVUFBQTBDLEdBQ0FGLE1BU0FMLEVBQUFTLE1BQUEsU0FBQUEsR0FFQSxNQURBeEMsR0FBQUMsTUFBQUMsT0FBQWtDLEtBQUFKLEtBQUFwQyxVQUFBNEMsR0FDQUosTUFTQUwsRUFBQVUsTUFBQSxXQUtBLGFBSkFMLE1BQUFKLEtBQUFRLFlBQ0FKLE1BQUFKLEtBQUFLLGlCQUNBRCxNQUFBSixLQUFBdkIsY0FDQTJCLE1BQUFKLFVBQ0FJLE1BSUFMLEdBU0EvQixFQUFBMEMsSUFBQSxTQUFBQyxHQUNBLFVBQUEzQyxHQUFBMEMsSUFBQUUsUUFBQUQsSUFRQTNDLEVBQUEwQyxJQUFBRSxRQUFBLFNBQUFDLEdBQ0FULEtBQUFTLFdBSUE3QyxFQUFBMEMsSUFBQUUsUUFBQWhELFdBSUFrQixZQUFBZCxFQUFBMEMsSUFTQUksR0FBQSxTQUFBZCxFQUFBZSxHQVNBLE1BUkFYLE1BQUFTLFFBQUFHLGlCQUNBWixLQUFBUyxRQUFBRyxpQkFBQUMsTUFBQWIsS0FBQVMsUUFBQXRDLFdBSUEyQixRQUFBQyxNQUFBLHlDQUdBQyxNQVNBYyxJQUFBLFNBQUFaLEdBRUEsTUFEQXRDLEdBQUFDLE1BQUFDLE9BQUFrQyxLQUFBUyxRQUFBTSxNQUFBYixHQUNBRixNQVNBZ0IsT0FBQSxTQUFBQyxHQUNBLE9BQUE1RSxLQUFBOEIsV0FDQThDLEVBQUE5QyxVQUFBOUIsR0FDQTJELEtBQUFTLFFBQUFTLFlBQ0FELFlBQUFyRCxHQUFBMEMsSUFBQUUsUUFDQVMsRUFBQVIsUUFBQVEsRUFHQSxPQUFBakIsT0FTQW1CLFNBQUEsU0FBQXBELEdBT0EsTUFOQUEsYUFBQUgsR0FBQTBDLElBQUFFLFFBQ0F6QyxFQUFBMEMsUUFBQVMsWUFBQWxCLEtBQUFTLFNBR0ExQyxFQUFBbUQsWUFBQWxCLEtBQUFTLFNBRUFULE1BU0FvQixHQUFBLFNBQUFDLEdBRUEsTUFEQXJCLE1BQUFTLFFBQUFXLEdBQUFDLEVBQ0FyQixNQVNBc0IsTUFBQSxTQUFBQyxHQUVBLE1BREF2QixNQUFBUyxRQUFBYyxZQUNBdkIsTUFTQXdCLEtBQUEsU0FBQUMsR0FFQSxNQURBekIsTUFBQVMsUUFBQWlCLFlBQUFELEVBQ0F6QixNQVNBMkIsS0FBQSxTQUFBRixHQUVBLE1BREF6QixNQUFBUyxRQUFBbUIsVUFBQUgsRUFDQXpCLE1BVUE2QixLQUFBLFNBQUE5RCxHQUlBLE1BSEEsbUJBQUFBLElBQ0FpQyxLQUFBbUIsU0FBQXBELEdBRUFpQyxLQUFBUyxXQUdDaEIsT0FBQTdCLElBQUE2QixPQUFBN0IsVUY0RUssU0FBU3hCLEVBQVFELElHcFp2QixTQUFBeUIsR0FDQSxZQUtBQSxHQUFBa0MsUUFBQSxXQUVBLEdBQUFnQyxJQUNBbEUsRUFBQTBDLElBQUF4QixTQUFBaUQsY0FBQSxTQUNBakIsS0FBVWtCLFlBQUEsUUFDVnZCLFFBQ0E3QyxFQUFBMEMsSUFBQXhCLFNBQUFpRCxjQUFBLFNBQ0FQLEtBQUEsT0FDQWYsU0FJQXdCLEVBQUFyRSxFQUFBMEMsSUFBQXhCLFNBQUFpRCxjQUFBLFFBQ0FmLE9BQUFjLEVBQUEsR0FBQUEsRUFBQSxJQUNBckIsUUFHQXlCLEVBQUF0RSxFQUFBMEMsSUFBQXhCLFNBQUFpRCxjQUFBLE9BQ0F0QixRQUdBMEIsRUFBQXZFLEVBQUEwQyxJQUFBeEIsU0FBQWlELGNBQUEsUUFDQVgsR0FBQSxlQUNBTixLQUFTc0IsUUFBQSxTQUNUcEIsT0FBQWlCLEVBQUFDLEdBQ0FMLEtBQUEvQyxTQUFBRCxLQUdBLFFBSUF3RCxhQUFBLEVBUUFDLE9BQUEsU0FBQWIsR0FFQSxNQURBSyxHQUFBLEdBQUFKLFlBQUFELEVBQ0F6QixNQVNBdUMsSUFBQSxTQUFBZCxHQUVBLE1BREFLLEdBQUEsR0FBQUosWUFBQUQsRUFDQXpCLE1BU0F3QyxJQUFBLFNBQUFmLEdBT0EsTUFMQVMsR0FBQU8sV0FBQXJFLE9BQUEsR0FDQThELEVBQUFRLFlBQUFSLEVBQUFPLFdBQUEsSUFJQTdFLEVBQUEwQyxJQUFBeEIsU0FBQWlELGNBQUEsT0FDQVAsS0FBQUMsR0FBQUksS0FBQUssSUFRQVMsS0FBQSxXQUVBLE1BREFSLEdBQUFwQixNQUFBcUIsUUFBQSxRQUNBcEMsTUFRQTRDLEtBQUEsV0FFQSxNQURBVCxHQUFBcEIsTUFBQXFCLFFBQUEsT0FDQXBDLE1BUUE2QyxPQUFBLFdBQ0EsZUFBQVYsRUFBQXBCLE1BQUFxQixRQUNBcEMsS0FBQTJDLE9BQUEzQyxLQUFBNEMsWUFRQTlELFNBQUE4QixpQkFBQSw0QkFBQWtDLEdBQ0FsRixFQUFBa0MsUUFBQXVDLGFBQ0F6RSxFQUFBa0MsUUFBQTZDLFNBRUUsR0FLRmxELE9BQUFLLFVBQ0FMLE9BQUFLLFNBQ0EwQyxJQUFBLGFBQ0FPLEtBQUEsYUFDQUMsS0FBQSxhQUNBakQsTUFBQSxjQU9BLElBQUFrRCxJQUNBVCxJQUFBL0MsT0FBQUssUUFBQTBDLElBQ0FPLEtBQUF0RCxPQUFBSyxRQUFBaUQsS0FDQUMsS0FBQXZELE9BQUFLLFFBQUFrRCxLQUNBakQsTUFBQU4sT0FBQUssUUFBQUMsTUFNQW5DLEdBQUFDLE1BQUFDLE9BQUEyQixPQUFBSyxTQU9BMEMsSUFBQSxTQUFBOUYsR0FDQXVHLEVBQUFULElBQUEzQixNQUFBYixLQUFBN0IsV0FDQVAsRUFBQWtDLFFBQUEwQyxJQUFBLEdBQUE5RixJQVNBcUcsS0FBQSxTQUFBckcsR0FDQXVHLEVBQUFGLEtBQUFsQyxNQUFBYixLQUFBN0IsV0FDQVAsRUFBQWtDLFFBQUEwQyxJQUFBLEdBQUE5RixHQUFBcUUsTUFBQW1DLE1BQUEsV0FTQUYsS0FBQSxTQUFBdEcsR0FDQXVHLEVBQUFELEtBQUFuQyxNQUFBYixLQUFBN0IsV0FDQVAsRUFBQWtDLFFBQUEwQyxJQUFBLEdBQUE5RixHQUFBcUUsTUFBQW1DLE1BQUEsV0FTQW5ELE1BQUEsU0FBQXJELEdBQ0F1RyxFQUFBbEQsTUFBQWMsTUFBQWIsS0FBQTdCLFdBQ0FQLEVBQUFrQyxRQUFBMEMsSUFBQSxHQUFBOUYsR0FBQXFFLE1BQUFtQyxNQUFBLGNBR0N6RCxPQUFBN0IsSUFBQTZCLE9BQUE3QixVSDJhSyxTQUFTeEIsRUFBUUQsSUl4bUJ2QixTQUFBeUIsRUFBQXVGLEVBQUFDLEdBQ0EsWUFHQUEsR0FBQUMsWUFBQUMsUUFBQUYsRUFBQUMsWUFBQUUsUUFHQTNGLEVBQUFDLE1BQUFDLE9BQUFzRixFQUFBSSx3QkFFQUMsWUFBQSxJQUlBTCxFQUFBTSxNQUFBQyxZQUFBLENBS0EsSUFBQVYsSUFDQVcsY0FBQVQsRUFBQVUsWUFBQXJHLFVBQUFvRyxjQU1BaEcsR0FBQUMsTUFBQUMsT0FBQXFGLEVBQUFVLFlBQUFyRyxXQVFBc0csZUFBQSxTQUFBQyxHQUVBakUsUUFBQTBDLElBQUEsNkJBQ0F4QyxLQUFBZ0UsU0FBQVosRUFBQWEsbUJBQ0F4RSxPQUFBeUUsV0FDQXpFLE9BQUEwRSxZQUNBSixHQUlBLGdCQUFBL0QsTUFBQW9FLFFBRUEzRSxPQUFBbUIsaUJBQ0EsU0FBQVosS0FBQXFFLFdBQUFDLEtBQUF0RSxPQUFBLEdBRUFBLEtBQUFxRSxhQUlBLElBQUFsQyxHQUFBbkMsS0FBQW1DLFdBQUFyRCxTQUFBRCxJQUNBc0QsR0FBQWpCLFlBQUFsQixLQUFBZ0UsU0FBQU8sT0FNQUYsV0FBQSxXQUVBNUUsT0FBQXlFLFdBQUEsSUFDQWxFLEtBQUFvRSxNQUFBLEVBR0FwRSxLQUFBb0UsTUFBQSxFQUlBcEUsS0FBQWdFLFNBQUFRLE9BQ0EvRSxPQUFBeUUsV0FBQWxFLEtBQUFvRSxNQUNBM0UsT0FBQTBFLFlBQUFuRSxLQUFBb0UsTUFJQSxJQUFBSyxHQUFBLFNBQUF6RSxLQUFBb0UsTUFBQSxJQUFBcEUsS0FBQW9FLE1BQUEsR0FDQXBFLE1BQUFnRSxTQUFBTyxLQUFBeEQsTUFBQTJELFlBQUFELEVBQ0F6RSxLQUFBZ0UsU0FBQU8sS0FBQXhELE1BQUE0RCxnQkFBQUYsRUFDQXpFLEtBQUFnRSxTQUFBTyxLQUFBeEQsTUFBQTZELGFBQUFILEVBQ0F6RSxLQUFBZ0UsU0FBQU8sS0FBQXhELE1BQUE4RCxXQUFBSixFQUNBekUsS0FBQWdFLFNBQUFPLEtBQUF4RCxNQUFBK0QsVUFBQUwsR0FXQU0sSUFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUFGLENBSUEsT0FIQSxnQkFBQUEsS0FDQUUsRUFBQWxGLEtBQUFtRixPQUFBSCxJQUVBRSxZQUFBRSxPQUtBLG1CQUFBSCxTQUFBLEVBQ0E3QixFQUFBaUMsUUFBQUMsVUFBQUosRUFBQUssS0FHQSxHQUFBbkMsR0FBQWlDLFFBQ0FqQyxFQUFBb0MsWUFBQUYsVUFBQUosRUFBQUssT0FUQXpGLFFBQUFDLE1BQUEsVUFBQWlGLEVBQUEsbUJBQUFFLEdBQ0EsT0FxQkF0QixjQUFBLFNBQUE2QixFQUFBQyxFQUFBQyxHQUVBLHVCQUFBQyxLQUFBSCxHQUFBLENBQ0EsR0FBQUksR0FBQUosRUFBQUssTUFBQSxLQUFBQyxNQUFBRCxNQUFBLFFBQ0FFLEVBQUFQLEVBQUFLLE1BQUEsS0FBQUMsS0FFQSxRQUNBRixNQUNBSSxJQUFBUixFQUNBQSxPQUNBTyxPQUtBLE1BQUEvQyxHQUFBVyxjQUFBL0MsTUFBQWIsS0FBQTdCLGNBT0FQLEVBQUFDLE1BQUFDLE9BQUFzRixFQUFBOEMsTUFBQTFJLFdBS0EySSxJQUFBLFNBQUFDLEVBQUFDLEdBR0EsTUFGQXJHLE1BQUFvRyxLQUFBLEVBQ0FwRyxLQUFBcUcsS0FBQSxFQUNBckcsTUFTQXNHLElBQUEsU0FBQUMsR0FHQSxNQUZBdkcsTUFBQW9HLEVBQUFwRyxLQUFBb0csRUFBQUcsR0FBQSxFQUNBdkcsS0FBQXFHLEVBQUFyRyxLQUFBcUcsRUFBQUUsR0FBQSxFQUNBdkcsTUFTQXdHLElBQUEsU0FBQUQsR0FHQSxNQUZBdkcsTUFBQW9HLEVBQUFwRyxLQUFBb0csRUFBQUcsR0FBQSxFQUNBdkcsS0FBQXFHLEVBQUFyRyxLQUFBcUcsRUFBQUUsR0FBQSxFQUNBdkcsTUFRQTVCLE9BQUEsV0FDQSxNQUFBcUksTUFBQUMsS0FDQTFHLEtBQUFvRyxFQUFBcEcsS0FBQW9HLEVBQ0FwRyxLQUFBcUcsRUFBQXJHLEtBQUFxRyxJQVVBTSxVQUFBLFdBQ0EsTUFBQTNHLE1BQUF3RyxJQUFBeEcsS0FBQTVCLGFBT0FSLEVBQUFDLE1BQUFDLE9BQUFzRixFQUFBd0QsVUFBQXBKLFdBT0FxSixXQUFBLFNBQUFDLEdBQ0EsTUFDQTlHLE1BQUFvRyxFQUFBcEcsS0FBQStHLE9BQUFELEVBQUFWLEdBQUFwRyxLQUFBb0csR0FBQVUsRUFBQVYsRUFBQVUsRUFBQUMsT0FDQS9HLEtBQUFxRyxFQUFBckcsS0FBQWdILFFBQUFGLEVBQUFULEdBQUFyRyxLQUFBcUcsR0FBQVMsRUFBQVQsRUFBQVMsRUFBQUUsV0FJQ3ZILE9BQUE3QixJQUFBNkIsT0FBQTdCLFFBQStCdUYsV0FBQUMsT0orbkIxQixTQUFTaEgsRUFBUUQsSUt2MUJ2QixTQUFBeUIsRUFBQXdGLEdBQ0EsWUFLQXhGLEdBQUFxSixNQUFBLFdBRUE3RCxFQUFBOEQsT0FBQXJHLE1BQUFiLEtBQUE3QixXQUdBNkIsS0FBQW1ILFdBR0FuSCxLQUFBb0gsVUFHQXBILEtBQUFxSCxRQUFBLEdBSUF6SixFQUFBQyxNQUFBUSxRQUFBVCxFQUFBcUosTUFBQTdELEVBQUE4RCxRQUlBeEksWUFBQWQsRUFBQXFKLE1BYUFLLFdBQUEsU0FBQUMsR0FDQSxHQUFBSixHQUFBbkgsS0FBQW1ILFFBQUFJLEdBQ0FDLEVBQUFDLE1BQUFqSyxVQUFBa0ssTUFBQW5MLEtBQUE0QixVQUFBLEVBTUEsT0FMQSxtQkFBQWdKLE1BQUEvSSxPQUFBLEdBQ0ErSSxFQUFBUSxRQUFBLFNBQUFoSyxHQUNBQSxFQUFBZ0QsU0FBQUUsTUFBQWxELEVBQUE4QyxRQUFBK0csS0FHQXhILE1BVUE0SCxXQUFBLFNBQUFMLEVBQUE1RyxFQUFBRixHQU1BLE1BTEFULE1BQUFtSCxRQUFBSSxHQUFBdkgsS0FBQW1ILFFBQUFJLE9BQ0F2SCxLQUFBbUgsUUFBQUksR0FBQU0sTUFDQWxILFdBQ0FGLFdBQUFULE9BRUFBLE1BU0E4SCxhQUFBLFNBQUFQLEVBQUE1RyxHQUNBLEdBQUF3RyxHQUFBbkgsS0FBQW1ILFFBQUFJLEVBTUEsT0FMQSxtQkFBQUosTUFBQS9JLE9BQUEsSUFDQTRCLEtBQUFtSCxRQUFBSSxHQUFBSixFQUFBWSxPQUFBLFNBQUFwSyxHQUNBLFFBQUFBLEVBQUFnRCxpQkFHQVgsTUFTQWdJLFlBQUEsU0FBQVQsR0FFQSxhQURBdkgsTUFBQW1ILFFBQUFJLEdBQ0F2SCxNQVNBaUksYUFBQSxTQUFBbkYsR0FLQSxNQUpBOUMsTUFBQW9ILE9BQUFTLE1BQ0FqTCxLQUFBa0csRUFDQW9GLEtBQUFULE1BQUFqSyxVQUFBa0ssTUFBQW5MLEtBQUE0QixVQUFBLEtBRUE2QixNQVFBbUksYUFBQSxXQUNBLE9BQUFuSSxLQUFBb0gsT0FBQWhKLE9BQ0EsUUFHQSxJQUFBMEUsR0FBQTlDLEtBQUFvSCxPQUFBLEVBS0EsT0FIQXBILE1BQUFvSCxPQUFBcEgsS0FBQW9ILE9BQUFNLE1BQUEsR0FHQTVFLEdBUUFzRixPQUFBLFNBQUFDLEdBRUEsSUFEQSxHQUFBdkYsSUFDQUEsRUFBQTlDLEtBQUFtSSxtQkFBQSxHQUVBbkksS0FBQXNILFdBQUF6RyxNQUFBYixLQUNBeUgsTUFBQWpLLFVBQUE4SyxPQUFBekgsT0FBQWlDLEVBQUFsRyxNQUFBa0csRUFBQW9GLFFBUUFLLFFBQUEsV0FDQXZJLEtBQUF3SSxRQUFBeEksS0FBQXdJLE9BQUFDLFdBQ0F6SSxLQUFBd0ksT0FBQUMsU0FBQVosS0FBQTdILE1BQ0FBLEtBQUFxSCxRQUFBLE1BUUF6SixFQUFBOEssY0FBQSxXQUVBOUssRUFBQXFKLE1BQUFwRyxNQUFBYixLQUFBN0IsWUFJQVAsRUFBQUMsTUFBQVEsUUFBQVQsRUFBQThLLGNBQUE5SyxFQUFBcUosT0FJQTBCLFlBQ0FDLE1BQ0FDLEtBQUEsRUFDQUMsUUFBQSxLQU9BQyxVQUFBLEVBS0FDLFdBQUEsRUFLQUMsVUFBQSxPQUtBQyxLQUFBLFNBQUFELEVBQUFFLElBQ0FGLElBQUFqSixLQUFBaUosV0FBQUUsS0FLQW5KLEtBQUErSSxVQUFBL0ksS0FBQWdKLFdBQUEsRUFHQWhKLEtBQUFpSixZQUdBakosS0FBQXNILFdBQUEsaUJBQUF0SCxLQUFBaUosYUFNQWIsT0FBQSxTQUFBQyxHQUVBekssRUFBQXFKLE1BQUF6SixVQUFBNEssT0FBQTdMLEtBQUF5RCxLQUFBcUksRUFHQSxJQUFBWSxHQUFBakosS0FBQWlKLFNBQ0EsaUJBQUFBLEtBQ0FBLEVBQUFqSixLQUFBMkksV0FBQU0sSUFJQSxnQkFBQUEsS0FLQWpKLEtBQUErSSxXQUFBVixFQUFBWSxFQUFBSCxPQUFBMUssT0FBQTZLLEVBQUFKLEtBQ0E3SSxLQUFBK0ksV0FBQUUsRUFBQUgsT0FBQTFLLFNBQ0E0QixLQUFBK0ksV0FBQUUsRUFBQUgsT0FBQTFLLE9BR0E0QixLQUFBc0gsV0FBQSxlQUFBdEgsS0FBQWlKLFdBR0FBLEVBQUFHLE1BQ0FwSixLQUFBa0osS0FBQUQsRUFBQUcsT0FLQXBKLEtBQUFnSixXQUFBQyxFQUFBSCxPQUFBckMsS0FBQTRDLE1BQUFySixLQUFBK0ksZ0JBT0FuTCxFQUFBMEwsT0FBQSxTQUFBdEYsR0FFQVosRUFBQW1HLFVBQUFoTixLQUFBeUQsTUFHQUEsS0FBQWdFLFlBSUFwRyxFQUFBQyxNQUFBUSxRQUFBVCxFQUFBMEwsT0FBQWxHLEVBQUFtRyxXQUlBQyxnQkFBQSxXQUNBLEdBQUFDLEdBQUF6SixLQUFBZ0UsU0FBQStDLE1BQUEsRUFDQTJDLEVBQUExSixLQUFBZ0UsU0FBQWdELE9BQUEsQ0FHQWhILE1BQUEySixTQUFBdkQsR0FBQXFELEVBQ0F6SixLQUFBMkosU0FBQXRELEdBQUFxRCxFQUdBdEcsRUFBQW1HLFVBQUEvTCxVQUFBZ00sZ0JBQUFqTixLQUFBeUQsTUFHQUEsS0FBQTJKLFNBQUF2RCxHQUFBcUQsRUFDQXpKLEtBQUEySixTQUFBdEQsR0FBQXFELEtBT0E5TCxFQUFBZ00sYUFBQSxTQUFBNUYsRUFBQW9DLEVBQUFDLEdBRUF6SSxFQUFBMEwsT0FBQS9NLEtBQUF5RCxLQUFBZ0UsR0FHQWhFLEtBQUEySixTQUFBdkQsS0FBQSxFQUNBcEcsS0FBQTJKLFNBQUF0RCxLQUFBLEdBSUF6SSxFQUFBQyxNQUFBUSxRQUFBVCxFQUFBZ00sYUFBQWhNLEVBQUEwTCxRQUlBTyxZQU9BQyxPQUFBLFNBQUFDLEdBQ0EvSixLQUFBNkosU0FBQUcsUUFBQUQsTUFBQSxHQUNBL0osS0FBQTZKLFNBQUFoQyxLQUFBa0MsSUFTQUUsU0FBQSxTQUFBRixHQUNBLEdBQUFHLEdBQUFsSyxLQUFBNkosU0FBQUcsUUFBQUQsRUFDQUcsTUFBQSxHQUNBbEssS0FBQTZKLFNBQUFNLE9BQUFELEVBQUEsSUFPQTlCLE9BQUEsU0FBQUMsR0FFQXJJLEtBQUE2SixTQUFBekwsT0FBQSxJQUVBNEIsS0FBQTJKLFNBQUF2RCxFQUFBcEcsS0FBQW9LLGNBT0FBLFVBQUEsV0FFQSxHQUFBcEssS0FBQTZKLFNBQUF6TCxPQUFBLEdBRUEsR0FBQWlNLEdBQUEsQ0FDQSxRQUFBaE8sS0FBQTJELE1BQUE2SixTQUFBLENBQ0EsR0FBQUUsR0FBQS9KLEtBQUE2SixTQUFBeE4sRUFDQWdPLElBQUFOLEVBQUFKLFNBQUF2RCxFQUlBLE1BQUFpRSxHQUFBckssS0FBQTZKLFNBQUF6TCxPQUdBLFlBT0FSLEVBQUEwTSxtQkFBQSxTQUFBQyxHQUVBbkgsRUFBQW1HLFVBQUFoTixLQUFBeUQsTUFHQUEsS0FBQXVLLFVBSUEzTSxFQUFBQyxNQUFBUSxRQUFBVCxFQUFBME0sbUJBQUFsSCxFQUFBbUcsV0FRQWlCLGNBQUEsU0FBQXhGLEVBQUFqQixHQUNBQSxFQUFBbkcsRUFBQUMsTUFBQUMsUUFDQTJNLFFBQUEsRUFDQUMsUUFBQSxHQUNJM0csR0FHSixnQkFBQWlCLEtBQ0FBLEVBQUEyRixLQUFBQyxJQUFBekYsT0FBQUgsR0FJQSxJQUFBNkYsR0FBQSxHQUFBekgsR0FBQTBILE9BQUFDLGFBQ0FKLEtBQUFDLElBQUE3RixJQUFBQyxHQUNBakIsRUFBQTBHLE9BQUF6SyxLQUFBdUssT0FBQXZHLFNBQUErQyxNQUFBL0IsRUFBQStCLE1BQ0FoRCxFQUFBMkcsT0FBQTFLLEtBQUF1SyxPQUFBdkcsU0FBQWdELE9BQUFoQyxFQUFBZ0MsT0FZQSxPQVJBNkQsR0FBQUcsY0FBQWpILEVBQUFLLE9BQUEsR0FBQWhCLEdBQUE4QyxNQUFBLEtBQ0EyRSxFQUFBSSxlQUFBbEgsRUFBQW1ILFFBQUEsR0FBQTlILEdBQUE4QyxNQUFBLEtBR0EyRSxFQUFBSixPQUFBMUcsRUFBQTBHLE9BQ0FJLEVBQUFILE9BQUEzRyxFQUFBMkcsT0FHQTFLLEtBQUFtTCxTQUFBTixJQUdBckIsZ0JBQUEsU0FBQW5CLEdBQ0EsR0FBQWtDLEdBQUF2SyxLQUFBdUssTUFDQXZLLE1BQUFvTCxTQUFBekQsUUFBQSxTQUFBa0QsR0FFQUEsRUFBQUosUUFFQUksRUFBQTlELE1BQUF3RCxFQUFBdkcsU0FBQStDLE1BRUE4RCxFQUFBUSxhQUFBakYsRUFBQXlFLEVBQUE5RCxNQUFBLEVBQUE4RCxFQUFBUyxRQUFBdkUsTUFBQSxFQUVBOEQsRUFBQVEsYUFBQWpGLEdBQUF5RSxFQUFBSSxlQUFBN0UsRUFFQXlFLEVBQUFRLGFBQUFqRixHQUFBbUUsRUFBQW5FLEVBQUF5RSxFQUFBRyxjQUFBNUUsSUFJQXlFLEVBQUFsQixTQUFBdkQsRUFBQXlFLEVBQUFJLGVBQUE3RSxFQUFBbUUsRUFBQXZHLFNBQUErQyxNQUFBLEVBRUE4RCxFQUFBbEIsU0FBQXZELEdBQUFtRSxFQUFBbkUsRUFBQXlFLEVBQUFHLGNBQUE1RSxHQUlBeUUsRUFBQUgsUUFFQUcsRUFBQTdELE9BQUF1RCxFQUFBdkcsU0FBQWdELE9BRUE2RCxFQUFBUSxhQUFBaEYsRUFBQXdFLEVBQUE3RCxPQUFBLEVBQUE2RCxFQUFBUyxRQUFBdEUsT0FBQSxFQUVBNkQsRUFBQVEsYUFBQWhGLEdBQUF3RSxFQUFBSSxlQUFBNUUsRUFFQXdFLEVBQUFRLGFBQUFoRixHQUFBa0UsRUFBQWxFLEVBQUF3RSxFQUFBRyxjQUFBM0UsSUFJQXdFLEVBQUFsQixTQUFBdEQsRUFBQXdFLEVBQUFJLGVBQUE1RSxFQUFBa0UsRUFBQXZHLFNBQUFnRCxPQUFBLEVBRUE2RCxFQUFBbEIsU0FBQXRELEdBQUFrRSxFQUFBbEUsRUFBQXdFLEVBQUFHLGNBQUEzRSxLQUtBakQsRUFBQW1HLFVBQUEvTCxVQUFBZ00sZ0JBQUFqTixLQUFBeUQsU0FPQXBDLEVBQUEyTixNQUFBLFdBRUFuSSxFQUFBbUcsVUFBQWhOLEtBQUF5RCxPQUlBcEMsRUFBQUMsTUFBQVEsUUFBQVQsRUFBQTJOLE1BQUFuSSxFQUFBbUcsV0FJQTdLLFlBQUFkLEVBQUEyTixNQUtBOU0sT0FBQSxXQUVBdUIsS0FBQXVLLE9BQUEsR0FBQTNNLEdBQUFnTSxhQUFBNUosS0FBQTRLLElBQUE1RyxVQUdBaEUsS0FBQXdMLFdBQUEsR0FBQTVOLEdBQUEwTSxtQkFBQXRLLEtBQUF1SyxRQUdBdkssS0FBQXlMLE9BQUEsR0FBQXJJLEdBQUFtRyxVQUNBdkosS0FBQXlMLE9BQUFoRCxZQUNBekksS0FBQXVLLE9BQUFZLFNBQUFuTCxLQUFBeUwsUUFHQXpMLEtBQUEwTCxXQUFBLEdBQUF0SSxHQUFBbUcsVUFHQXZKLEtBQUFtTCxTQUFBbkwsS0FBQXdMLFlBQ0F4TCxLQUFBbUwsU0FBQW5MLEtBQUF1SyxRQUNBdkssS0FBQW1MLFNBQUFuTCxLQUFBMEwsYUFRQUMsS0FBQSxTQUFBdEQsR0FFQXJJLEtBQUF5TCxPQUFBaEQsU0FBQWQsUUFBQSxTQUFBb0MsR0FDQUEsSUFDQUEsRUFBQXpDLFdBQUEsV0FDQXRILEtBQUF5TCxPQUFBL0ksWUFBQXFILEtBRUkvSixNQUdKQSxLQUFBeUwsT0FBQUwsU0FBQVEsS0FBQTVMLEtBQUE2TCxnQkFHQTdMLEtBQUE4TCxhQUFBOUwsS0FBQXlMLE9BQUEsU0FBQXBELEVBQUFySSxLQUFBNEssS0FHQTVLLEtBQUF1SyxPQUFBbkMsT0FBQUMsSUFNQTBELE9BQUEsV0FFQS9MLEtBQUE0SyxJQUFBNUcsU0FBQStILE9BQUEvTCxPQVVBOEwsYUFBQSxTQUFBRSxFQUFBQyxHQUNBLEdBQUF6RSxHQUFBQyxNQUFBakssVUFBQWtLLE1BQUFuTCxLQUFBNEIsVUFBQSxFQU9BLE9BTkE2TixHQUFBWixTQUFBekQsUUFBQSxTQUFBb0MsR0FDQSxHQUFBbUMsR0FBQW5DLEVBQUFrQyxFQUNBLG1CQUFBQyxJQUNBQSxFQUFBckwsTUFBQWtKLEVBQUF2QyxJQUVJeEgsTUFDSkEsTUFXQTZMLGVBQUEsU0FBQU0sRUFBQUMsR0FDQSxNQUFBRCxHQUFBeEMsU0FBQXRELEVBQUErRixFQUFBekMsU0FBQXRELEdBQ0EsRUFFQThGLEVBQUF4QyxTQUFBdEQsRUFBQStGLEVBQUF6QyxTQUFBdEQsRUFDQSxFQUdBLE1BSUM1RyxPQUFBN0IsSUFBQTZCLE9BQUE3QixRQUErQndGLE9MKzJCMUIsU0FBU2hILEVBQVFELElNcjVDdkIsU0FBQXdPLEVBQUEvTSxFQUFBd0YsR0FDQSxZQUtBdUgsR0FBQTBCLFVBS0ExQixFQUFBMEIsT0FBQUMsVUFBQTFPLEVBQUE4QixNQUFBLFNBQUFzRixHQUVBcEgsRUFBQThLLGNBQUFuTSxLQUFBeUQsTUFHQSxnQkFBQWdGLEtBQ0FBLEVBQUEyRixFQUFBQyxJQUFBekYsT0FBQUgsSUFJQWhGLEtBQUFzTCxRQUFBWCxFQUFBQyxJQUFBN0YsSUFBQSxVQUNBL0UsS0FBQXVNLE9BQUFuRyxFQUFBcEcsS0FBQXVNLE9BQUFsRyxFQUFBLEdBR0FyRyxLQUFBbkIsS0FBQSxHQUFBdUUsR0FBQThELE9BQUF5RCxFQUFBQyxJQUFBN0YsSUFBQUMsR0FBQSxJQUNBaEYsS0FBQW5CLEtBQUEwTixPQUFBbkcsRUFBQSxHQUNBcEcsS0FBQW5CLEtBQUEwTixPQUFBbEcsRUFBQSxFQUtBckcsS0FBQW1MLFNBQUFuTCxLQUFBbkIsTUFHQW1CLEtBQUF3TSxVQUFBLEdBQUFwSixHQUFBd0QsVUFBQSxXQUdBNUcsS0FBQXlNLE9BQ0FDLFNBQUEsR0FBQXRKLEdBQUE4QyxPQUlBbEcsS0FBQTJNLFNBQUEsR0FBQXZKLEdBQUE4QyxNQUdBbEcsS0FBQTRNLEtBQUEsR0FBQXhKLEdBQUF3RCxVQUFBLFVBQ0E1RyxLQUFBNk0sUUFBQSxHQUFBekosR0FBQXdELFVBQUEsVUFHQTVHLEtBQUE4TSxPQUFBLElBQ0E5TSxLQUFBK00sVUFDQUMsTUFBQSxHQUNBQyxLQUFBLElBRUFqTixLQUFBa04sT0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUwsTUFBQSxHQUNBQyxLQUFBLE1BR0E1TyxRQUFBVCxFQUFBOEssZUFDQXpJLFlBSUF1TSxXQUNBdFAsSUFBQSxXQUNBLE1BQUE4QyxNQUFBbkIsS0FBQXlNLFFBQUFnQyxNQUVBbkgsSUFBQSxTQUFBekosR0FDQXNELEtBQUFuQixLQUFBeU0sUUFBQWlDLEtBQUE3USxFQUFBOFEsUUFDQXhOLEtBQUFuQixLQUFBeU0sUUFBQWdDLEtBQUE1USxFQUFBOFEsWUFJQXBOLE9BSUF1SSxZQUNBQyxNQUNBQyxLQUFBLEVBQ0FDLFFBQUEsSUFFQXFFLE1BQ0F0RSxLQUFBLElBQ0FDLFFBQUEsVUFFQXNFLE1BQ0F2RSxLQUFBLEdBQ0FDLFFBQUEsS0FDQU0sS0FBQSxRQUVBaUUsS0FDQXhFLEtBQUEsSUFDQUMsUUFBQSxHQUNBTSxLQUFBLFFBRUE0RCxPQUNBbkUsS0FBQSxHQUNBQyxRQUFBLFdBQ0FNLEtBQUEsUUFFQTZELE1BQ0FwRSxLQUFBLEdBQ0FDLFFBQUEsZUFDQU0sS0FBQSxTQU9BaEIsT0FBQSxTQUFBQyxHQUVBekssRUFBQThLLGNBQUFsTCxVQUFBNEssT0FBQTdMLEtBQUF5RCxLQUFBcUksR0FHQXJJLEtBQUF5TixrQkFHQSxTQUFBek4sS0FBQWlKLFVBQ0FqSixLQUFBbkIsS0FBQXdILEVBQUEsSUFBQUksS0FBQWlILElBQUExTixLQUFBK0ksVUFBQSxFQUFBdEMsS0FBQWtILElBRUEsUUFBQTNOLEtBQUFpSixVQUNBakosS0FBQW5CLEtBQUF3SCxFQUFBLEdBQUFJLEtBQUFpSCxJQUFBMU4sS0FBQSxVQUFBeUcsS0FBQWtILElBRUEsU0FBQTNOLEtBQUFpSixZQUNBakosS0FBQW5CLEtBQUF3SCxFQUFBLEdBQUFJLEtBQUFpSCxJQUFBMU4sS0FBQStJLFVBQUEsRUFBQXRDLEtBQUFrSCxLQUlBLGtCQUFBM04sTUFBQTROLGFBQ0E1TixLQUFBNE4sWUFBQXZGLEdBSUFySSxLQUFBNk4sY0FBQXhGLElBTUFvRixnQkFBQSxXQUVBek4sS0FBQW5CLEtBQUF5TSxRQUFBZ0MsS0FBQWxILEVBQUFLLEtBQUE0QyxNQUFBckosS0FBQWdKLFdBQUEsR0FBQWhKLEtBQUF3TSxVQUFBekYsTUFDQS9HLEtBQUFuQixLQUFBeU0sUUFBQWdDLEtBQUFqSCxFQUFBSSxLQUFBNEMsTUFBQXJKLEtBQUFnSixXQUFBLEdBQUFoSixLQUFBd00sVUFBQXhGLE9BQ0FoSCxLQUFBbkIsS0FBQXlNLFFBQUF3QyxjQVFBRCxjQUFBLFNBQUF4RixHQXlCQSxHQXhCQXJJLEtBQUF5TSxNQUFBc0IsUUFBQSxTQUFBL04sS0FBQWlKLFdBQUEsU0FBQWpKLEtBQUFpSixVQUNBakosS0FBQXlNLE1BQUF1QixRQUFBLFNBQUFoTyxLQUFBaUosVUFDQWpKLEtBQUF5TSxNQUFBd0IsT0FBQSxRQUFBak8sS0FBQWlKLFVBQ0FqSixLQUFBeU0sTUFBQXlCLFVBQUEsVUFBQWxPLEtBQUFpSixXQUFBLFNBQUFqSixLQUFBaUosVUFHQWpKLEtBQUF5TSxNQUFBc0IsVUFDQS9OLEtBQUEyTSxTQUFBM00sS0FBQXlNLE1BQUFDLFNBQUFjLFFBQUE3RyxZQUdBM0csS0FBQTJNLFNBQUF2RyxHQUFBcEcsS0FBQTJNLFNBQUF0RyxFQUNBckcsS0FBQWtKLEtBQUEsUUFHQWxKLEtBQUFrSixLQUFBLFVBS0FsSixLQUFBeU0sTUFBQXlCLFdBQUFsTyxLQUFBeU0sTUFBQXdCLFNBQ0FqTyxLQUFBMk0sU0FBQXhHLElBQUFuRyxLQUFBb0UsTUFBQWdDLEVBQUEsR0FBQU8sWUFJQTNHLEtBQUF5TSxNQUFBeUIsV0FBQWxPLEtBQUErSSxVQUFBLEdBQ0EsR0FBQWdCLEdBQUEvSixLQUFBbU8scUJBQUEsRUFBQW5PLEtBQUFvRSxNQUFBZ0MsRUFBQSxFQUNBMkQsTUFBQSxHQUNBQSxFQUFBekMsV0FBQSxNQUFBdEgsTUFLQSxHQUFBa04sR0FBQWxOLEtBQUFvTyxpQkFDQXBPLE1BQUEySixTQUFBdkQsR0FBQXBHLEtBQUEyTSxTQUFBdkcsRUFBQThHLEVBQUE3RSxFQUNBckksS0FBQTJKLFNBQUF0RCxFQUFBSSxLQUFBNEgsSUFBQSxHQUFBNUgsS0FBQTZILElBQUEsRUFDQXRPLEtBQUEySixTQUFBdEQsRUFBQXJHLEtBQUEyTSxTQUFBdEcsRUFBQTZHLEVBQUE3RSxLQVNBa0csYUFBQSxTQUFBbkksRUFBQUMsR0FDQSxHQUFBb0QsR0FBQXpKLEtBQUE0TSxLQUFBN0YsTUFBQSxFQUNBMkMsRUFBQTFKLEtBQUE0TSxLQUFBNUYsT0FBQSxDQUVBLFdBQUE1RCxHQUFBd0QsVUFDQTVHLEtBQUEySixTQUFBdkQsRUFBQXFELEVBQUF6SixLQUFBNE0sS0FBQXhHLE1BQUEsR0FDQXBHLEtBQUEySixTQUFBdEQsRUFBQXFELEVBQUExSixLQUFBNE0sS0FBQXZHLE1BQUEsR0FDQXJHLEtBQUE0TSxLQUFBN0YsTUFDQS9HLEtBQUE0TSxLQUFBNUYsU0FTQXdILGdCQUFBLFNBQUFwSSxFQUFBQyxHQUNBLEdBQUFvRCxHQUFBekosS0FBQTZNLFFBQUE5RixNQUFBLEVBQ0EyQyxFQUFBMUosS0FBQTZNLFFBQUE3RixPQUFBLENBRUEsV0FBQTVELEdBQUF3RCxVQUNBNUcsS0FBQTJKLFNBQUF2RCxFQUFBcUQsRUFBQXpKLEtBQUE2TSxRQUFBekcsTUFBQSxHQUNBcEcsS0FBQTJKLFNBQUF0RCxFQUFBcUQsRUFBQTFKLEtBQUE2TSxRQUFBeEcsTUFBQSxHQUNBckcsS0FBQTZNLFFBQUE5RixNQUNBL0csS0FBQTZNLFFBQUE3RixTQVdBbUgscUJBQUEsU0FBQS9ILEVBQUFDLEdBQ0EsR0FFQTBELEdBRkEwRSxFQUFBek8sS0FBQXdPLGdCQUFBcEksRUFBQUMsR0FDQW9GLEVBQUFkLEVBQUFDLElBQUE2QixNQUFBaEIsT0FBQUwsUUFHQSxRQUFBc0QsS0FBQWpELEdBRUEsR0FEQTFCLEVBQUEwQixFQUFBaUQsR0FDQTNFLElBQUEvSixNQUdBLG1CQUFBK0osR0FBQTZDLE1BQ0E3QyxFQUFBd0UsZUFBQTFILFdBQUE0SCxHQUNBLE1BQUExRSxFQUtBLFdBU0FxRSxnQkFBQSxXQUNBLE1BQUFwTyxNQUFBa04sTUFBQWxOLEtBQUFpSixZQUFBLEtBR0E1SSxRQUdBc0ssRUFBQTBCLE9BQUFDLFVBQUFxQyxRQUFBLFNBQUEvRCxHQUNBQSxFQUFBZ0UsV0FBQSxXQU9BakUsRUFBQTBCLE9BQUF3QyxPQUFBalIsRUFBQThCLE1BQUEsV0FFQWlMLEVBQUEwQixPQUFBQyxVQUFBekwsTUFBQWIsS0FBQTdCLFdBR0E2QixLQUFBOE8sU0FHQTlPLEtBQUErTyxRQUNBQyxNQUFBLFFBQ0FDLEtBQUEsT0FDQUMsR0FBQSxLQUNBQyxLQUFBLE9BRUFuQyxNQUFBLElBQ0FDLEtBQUEsSUFDQUcsS0FBQSxLQUlBcE4sS0FBQTRILFdBQUEsVUFBQTVILEtBQUFvUCxZQUNBcFAsS0FBQTRILFdBQUEsUUFBQTVILEtBQUFvUCxZQUdBcFAsS0FBQTRILFdBQUEsTUFBQTVILEtBQUFxUCxPQUNBclAsS0FBQTRILFdBQUEsVUFBQTVILEtBQUFzUCxhQUVBalIsUUFBQXNNLEVBQUEwQixPQUFBQyxXQUNBbE0sT0FJQXdOLFlBQUEsU0FBQXZGLEdBRUFySSxLQUFBeU0sTUFBQUMsU0FBQXZHLE1BR0FuRyxLQUFBeU0sTUFBQXNCLFVBRUEvTixLQUFBOE8sTUFBQVMsT0FDQXZQLEtBQUFrSixLQUFBbEosS0FBQThPLE1BQUFTLFFBR0F2UCxLQUFBOE8sTUFBQTFCLEtBQ0FwTixLQUFBa0osS0FBQSxTQUlBbEosS0FBQThPLE1BQUFFLE9BQ0FoUCxLQUFBeU0sTUFBQUMsU0FBQXRHLEVBQUEsRUFDQXBHLEtBQUFvRSxNQUFBZ0MsRUFBQSxHQUVBcEcsS0FBQThPLE1BQUFHLE9BQ0FqUCxLQUFBeU0sTUFBQUMsU0FBQXRHLEdBQUEsRUFDQXBHLEtBQUFvRSxNQUFBZ0MsR0FBQSxHQUlBcEcsS0FBQThPLE1BQUFLLEtBQ0FuUCxLQUFBeU0sTUFBQUMsU0FBQXJHLEVBQUEsRUFFQXJHLEtBQUE4TyxNQUFBSSxLQUNBbFAsS0FBQXlNLE1BQUFDLFNBQUFyRyxHQUFBLEtBTUFyRyxLQUFBOE8sTUFBQVMsUUFBQSxFQUNBdlAsS0FBQThPLE1BQUExQixNQUFBLEdBUUFTLGNBQUEsU0FBQXhGLEdBQ0FzQyxFQUFBMEIsT0FBQUMsVUFBQTlPLFVBQUFxUSxjQUFBdFIsS0FBQXlELEtBQUFxSSxJQWFBK0csV0FBQSxTQUFBdkosRUFBQXNKLEdBRUF0SixJQUFBN0YsS0FBQStPLE9BQUFDLE1BQ0FoUCxLQUFBOE8sTUFBQUUsTUFBQUcsRUFDSXRKLElBQUE3RixLQUFBK08sT0FBQUUsS0FDSmpQLEtBQUE4TyxNQUFBRyxLQUFBRSxFQUNJdEosSUFBQTdGLEtBQUErTyxPQUFBSSxLQUNKblAsS0FBQThPLE1BQUFLLE9BQ0l0SixJQUFBN0YsS0FBQStPLE9BQUFHLEtBQ0psUCxLQUFBOE8sTUFBQUksR0FBQUMsR0FHQXRKLElBQUE3RixLQUFBK08sT0FBQS9CLE9BQUFtQyxFQUNBblAsS0FBQThPLE1BQUFTLE9BQUEsUUFFQTFKLElBQUE3RixLQUFBK08sT0FBQTlCLE1BQUFrQyxJQUNBblAsS0FBQThPLE1BQUFTLE9BQUEsUUFHQTFKLElBQUE3RixLQUFBK08sT0FBQTNCLE1BQUErQixJQUNBblAsS0FBQThPLE1BQUExQixNQUFBLElBU0FpQyxNQUFBLFNBQUFHLEdBQ0F4UCxLQUFBeU0sTUFBQXdCLFFBQUFqTyxLQUFBeU0sTUFBQXVCLFVBQ0FoTyxLQUFBb0UsTUFBQWdDLEdBQUFvSixFQUFBcEwsTUFBQWdDLEVBQ0FwRyxLQUFBOE0sUUFBQTBDLEVBQUF6QyxTQUFBeUMsRUFBQXZHLFlBQUEsR0FDQWpKLEtBQUFrSixLQUFBLE9BRUFsSixLQUFBOE0sT0FBQSxJQUNBbkMsRUFBQUMsSUFBQTZCLE1BQUFnRCxhQUFBelAsTUFDQUEsS0FBQXVJLGFBUUErRyxVQUFBLFdBQ0EzRSxFQUFBQyxJQUFBNkIsTUFBQWxDLE9BQUFOLFNBQUFqSyxTQUtBMkssRUFBQTBCLE9BQUF3QyxPQUFBRixRQUFBLFNBQUEvRCxHQUNBQSxFQUFBZ0UsV0FBQSx1QkFNQWpFLEVBQUEwQixPQUFBcUQsa0JBQUE5UixFQUFBOEIsTUFBQSxXQUNBaUwsRUFBQTBCLE9BQUF3QyxPQUFBaE8sTUFBQWIsS0FBQTdCLFdBR0E2QixLQUFBMlAsU0FHQTNQLEtBQUE0SCxXQUFBLGFBQUE1SCxLQUFBNFAsY0FDQTVQLEtBQUE0SCxXQUFBLFlBQUE1SCxLQUFBNlAsYUFDQTdQLEtBQUE0SCxXQUFBLFdBQUE1SCxLQUFBOFAsWUFHQTlQLEtBQUE0SCxXQUFBLFVBQUE1SCxLQUFBK1Asb0JBRUExUixRQUFBc00sRUFBQTBCLE9BQUF3QyxRQUNBek8sT0FLQXdQLGFBQUEsU0FBQXhPLEVBQUFnRixFQUFBQyxHQUNBLEdBQUEySixHQUFBckYsRUFBQUMsSUFBQTVHLFNBQUErQyxNQUFBLEVBQ0FrSixFQUFBdEYsRUFBQUMsSUFBQTVHLFNBQUFnRCxPQUFBLENBR0FaLEdBQUE0SixFQUNBaFEsS0FBQTJQLE1BQUFPLE9BQ0FsUSxLQUFBMlAsTUFBQU8sTUFDQTlPLEtBQ0FnRixJQUNBQyxLQUlBckcsS0FBQW1RLFVBQUEsR0FBQS9NLEdBQUE4RCxPQUFBeUQsRUFBQUMsSUFBQTdGLElBQUEsY0FDQS9FLEtBQUFtUSxVQUFBNUQsT0FBQSxHQUFBbkosR0FBQThDLE1BQUEsT0FDQWxHLEtBQUFtUSxVQUFBeEcsU0FBQXZELElBQ0FwRyxLQUFBbVEsVUFBQXhHLFNBQUF0RCxJQUVBc0UsRUFBQUMsSUFBQTZCLE1BQUFmLFdBQUFQLFNBQUFuTCxLQUFBbVEsWUFLQTlKLEVBQUE0SixFQUNBalEsS0FBQThPLE1BQUExQixNQUFBLEVBRUFoSCxFQUFBNEosSUFBQSxFQUNBaFEsS0FBQThPLE1BQUFTLE9BQUEsT0FHQXZQLEtBQUE4TyxNQUFBUyxPQUFBLFNBU0FNLFlBQUEsU0FBQXpPLEVBQUFnRixFQUFBQyxHQUNBckcsS0FBQTJQLE1BQUFPLE1BQUFsUSxLQUFBMlAsTUFBQU8sS0FBQTlPLFNBQ0FwQixLQUFBOE8sTUFBQUUsTUFBQTVJLEVBQUFwRyxLQUFBMlAsTUFBQU8sS0FBQTlKLEVBQUEsR0FDQXBHLEtBQUE4TyxNQUFBRyxLQUFBN0ksRUFBQXBHLEtBQUEyUCxNQUFBTyxLQUFBOUosR0FBQSxHQUNBcEcsS0FBQThPLE1BQUFLLEtBQUE5SSxFQUFBckcsS0FBQTJQLE1BQUFPLEtBQUE3SixFQUFBLEdBQ0FyRyxLQUFBOE8sTUFBQUksR0FBQTdJLEVBQUFyRyxLQUFBMlAsTUFBQU8sS0FBQTdKLEdBQUEsS0FRQXlKLFdBQUEsU0FBQTFPLEVBQUFnRixFQUFBQyxHQUNBckcsS0FBQTJQLE1BQUFPLE1BQUFsUSxLQUFBMlAsTUFBQU8sS0FBQTlPLFNBQ0FwQixLQUFBMlAsTUFBQU8sTUFBQSxFQUNBbFEsS0FBQThPLE1BQUFFLE9BQUEsRUFDQWhQLEtBQUE4TyxNQUFBRyxNQUFBLEVBQ0FqUCxLQUFBOE8sTUFBQUssTUFBQSxFQUNBblAsS0FBQThPLE1BQUFJLElBQUEsRUFHQWxQLEtBQUErUCxxQkFPQUEsaUJBQUEsV0FDQS9QLEtBQUFtUSxZQUNBeEYsRUFBQUMsSUFBQTZCLE1BQUFmLFdBQUFoSixZQUFBMUMsS0FBQW1RLFdBQ0FuUSxLQUFBbVEsV0FBQSxNQVNBeEYsRUFBQTBCLE9BQUErRCxNQUFBeFMsRUFBQThCLE1BQUEsV0FFQWlMLEVBQUEwQixPQUFBQyxVQUFBekwsTUFBQWIsS0FBQTdCLFdBR0E2QixLQUFBNEgsV0FBQSxNQUFBNUgsS0FBQXFQLE9BR0FyUCxLQUFBOEosUUFBQSxFQUNBOUosS0FBQXFRLEtBQUEsRUFHQXJRLEtBQUE4TSxPQUFBLEdBQ0E5TSxLQUFBa04sT0FDQUMsS0FBQSxHQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUwsTUFBQSxHQUNBQyxLQUFBLE1BR0E1TyxRQUFBc00sRUFBQTBCLE9BQUFDLFdBQ0FsTSxPQUlBd04sWUFBQSxTQUFBdkYsR0FDQSxHQUFBckksS0FBQXlNLE1BQUFzQixRQUFBLENBRUEsR0FBQXVDLEdBQUF0USxLQUFBdVEsbUJBR0FELE1BQUEsSUFFQXRRLEtBQUF5TSxNQUFBQyxTQUFBdkcsTUFHQW5HLEtBQUF3USxXQUFBRixHQUFBLEdBQ0F0USxLQUFBeVEsT0FBQUgsR0FFQXRRLEtBQUFxUSxRQUFBLElBQ0FyUSxLQUFBa0osS0FBQXpDLEtBQUFpSyxTQUFBLG9CQUNBMVEsS0FBQXFRLEtBQUEsS0FBQTVKLEtBQUFpSyxVQUlBMVEsS0FBQW9FLE1BQUFnQyxFQUFBcEcsS0FBQTJKLFNBQUF2RCxFQUFBa0ssRUFBQTNHLFNBQUF2RCxHQUFBLE9BVUFtSyxrQkFBQSxXQUNBLEdBQUFJLEdBQUFoRyxFQUFBQyxJQUFBNkIsTUFBQWtFLFFBQ0FDLEVBQUEsR0FNQSxRQUFBQyxLQUFBRixHQUFBLENBQ0EsR0FBQUwsR0FBQUssRUFBQUUsR0FDQUMsRUFBQTlRLEtBQUF3USxXQUFBRixJQUVBdFEsS0FBQThKLFVBQUEsR0FBQWdILEVBQUFGLEtBQ0FBLEVBQUFFLEVBQ0E5USxLQUFBOEosT0FBQXdHLEdBVUEsTUFKQXRRLE1BQUE4SixRQUFBOUosS0FBQThKLE9BQUF6QyxTQUNBckgsS0FBQThKLFFBQUEsR0FHQTlKLEtBQUE4SixRQVNBMEcsV0FBQSxTQUFBekcsR0FDQSxHQUFBM0QsR0FBQTJELEVBQUFKLFNBQUF2RCxFQUFBcEcsS0FBQTJKLFNBQUF2RCxFQUNBQyxFQUFBMEQsRUFBQUosU0FBQXRELEVBQUFyRyxLQUFBMkosU0FBQXRELENBR0EsT0FBQUksTUFBQUMsS0FDQU4sSUFBQUMsTUFXQW9LLE9BQUEsU0FBQTFHLEVBQUFtRCxHQUNBLEdBQUE2RCxHQUFBL1EsS0FBQXdRLFdBQUF6RyxFQUlBL0osTUFBQXlNLE1BQUFDLFNBQUF0RyxHQUFBMkQsRUFBQUosU0FBQXZELEVBQUFwRyxLQUFBMkosU0FBQXZELEdBQUEySyxFQUNBL1EsS0FBQXlNLE1BQUFDLFNBQUFyRyxHQUFBMEQsRUFBQUosU0FBQXRELEVBQUFyRyxLQUFBMkosU0FBQXRELEdBQUEwSyxHQVFBMUIsTUFBQSxTQUFBRyxHQUNBeFAsS0FBQXlNLE1BQUF3QixTQUNBak8sS0FBQW9FLE1BQUFnQyxHQUFBb0osRUFBQXBMLE1BQUFnQyxFQUNBcEcsS0FBQThNLFFBQUEwQyxFQUFBekMsU0FBQXlDLEVBQUF2RyxZQUFBLEdBQ0FqSixLQUFBa0osS0FBQSxPQUVBbEosS0FBQThNLFFBQUEsR0FDQTlNLEtBQUF1SSxjQU9Bb0MsRUFBQTBCLE9BQUErRCxNQUFBekIsUUFBQSxTQUFBL0QsR0FDQUEsRUFBQWdFLFdBQUEsY0FFQ25QLE9BQUFrTCxLQUFBbEwsT0FBQWtMLFNBQWlDL00sSUFBQXdGLE9OODZDNUIsU0FBU2hILEVBQVFELElPeGtFdkIsU0FBQXdPLEVBQUEvTSxFQUFBd0YsR0FFQXVILEVBQUEwQixPQUFBMkUsSUFBQXBULEVBQUE4QixNQUFBLFdBQ0FpTCxFQUFBMEIsT0FBQStELE1BQUE3VCxLQUFBeUQsS0FBQSxPQUVBQSxLQUFBd00sVUFBQSxHQUFBcEosR0FBQXdELFVBQUEsV0FHQTVHLEtBQUE4SixRQUFBLEVBQ0E5SixLQUFBcVEsS0FBQSxFQUdBclEsS0FBQThNLE9BQUEsSUFDQTlNLEtBQUErTSxVQUNBQyxNQUFBLEdBQ0FDLEtBQUEsSUFFQWpOLEtBQUFrTixPQUNBQyxLQUFBLEdBQ0FDLEtBQUEsR0FDQUMsS0FBQSxHQUNBTCxNQUFBLEdBQ0FDLEtBQUEsTUFHQTVPLFFBQUFzTSxFQUFBMEIsT0FBQStELE9BQ0FuUSxlQUVBRyxPQUlBdUksWUFDQUMsTUFDQUMsS0FBQSxHQUNBQyxRQUFBLFFBRUFxRSxNQUNBdEUsS0FBQSxHQUNBQyxRQUFBLFVBRUF1RSxLQUNBeEUsS0FBQSxFQUNBQyxRQUFBLGFBQ0FNLEtBQUEsU0FRQXdFLFlBQUEsU0FBQXZGLEdBQ0EsR0FBQXJJLEtBQUF5TSxNQUFBc0IsUUFBQSxDQUdBLEdBQUF1QyxHQUFBdFEsS0FBQXVRLG1CQUdBRCxNQUFBLElBRUF0USxLQUFBeU0sTUFBQUMsU0FBQXZHLE1BR0FuRyxLQUFBd1EsV0FBQUYsR0FBQSxHQUNBdFEsS0FBQXlRLE9BQUFILEdBQ010USxLQUFBcVEsUUFBQSxJQUNOclEsS0FBQWlKLFVBQUEsUUFLQWpKLEtBQUFvRSxNQUFBZ0MsRUFBQXBHLEtBQUEySixTQUFBdkQsRUFBQWtLLEVBQUEzRyxTQUFBdkQsR0FBQSxTQU1BdUUsRUFBQTBCLE9BQUEyRSxJQUFBckMsUUFBQSxTQUFBL0QsR0FDQUEsRUFBQWdFLFdBQUEsU0FHQ25QLE9BQUFrTCxLQUFBbEwsT0FBQWtMLFNBQWlDL00sSUFBQXdGLE9Qa21FNUIsU0FBU2hILEVBQVFELElRNXJFdkIsU0FBQXNELEdBQ0EsWUFNQTBELFlBQUE4TixlQUlBQyxRQUFBLHFiQUtBelMsT0FBQSxXQUVBdUIsS0FBQW1SLEtBQUEsR0FBQS9OLE1BQUE4RCxPQUFBOUQsS0FBQWlDLFFBQUFDLFVBQUF0RixLQUFBa1IsVUFDQWxSLEtBQUFtUixLQUFBNUUsT0FBQSxHQUFBbkosTUFBQThDLE1BQUEsTUFHQWxHLEtBQUFvUixZQUFBLEdBQUFoTyxNQUFBaU8sU0FDQXJSLEtBQUFvUixZQUFBekgsU0FBQSxHQUFBdkcsTUFBQThDLE1BQUEsS0FDQWxHLEtBQUFtUixLQUFBaEcsU0FBQW5MLEtBQUFvUixhQUdBcFIsS0FBQTRLLElBQUEwRyxPQUFBNVEsR0FBQSxRQUFBVixLQUFBRCxNQUFBQyxPQU1BdVIsTUFBQSxXQUVBdlIsS0FBQTRLLElBQUE1RyxTQUFBd04sZ0JBQUEsUUFHQXhSLEtBQUF5UixTQUFBLEdBTUFDLE1BQUEsV0FDQTVSLFFBQUEwQyxJQUFBLGtCQVFBbUosS0FBQSxTQUFBdEQsR0FFQXJJLEtBQUF5UixVQUFBaEwsS0FBQWtMLElBQUEzUixLQUFBNEssSUFBQTBHLE9BQUFHLFNBQUF6UixLQUFBeVIsVUFHQXpSLEtBQUFtUixLQUFBeEgsU0FBQSxHQUFBdkcsTUFBQThDLE1BQ0FPLEtBQUE0QyxNQUFBckosS0FBQTRLLElBQUE1RyxTQUFBK0MsTUFBQSxHQUNBTixLQUFBNEMsTUFBQXJKLEtBQUE0SyxJQUFBNUcsU0FBQWdELE9BQUEsS0FPQStFLE9BQUEsV0FFQSxHQUFBNkYsR0FBQTVSLEtBQUFvUixZQUNBM1UsRUFBQXVELEtBQUF5UixRQUVBRyxHQUFBQyxRQUNBRCxFQUFBRSxVQUFBLEdBQ0FGLEVBQUFHLFVBQUEsWUFDQUgsRUFBQUksVUFBQSxTQUFBdlYsRUFBQSxHQUNBbVYsRUFBQUssVUFFQUwsRUFBQUcsVUFBQSxZQUNBSCxFQUFBSSxVQUFBLFdBQ0FKLEVBQUFLLFVBRUFMLEVBQUFHLFVBQUEsWUFDQUgsRUFBQUksU0FBQSxXQUNBSixFQUFBSyxVQUdBalMsS0FBQTRLLElBQUE1RyxTQUFBK0gsT0FBQS9MLEtBQUFtUixPQU1BcFIsTUFBQSxTQUFBa0csR0FFQSxHQUFBekUsR0FBQSxHQUFBNEIsTUFBQThPLEtBQUEsd0JBQUFqTSxHQUNBa00sS0FBQSxjQUNBQyxLQUFBLFVBQ0FDLE1BQUEsVUFHQTdRLEdBQUErSyxPQUFBLEdBQUFuSixNQUFBOEMsTUFBQSxNQUNBMUUsRUFBQW1JLFNBQUEsR0FBQXZHLE1BQUE4QyxNQUFBLE1BRUFsRyxLQUFBbVIsS0FBQWhHLFNBQUEzSixLQVNBbUosS0FBQUMsSUFBQTBILFlBSUFDLE9BQ0FDLEtBQUEsVUFDQXJOLE9BQUEsVUFDQXNOLE9BQUEsVUFDQUMsUUFBQSxZQU1BdE8sTUFBQSxFQUtBdU8sYUFDQUMsTUFBQSxFQUNBQyxNQUFBLEVBQ0F0USxJQUFBLEdBTUE5RCxPQUFBLFdBRUF1QixLQUFBOEQsaUJBR0FsRyxJQUFBa0MsUUFBQXdDLE9BQ0F0QyxLQUFBZ0UsbUJBQUFaLE1BQUEwUCxjQUNBLGtCQUtBaFQsUUFBQTBDLElBQUEseUJBR0EsUUFBQW5HLEtBQUFzTyxNQUFBLENBQ0EsR0FBQW9JLEdBQUFwSSxLQUFBdE8sRUFDQSxvQkFBQTBXLEdBQ0EsT0FBQTVWLEtBQUE0VixHQUVBLGtCQUFBQSxHQUFBNVYsR0FBQXdSLFNBQ0FvRSxFQUFBNVYsR0FBQXdSLFFBQUFwUyxLQUFBeUQsYUFVQWdULE1BQUEsV0FFQWhULEtBQUFpVCxTQUFBLEdBQUF0SSxNQUFBWSxNQUFBMkgsT0FNQXZILEtBQUEsU0FBQXRELEtBT0EwRCxPQUFBLFNBQUExRCxHQUVBckksS0FBQTJTLFlBQUFFLFFBQ0E3UyxLQUFBMlMsWUFBQUMsT0FBQXZLLEVBQ0FySSxLQUFBMlMsWUFBQUMsT0FBQSxJQUVBNVMsS0FBQTJTLFlBQUFwUSxJQUFBdkMsS0FBQTJTLFlBQUFFLE1BQ0FqVixJQUFBa0MsUUFBQXlDLElBQUEsUUFBQXZDLEtBQUEyUyxZQUFBcFEsS0FHQXZDLEtBQUEyUyxZQUFBQyxNQUFBLEVBQ0E1UyxLQUFBMlMsWUFBQUUsTUFBQSxJQU9Bck8sT0FBQSxhQU1BMk8sUUFBQSxTQUFBclEsR0FDQSxVQUFBQSxFQUFBK0MsSUFFQSxNQURBakksS0FBQWtDLFFBQUErQyxVQUNBLEdBT0F1USxZQUFBLFNBQUF0USxRQUlDckQsU1I4c0VLLFNBQVNyRCxFQUFRRCxJU3g2RXZCLFNBQUF3TyxFQUFBL00sRUFBQXdGLEdBQ0EsWUFLQXVILEdBQUEwSSxTQUFBelYsRUFBQThCLE1BQUEsV0FFQTBELEVBQUE4RCxPQUFBM0ssS0FBQXlELEtBQUEySyxFQUFBQyxJQUFBN0YsSUFBQSxhQUdBL0UsS0FBQXVNLE9BQUEsR0FBQW5KLEdBQUE4QyxNQUFBLE9BQ0FsRyxLQUFBc1QsTUFBQSxNQUVBalYsUUFBQStFLEVBQUE4RCxRQUNBOUcsT0FJQW9KLGdCQUFBLFdBQ0F4SixLQUFBMkosU0FBQXZELEVBQUF1RSxFQUFBQyxJQUFBNUcsU0FBQStDLE1BQUEsRUFDQS9HLEtBQUEySixTQUFBdEQsRUFBQXNFLEVBQUFDLElBQUE1RyxTQUFBZ0QsT0FBQSxJQUFBUCxLQUFBa0wsSUFBQSxJQUFBbEwsS0FBQThNLEtBQUF2VCxLQUFBc1QsTUFBQSxRQUFBN00sS0FBQWtILElBQUFsSCxLQUFBaUgsSUFBQTFOLEtBQUFzVCxNQUFBLElBQUE3TSxLQUFBa0gsS0FDQXZLLEVBQUE4RCxPQUFBMUosVUFBQWdNLGdCQUFBak4sS0FBQXlELE1BRUFBLEtBQUFzVCxNQUFBLEdBQ0F0VCxLQUFBc1QsV0FRQTNJLEVBQUFZLFNBS0FaLEVBQUFZLE1BQUEySCxLQUFBdFYsRUFBQThCLE1BQUEsV0FDQTlCLEVBQUEyTixNQUFBMUssTUFBQWIsS0FBQTdCLFVBQ0EsSUFBQXFWLEdBQUEsR0FBQTdJLEdBQUFZLE1BQUEySCxLQUFBTyxPQUFBOUksRUFBQUMsSUFBQTdGLElBQUEsaUJBQ0EyTyxFQUFBLEdBQUEvSSxHQUFBWSxNQUFBMkgsS0FBQU8sT0FBQTlJLEVBQUFDLElBQUE3RixJQUFBLGdCQUNBNE8sRUFBQSxHQUFBaEosR0FBQVksTUFBQTJILEtBQUFPLE9BQUE5SSxFQUFBQyxJQUFBN0YsSUFBQSxjQUNBeU8sR0FBQXRJLE9BQUE3RSxHQUFBLEdBQ0FxTixFQUFBeEksT0FBQTdFLEVBQUEsRUFDQXNOLEVBQUF6SSxPQUFBN0UsRUFBQSxHQUVBbU4sRUFBQUksTUFBQSxXQUNBakosRUFBQUMsSUFBQWlKLGNBQUEsRUFDQWxKLEVBQUFDLElBQUFxSSxTQUFBLEdBQUF0SSxHQUFBWSxNQUFBdUksUUFHQUosRUFBQUUsTUFBQSxXQUNBakosRUFBQUMsSUFBQWlKLGNBQUEsRUFDQWxKLEVBQUFDLElBQUFxSSxTQUFBLEdBQUF0SSxHQUFBWSxNQUFBdUksUUFHQUgsRUFBQUMsTUFBQSxXQUNBaFcsRUFBQUMsTUFBQWMsY0FHQTZVLEVBQUFsUCxPQUNBb1AsRUFBQXBQLE9BQ0FxUCxFQUFBclAsT0FFQXRFLEtBQUFtTCxTQUFBcUksR0FDQXhULEtBQUFtTCxTQUFBdUksR0FDQTFULEtBQUFtTCxTQUFBd0ksS0FFQXRWLFFBQUFULEVBQUEyTixPQUdBWixFQUFBWSxNQUFBMkgsS0FBQU8sT0FBQTdWLEVBQUE4QixNQUFBLFdBQ0EwRCxFQUFBOEQsT0FBQXJHLE1BQUFiLEtBQUE3QixXQUNBNkIsS0FBQXVNLE9BQUEsR0FBQW5KLEdBQUE4QyxNQUFBLE9BQ0FsRyxLQUFBK1QsYUFBQSxFQUNBL1QsS0FBQWtMLE9BQUEsR0FBQTlILEdBQUE4QyxRQUVBN0gsUUFBQStFLEVBQUE4RCxRQUNBOUcsT0FJQXdULE1BQUEsV0FFQTlULFFBQUEwQyxJQUFBLFNBTUE4QixLQUFBLFdBQ0F0RSxLQUFBVSxHQUFBLFlBQUFWLEtBQUE0VCxNQUFBdFAsS0FBQXRFLE9BQ0FBLEtBQUFVLEdBQUEsYUFBQVYsS0FBQTRULE1BQUF0UCxLQUFBdEUsUUFNQXdKLGdCQUFBLFdBQ0EsR0FBQXdHLEdBQUFyRixFQUFBQyxJQUFBNUcsU0FBQStDLE1BQUEsRUFDQWtKLEVBQUF0RixFQUFBQyxJQUFBNUcsU0FBQWdELE9BQUEsQ0FFQWhILE1BQUEySixTQUFBdkQsRUFBQTRKLEVBQUFoUSxLQUFBa0wsT0FBQTlFLEVBQ0FwRyxLQUFBMkosU0FBQXRELEVBQUE0SixFQUFBalEsS0FBQWtMLE9BQUE3RSxFQUNBakQsRUFBQThELE9BQUExSixVQUFBZ00sZ0JBQUFqTixLQUFBeUQsU0FLQTJLLEVBQUFZLE1BQUEySCxLQUFBdkUsUUFBQSxTQUFBL0QsR0FDQUEsRUFBQWdFLFdBQUEsNENBTUFqRSxFQUFBWSxNQUFBdUksTUFBQSxXQUNBbFcsRUFBQTJOLE1BQUFoUCxLQUFBeUQsTUFFQUEsS0FBQTJRLFdBQ0EzUSxLQUFBc1QsTUFBQSxJQUlBMVYsRUFBQUMsTUFBQVEsUUFBQXNNLEVBQUFZLE1BQUF1SSxNQUFBbFcsRUFBQTJOLE9BSUFnRyxNQUFBLFdBQ0F2UixLQUFBd0wsV0FBQWhCLGNBQUEsV0FDQXBHLE1BQUEsR0FBQWhCLEdBQUE4QyxNQUFBLFNBR0FsRyxLQUFBd0wsV0FBQWhCLGNBQUEsVUFDQXBHLE1BQUEsR0FBQWhCLEdBQUE4QyxNQUFBLE1BQ0FnRixPQUFBLEdBQUE5SCxHQUFBOEMsTUFBQSxRQUNBd0UsUUFBQSxFQUNBRCxRQUFBLElBR0F6SyxLQUFBd0wsV0FBQWhCLGNBQUEsVUFDQXBHLE1BQUEsR0FBQWhCLEdBQUE4QyxNQUFBLE9BQ0FnRixPQUFBLEdBQUE5SCxHQUFBOEMsTUFBQSxRQUNBd0UsUUFBQSxFQUNBRCxRQUFBLElBR0F6SyxLQUFBd0wsV0FBQWhCLGNBQUEsUUFDQXBHLE1BQUEsR0FBQWhCLEdBQUE4QyxNQUFBLEtBQ0FnRixPQUFBLEdBQUE5SCxHQUFBOEMsTUFBQSxPQUNBd0UsUUFBQSxFQUNBRCxRQUFBLEdBR0EsSUFBQXVKLEdBQUEsR0FBQXJKLEdBQUEwQixPQUFBcUQsa0JBQUEsU0FDQXNFLEdBQUFySyxTQUFBdkQsRUFBQSxHQUNBcEcsS0FBQXlMLE9BQUFOLFNBQUE2SSxHQUNBaFUsS0FBQXVLLE9BQUFULE9BQUFrSyxHQUNBaFUsS0FBQTJRLFFBQUE5SSxLQUFBbU0sRUFFQSxJQUFBQyxHQUFBLEdBQUF0SixHQUFBMEIsT0FBQTJFLElBQUEsTUFDQWlELEdBQUF0SyxTQUFBdkQsRUFBQSxJQUNBcEcsS0FBQXlMLE9BQUFOLFNBQUE4SSxHQUVBdEosRUFBQUMsSUFBQWlKLGVBQ0FHLEVBQUEsR0FBQXJKLEdBQUEwQixPQUFBd0MsT0FBQSxVQUNBbUYsRUFBQXJLLFNBQUF2RCxFQUFBLElBQ0E0TixFQUFBakYsUUFDQUMsTUFBQSxJQUNBQyxLQUFBLElBQ0FFLEtBQUEsSUFDQUQsR0FBQSxJQUVBbEMsTUFBQSxJQUNBQyxLQUFBLElBQ0FHLEtBQUEsS0FFQXBOLEtBQUF1SyxPQUFBVCxPQUFBa0ssR0FDQWhVLEtBQUF5TCxPQUFBTixTQUFBNkksR0FDQWhVLEtBQUEyUSxRQUFBOUksS0FBQW1NLEtBVUFySSxLQUFBLFdBSUEsR0FIQS9OLEVBQUEyTixNQUFBL04sVUFBQW1PLEtBQUE5SyxNQUFBYixLQUFBN0IsV0FHQTZCLEtBQUEyUSxRQUFBdlMsT0FBQSxHQUFBNEIsS0FBQXNULFFBQUEsR0FDQXRULEtBQUFzVCxNQUFBLE9BQUE3TSxLQUFBaUssUUFFQSxJQUFBd0QsR0FBQSxHQUFBdkosR0FBQTBCLE9BQUErRCxNQUFBLFdBQ0E4RCxHQUFBdkssU0FBQXZELEVBQUEsS0FBQUssS0FBQWlLLFNBQUEsU0FDQXdELEVBQUF2SyxTQUFBdEQsRUFBQSxJQUFBSSxLQUFBaUssU0FFQXdELEVBQUF2SyxTQUFBdkQsR0FBQXBHLEtBQUF1SyxPQUFBSCxZQUVBcEssS0FBQXlMLE9BQUFOLFNBQUErSSxLQU9BZixRQUFBLFNBQUFnQixHQUNBblUsS0FBQTJRLFFBQUFoSixRQUFBLFNBQUEySSxHQUNBQSxFQUFBckksYUFBQSxVQUFBa00sRUFBQXRPLEtBQUEsRUFBQXNPLElBQ0luVSxPQU1Kb1UsTUFBQSxTQUFBRCxHQUNBblUsS0FBQTJRLFFBQUFoSixRQUFBLFNBQUEySSxHQUNBQSxFQUFBckksYUFBQSxRQUFBa00sRUFBQXRPLEtBQUEsRUFBQXNPLElBQ0luVSxPQUdKcVUsV0FBQSxTQUFBRixHQUNBblUsS0FBQTJRLFFBQUFoSixRQUFBLFNBQUEySSxHQUNBQSxFQUFBckksYUFBQSxhQUFBa00sRUFBQUcsV0FBQUgsRUFBQS9OLEVBQUErTixFQUFBOU4sR0FBQSxFQUFBOE4sSUFDSW5VLE9BR0p1VSxVQUFBLFNBQUFKLEdBQ0FuVSxLQUFBMlEsUUFBQWhKLFFBQUEsU0FBQTJJLEdBQ0FBLEVBQUFySSxhQUFBLFlBQUFrTSxFQUFBRyxXQUFBSCxFQUFBL04sRUFBQStOLEVBQUE5TixHQUFBLEVBQUE4TixJQUNJblUsT0FHSndVLFNBQUEsU0FBQUwsR0FDQW5VLEtBQUEyUSxRQUFBaEosUUFBQSxTQUFBMkksR0FDQUEsRUFBQXJJLGFBQUEsV0FBQWtNLEVBQUFHLFdBQUFILEVBQUEvTixFQUFBK04sRUFBQTlOLEdBQUEsRUFBQThOLElBQ0luVSxPQUdKeVAsYUFBQSxTQUFBYSxHQUNBLEdBQUFtRSxHQUFBelUsS0FBQTJRLFFBQUEzRyxRQUFBc0csRUFDQW1FLE1BQUEsR0FDQXpVLEtBQUEyUSxRQUFBeEcsT0FBQXNLLEVBQUEsR0FJQXpVLEtBQUEyUSxRQUFBdlMsUUFBQSxHQUNBNEIsS0FBQTBMLFdBQUFQLFNBQUEsR0FBQVIsR0FBQTBJLGFBU0ExSSxFQUFBK0osVUFLQS9KLEVBQUErSixPQUFBQyxHQUNBaEcsUUFBQSxTQUFBL0QsR0FDQUEsRUFBQWdFLFdBQUEsY0FPQWpFLEVBQUErSixPQUFBRSxNQUlBakcsUUFBQSxTQUFBL0QsR0FDQUEsRUFBQWdFLFdBQUEscUNBTUFpRyxZQUNBQyxPQUFBLE9BQ0FDLFdBQ0t6SixRQUFBLFVBQUEwSixPQUFBLEVBQUFDLE9BQUEsS0FPTEMsV0FFQUMsUUFDQSxxQ0FRQS9MLEtBQUEsUUFFQzNKLE9BQUFrTCxLQUFBbEwsT0FBQWtMLFNBQWlDL00sSUFBQXdGLE9UaThFNUIsU0FBU2hILEVBQVFELEVBQVNILEdBRWhDLFlBQ3FCLElBQUlvWixHQUE2Q3BaLEVBQW9CLEdBRWpFcVosR0FEcURyWixFQUFvQm1CLEVBQUVpWSxHQUMzQnBaLEVBQW9CLElBRXBFc1osR0FEd0R0WixFQUFvQm1CLEVBQUVrWSxHQUNqQ3JaLEVBQW9CLElBRWpFdVosR0FEcUR2WixFQUFvQm1CLEVBQUVtWSxHQUM3QnRaLEVBQW9CLElBRWxFd1osR0FEc0R4WixFQUFvQm1CLEVBQUVvWSxHQUNoQ3ZaLEVBQW9CLElBRWhFeVosR0FEb0R6WixFQUFvQm1CLEVBQUVxWSxHQUMzQnhaLEVBQW9CLElBRW5FMFosR0FEdUQxWixFQUFvQm1CLEVBQUVzWSxHQUNqQ3paLEVBQW9CLElBRWhFMlosR0FEb0QzWixFQUFvQm1CLEVBQUV1WSxHQUNoQzFaLEVBQW9CLEdBQ1pBLEdBQW9CbUIsRUFBRXdZIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9yeSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb3J5IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHR9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvYnVpbGQvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyogXHJcbiAqIGJicS1iYXNlLmpzXHJcbiAqIFxyXG4gKiBCQlEgZW5naW5lIGNvcmUgZnVuY3Rpb25hbGl0eS5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqIFxyXG4gKiBDaGFuZ2Vsb2c6XHJcbiAqICgyNi4wMS4yMDE2KVxyXG4gKlx0XHQtIERvZGHFgmVtIG5vd3kgdXRpbGl0eSBkbGEgasSZenlrYSBKUyAtIEJCUS5DbGFzc1xyXG4gKiAoMzAuMTIuMjAxNSlcclxuICpcdFx0LSBCQlEuVW5pbGlzLmZ1bGxzY3JlZW4oKSB1bW/FvGxpd2lhIHByemVqxZtjaWUgdyB0cnliIHBlxYJub2VrcmFub3d5XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEJCUSBDb3JlIE1vZHVsZS5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oQkJRKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogVXNlZnVsIGNvbW1vbiB1dGlsaXRpZXMuXHJcblx0ICovXHJcblx0QkJRLlV0aWxzID0ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBc3NpZ25zIHR3byBvciBtb3JlIG9iamVjdHMgaW50byB0YXJnZXQgb25lLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gLi4uc291cmNlXHJcblx0XHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRhcmdldCBjaGFpbmluZyBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0YXNzaWduOiBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCwgc291cmNlKSB7XHJcblx0XHRcdGZvcih2YXIgaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb3A7IGkgPCBsZW47IGkrKykge1xyXG5cdFx0XHRcdHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcclxuXHRcdFx0XHRmb3IocHJvcCBpbiBzb3VyY2UpIHtcclxuXHRcdFx0XHRcdHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBFeHRlbmRzIGNsYXNzZXMgYmV0d2VlbiBwcm90b3R5cGVzLlxyXG5cdFx0ICogQXV0b21hdGVzIGNvbnN0cnVjdG9yIHJlYXNzaWduLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAZGVwcmVjYXRlZCBGdW5jdGlvbmFsaXR5IGRlcHJlY2F0ZWQsIGNoZWNrb3V0IGZvciBCQlEuQ2xhc3MgaW5zdGVhZFxyXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2xhc3NhIENsYXNzIHRvIHByZXBhcmUuXHJcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbGFzc2IgRXh0ZW5kcyBmcm9tIHRoaXMgY2xhc3MuXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gUHJvdG90eXBlIG5ldyBhc3NpZ25zLlxyXG5cdFx0ICovXHJcblx0XHRleHRlbmRzOiBmdW5jdGlvbihjbGFzc2EsIGNsYXNzYiwgcHJvdG8pIHtcclxuXHRcdFx0QkJRLlV0aWxzLmFzc2lnbihcclxuXHRcdFx0XHRjbGFzc2EucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjbGFzc2IucHJvdG90eXBlKSwge1xyXG5cdFx0XHRcdFx0Y29uc3RydWN0b3I6IGNsYXNzYVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cHJvdG9cclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRW5hYmxlcy9kaXNhYmxlcyBmdWxsc2NyZWVuIGZlYXR1cmUuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5hYmxlIEVuYWJsZSBmdWxsc2NyZWVuLlxyXG5cdFx0ICovXHJcblx0XHRmdWxsc2NyZWVuOiBmdW5jdGlvbihlbmFibGUpIHtcclxuXHRcdFx0Ly8gcmVxdWVzdCBmdWxsc2NyZWVuXHJcblx0XHRcdGlmKHR5cGVvZiBlbmFibGUgPT09ICd1bmRlZmluZWQnIHx8IGVuYWJsZSkge1xyXG5cdFx0XHRcdHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSxcclxuXHRcdFx0XHRcdHJlcXVlc3RGdWxsc2NyZWVuID0gYm9keS5yZXF1ZXN0RnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJvZHkud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRib2R5Lm1velJlcXVlc3RGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym9keS5tc1JlcXVlc3RGdWxsU2NyZWVuO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIGludm9rZSByZXF1ZXN0XHJcblx0XHRcdFx0aWYocmVxdWVzdEZ1bGxzY3JlZW4pIHtcclxuXHRcdFx0XHRcdHJlcXVlc3RGdWxsc2NyZWVuLmNhbGwoYm9keSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNsb3NlIGZ1bGxzY3JlZW5cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxyXG5cdFx0XHRcdFx0Y2xvc2VGdWxsc2NyZWVuID0gYm9keS5jbG9zZUZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICBib2R5LndlYmtpdENsb3NlRnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQgIGJvZHkubW96Q2xvc2VGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdCAgYm9keS5tc0Nsb3NlRnVsbFNjcmVlbjtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBpbnZva2UgcmVxdWVzdFxyXG5cdFx0XHRcdGlmKGNsb3NlRnVsbHNjcmVlbikge1xyXG5cdFx0XHRcdFx0Y2xvc2VGdWxsc2NyZWVuLmNhbGwoYm9keSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBDbGFzcyBidWlsZGVyIHV0aWxpdHkuXHJcblx0ICogU2ltcGxlIHVzYWdlOlxyXG5cdCAqIE15Q2xhc3MgPSBDbGFzcyhmdW5jdGlvbigpIHtcclxuXHQgKiAgICAgLy8gdGhpcyBpcyBteSBjb25zdHJ1Y3RvclxyXG5cdCAqICAgICB0aGlzLmZvbyA9IDE7XHJcblx0ICogfSlcclxuXHQgKiAuZXh0ZW5kcyhFeHRlbmRlZENsYXNzKVxyXG5cdCAqIC5wcm9wZXRpZXMoe1xyXG5cdCAqICAgICAvLyB0aGlzIGlzIG15IG93biBjbGFzcyBwcm9wZXJ0eVxyXG5cdCAqICAgICBmb29wcm9wOiB7XHJcblx0ICogICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdCAqICAgICAgICAgICAgIHJldHVybiAxMjM7XHJcblx0ICogICAgICAgICB9XHJcblx0ICogICAgIH1cclxuXHQgKiB9KVxyXG5cdCAqIC5zY29wZSh7XHJcblx0ICogICAgIC8vIHRoaXMgaXMgbXkgY2xhc3MgYm9keVxyXG5cdCAqICAgICBiYXI6IGZ1bmN0aW9uKCkge1xyXG5cdCAqICAgICAgICAgcmV0dXJuIHRoaXMuZm9vKys7XHJcblx0ICogICAgIH0sXHJcblx0ICogICAgIHBlZWs6IGZ1bmN0aW9uKCkge1xyXG5cdCAqICAgICAgICAgcmV0dXJuIHRoaXMuZm9vO1xyXG5cdCAqICAgICB9XHJcblx0ICogfSk7XHJcblx0ICogXHJcblx0ICogQHJldHVybiB7RnVuY3Rpb259IENsYXNzIGJ1aWxkZXIuXHJcblx0ICovXHJcblx0d2luZG93LkNsYXNzID0gQkJRLkNsYXNzID0gZnVuY3Rpb24oY3Rvcikge1xyXG5cdFx0aWYodHlwZW9mIGN0b3IudHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0Ly8gc3RvcmUgY2xhc3MgdHlwZVxyXG5cdFx0XHRjdG9yLnR5cGUgPSBjdG9yO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmVkZWZpbmUgY2xhc3MgcHJvdG90eXBlXHJcblx0XHRcdGN0b3IucHJvdG90eXBlID0ge1xyXG5cdFx0XHRcdGNvbnN0cnVjdG9yOiBjdG9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQWxsb3dzIGV4dGVuZGluZyBjbGFzcyBieSBhbm90aGVyIG9uZS5cclxuXHRcdCAqIFN1cHBvcnRzIHNpbmdsZSBpbmhlcml0YW5jZS5cclxuXHRcdCAqIEluaGVyaXRhbmNlIHJlbW92ZXMgb2xkIHByb3RvdHlwZSB2YWx1ZXMuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGV4dGVuZGVkIENsYXNzIHRvIGV4dGVuZC5cclxuXHRcdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBDaGFpbmluZyAqdGhpcyogY2xhc3MgYnVpbGRlci5cclxuXHRcdCAqL1xyXG5cdFx0Y3Rvci5leHRlbmRzID0gZnVuY3Rpb24oZXh0ZW5kZWQpIHtcclxuXHRcdFx0aWYodHlwZW9mIGV4dGVuZGVkICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRXh0ZW5kaW5nIGNsYXNzIGJ5IG5vbi1jbGFzcyBvYmplY3QgaXMgdW5hbGxvd2VkJyk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNyZWF0ZSBjbGFzcyBpbmhlcml0YW5jZVxyXG5cdFx0XHR0aGlzLnR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShleHRlbmRlZC5wcm90b3R5cGUpO1xyXG5cdFx0XHR0aGlzLnR5cGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdGhpcy50eXBlO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRGVmaW5lIHByb3BlcnRpZXMgZm9yIGNsYXNzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgUHJvcGVydGllcyBzcGVjaWZpZWQgb2JqZWN0LlxyXG5cdFx0ICogQHJldHVybiB7RnVuY3Rpb259IENoYWluaW5nICp0aGlzKiBjbGFzcyBidWlsZGVyLlxyXG5cdFx0ICovXHJcblx0XHRjdG9yLnByb3BlcnRpZXMgPSBmdW5jdGlvbihwcm9wcykge1xyXG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLnR5cGUucHJvdG90eXBlLCBwcm9wcyk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBseSBzY29wZSBib2R5IHRvIHRoZSBjbGFzcyBwcm90b3R5cGUuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBzY29wZSBTY29wZSBvYmplY3QgdG8gYXBwbHkgYXMgY2xhc3MgcHJvdG90eXBlLlxyXG5cdFx0ICogQHJldHVybiB7RnVuY3Rpb259IENoYWluaW5nICp0aGlzKiBjbGFzcyBidWlsZGVyLlxyXG5cdFx0ICovXHJcblx0XHRjdG9yLnNjb3BlID0gZnVuY3Rpb24oc2NvcGUpIHtcclxuXHRcdFx0QkJRLlV0aWxzLmFzc2lnbih0aGlzLnR5cGUucHJvdG90eXBlLCBzY29wZSk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNYWtlIGNsYXNzIGZpbmFsLlxyXG5cdFx0ICogRGlzYWJsZXMgY2xhc3MgYnVpbGRlciBmdW5jdGlvbmFsaXR5LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2hhaW5pbmcgKnRoaXMqIHdpdGhvdXQgY2xhc3MgYnVpbGRlci5cclxuXHRcdCAqL1xyXG5cdFx0Y3Rvci5maW5hbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRkZWxldGUgdGhpcy50eXBlLnNjb3BlO1xyXG5cdFx0XHRkZWxldGUgdGhpcy50eXBlLnByb3BlcnRpZXM7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnR5cGUuZXh0ZW5kcztcclxuXHRcdFx0ZGVsZXRlIHRoaXMudHlwZS50eXBlO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8vIHJldHVybnMgY2xhc3MgYnVpbGRlclxyXG5cdFx0cmV0dXJuIGN0b3I7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBDcmVhdGVzIERPTSBtb2RpZmllci5cclxuXHQgKiBcclxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFNpbmdsZSBET00gZWxlbWVudC5cclxuXHQgKiBAcmV0dXJucyB7QkJRLkRPTS5FbGVtZW50fSBFbGVtZW50IEJCUSBtb2RpZmllci5cclxuXHQgKi9cclxuXHRCQlEuRE9NID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0cmV0dXJuIG5ldyBCQlEuRE9NLkVsZW1lbnQoZWxlbWVudCk7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBET00gZWxlbWVudCBtb2RpZmllciB1dGlsaXR5IGNsYXNzLlxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRleHRcclxuXHQgKi9cclxuXHRCQlEuRE9NLkVsZW1lbnQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblx0XHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG5cdH07XHJcblx0XHJcblx0Ly8gQkJRLkRPTS5FbGVtZW50IGNsYXNzIHByb3RvdHlwZVxyXG5cdEJCUS5ET00uRWxlbWVudC5wcm90b3R5cGUgPSB7XHJcblx0XHQvKipcclxuXHRcdCAqIENvbW1vbiBjdG9yLlxyXG5cdFx0ICovXHJcblx0XHRjb25zdHJ1Y3RvcjogQkJRLkRPTSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBCaW5kcyBldmVudCB0byB0aGUgYXNzaWduZWQgZWxlbWVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgXHJcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdG9uOiBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaykge1xyXG5cdFx0XHRpZih0aGlzLmNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG5cdFx0XHRcdHRoaXMuY29udGV4dC5hZGRFdmVudExpc3RlbmVyLmFwcGx5KHRoaXMuY29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHQvLyBvdXBzLCBmdW5jdGlvbiBub3QgcmVjb3Jnbml6ZWRcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdObyBldmVudCBiaW5kaW5nIGZ1bmN0aW9uYWxpdHkgZm91bmQhJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBc3NpZ25zIGdpdmVuIENTUyBwcm9wZXJ0aWVzIHRvIEhUTUwgZWxlbWVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzIENTUyBwcm9wZXJ0aWVzLlxyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGNzczogZnVuY3Rpb24ocHJvcHMpIHtcclxuXHRcdFx0QkJRLlV0aWxzLmFzc2lnbih0aGlzLmNvbnRleHQuc3R5bGUsIHByb3BzKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgSFRNTCBlbGVtZW50IGludG8gKnRoaXMqLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlIEhUTUwgZWxlbWVudCB0byBhcHBlbmQuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0YXBwZW5kOiBmdW5jdGlvbihub2RlKSB7XHJcblx0XHRcdGZvcih2YXIgaSBpbiBhcmd1bWVudHMpIHtcclxuXHRcdFx0XHRub2RlID0gYXJndW1lbnRzW2ldOyAvLyByZS1hc3NpZ25cclxuXHRcdFx0XHR0aGlzLmNvbnRleHQuYXBwZW5kQ2hpbGQoXHJcblx0XHRcdFx0XHRub2RlIGluc3RhbmNlb2YgQkJRLkRPTS5FbGVtZW50ID9cclxuXHRcdFx0XHRcdFx0bm9kZS5jb250ZXh0IDogbm9kZVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgKnRoaXMqIGVsZW1lbnQgaW50byBzcGVjaWZpZWQgZWxlbWVudCBhcyB0YXJnZXQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgSFRNTCBlbGVtZW50LlxyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGFwcGVuZFRvOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdFx0aWYodGFyZ2V0IGluc3RhbmNlb2YgQkJRLkRPTS5FbGVtZW50KSB7XHJcblx0XHRcdFx0dGFyZ2V0LmNvbnRleHQuYXBwZW5kQ2hpbGQodGhpcy5jb250ZXh0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5jb250ZXh0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hhbmdlcyAqdGhpcyogZWxlbWVudCBpZCBhdHRyaWJ1dGUgdmFsdWUuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBpZE5hbWUgRWxlbWVudCBuZXcgaWQgdmFsdWUuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0aWQ6IGZ1bmN0aW9uKGlkTmFtZSkge1xyXG5cdFx0XHR0aGlzLmNvbnRleHQuaWQgPSBpZE5hbWU7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2VzICp0aGlzKiBlbGVtZW50IGNsYXNzIGF0dHJpYnV0ZSB2YWx1ZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZSBFbGVtZW50IG5ldyBjbGFzcyBuYW1lLlxyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGNsYXNzOiBmdW5jdGlvbihjbGFzc05hbWUpIHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZXMgKnRoaXMqIGVsZW1lbnQncyB0ZXh0IGNvbnRlbnQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50IEhUTUwgZW50cmllcyBhcyBzdHJpbmcuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0dGV4dDogZnVuY3Rpb24oY29udGVudCkge1xyXG5cdFx0XHR0aGlzLmNvbnRleHQudGV4dENvbnRlbnQgPSBjb250ZW50O1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hhbmdlcyAqdGhpcyogZWxlbWVudCdzIGNvbnRlbnQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50IEhUTUwgZW50cmllcyBhcyBzdHJpbmcuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0aHRtbDogZnVuY3Rpb24oY29udGVudCkge1xyXG5cdFx0XHR0aGlzLmNvbnRleHQuaW5uZXJIVE1MID0gY29udGVudDtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgZWxlbWVudCBpbnRvIGdpdmVuIHRhcmdldCAoaWYgc3BlY2lmaWVkKSwgYW5kIHJldHVybnNcclxuXHRcdCAqIERPTSByYXcgKnRoaXMqIEhUTUwgZWxlbWVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudHxCQlEuRE9NLkVsZW1lbnR9IHRhcmdldCBUYXJnZXQgSFRNTCBlbGVtZW50LlxyXG5cdFx0ICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFJhdyBIVE1MIGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdGRvbmU6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0XHRpZih0eXBlb2YgdGFyZ2V0ICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHRoaXMuYXBwZW5kVG8odGFyZ2V0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZXh0O1xyXG5cdFx0fVxyXG5cdH07XHJcbn0pKHdpbmRvdy5CQlEgPSB3aW5kb3cuQkJRIHx8IHt9KTtcclxuXHJcblxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qIFxyXG4gKiBiYnEtY29uc29sZS5qc1xyXG4gKiBcclxuICogQkJRIG1vZHVsZSBmb3IgZXh0ZW5kIGNvbnNvbGUubG9nIGJ5IGN1c3RvbWl6ZWQgb24tc2NyZWVuIGxvZ2dlci5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEJCUSBDb25zb2xlIE1vZHVsZS5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oQkJRKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQkJRIG9uLXNjcmVlbiBjb25zb2xlIG1hbmFnZXIuXHJcblx0ICovXHJcblx0QkJRLmNvbnNvbGUgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBjcmVhdGVzIHN0YXR1cyBlbGVtZW50c1xyXG5cdFx0dmFyIHN1YmluZm8gPSBbXHJcblx0XHRcdEJCUS5ET00oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKVxyXG5cdFx0XHRcdC5jc3Moe21hcmdpblJpZ2h0OiAnOHB4J30pXHJcblx0XHRcdFx0LmNvbnRleHQsXHJcblx0XHRcdEJCUS5ET00oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKVxyXG5cdFx0XHRcdC50ZXh0KCctLS0nKVxyXG5cdFx0XHRcdC5jb250ZXh0XHJcblx0XHRdO1xyXG5cdFx0XHJcblx0XHQvLyBjcmVhdGVzIGNvbW1vbiBpbmZvYmFyXHJcblx0XHR2YXIgaW5mb2JhciA9IEJCUS5ET00oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpXHJcblx0XHRcdC5hcHBlbmQoc3ViaW5mb1swXSwgc3ViaW5mb1sxXSlcclxuXHRcdFx0LmNvbnRleHQ7XHJcblx0XHRcclxuXHRcdC8vIGNyZWF0ZXMgbG9ncyBjb250YWluZXJcclxuXHRcdHZhciBsb2dzID0gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpKVxyXG5cdFx0XHQuY29udGV4dDtcclxuXHRcdFxyXG5cdFx0Ly8gY3JlYXRlcyBjb250YWluZXIgZWxlbWVudCBhbmQgYXBwZW5kcyB0byBib2R5XHJcblx0XHR2YXIgY29udGFpbmVyID0gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcclxuXHRcdFx0LmlkKCdnYW1lLWxvZ2dlcicpXHJcblx0XHRcdC5jc3Moe2Rpc3BsYXk6ICdub25lJ30pXHJcblx0XHRcdC5hcHBlbmQoaW5mb2JhciwgbG9ncylcclxuXHRcdFx0LmRvbmUoZG9jdW1lbnQuYm9keSk7XHJcblx0XHRcclxuXHRcdC8vIHB1YmxpYyBzY29wZVxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFNob3dzIGNvbnNvbGUgY29udGFpbmVyIHdoZW4gZG9jdW1lbnQncyByZWFkeS5cclxuXHRcdFx0ICovXHJcblx0XHRcdHNob3dPblJlYWR5OiB0cnVlLFxyXG5cdFx0XHRcclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENoYW5nZXMgc3RhdGljIHN0YXR1cyBjb250ZW50LlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgTmV3IGNvbnRlbnQuXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdFx0c3ViaW5mb1swXS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH0sXHJcblx0XHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ2hhbmdlcyBkeW5hbWljIHN0YXR1cyBjb250ZW50LlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgTmV3IGNvbnRlbnQuXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0ZnBzOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdFx0c3ViaW5mb1sxXS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH0sXHJcblx0XHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ3JlYXRlcyBuZXcgZW50cnkgaW50byBsb2dzIGNvbnRhaW5lci5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50XHJcblx0XHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gQWRkZWQgbG9nIGVudHJ5LlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0bG9nOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdFx0Ly8gcmVtb3ZlIGVsZW1lbnQgZnJvbSB0b3BcclxuXHRcdFx0XHRpZihsb2dzLmNoaWxkTm9kZXMubGVuZ3RoID4gNSkge1xyXG5cdFx0XHRcdFx0bG9ncy5yZW1vdmVDaGlsZChsb2dzLmNoaWxkTm9kZXNbMF0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gYXBwZW5kcyBsb2dzIGVsZW1lbnRcclxuXHRcdFx0XHRyZXR1cm4gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpKVxyXG5cdFx0XHRcdFx0LnRleHQoY29udGVudCkuZG9uZShsb2dzKTtcclxuXHRcdFx0fSxcclxuXHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU2hvd3MgY29uc29sZSBjb250YWluZXIuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdFx0ICovXHJcblx0XHRcdHNob3c6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBIaWRlcyBjb25zb2xlIGNvbnRhaW5lci5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0aGlkZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogVG9nZ2xlcyBjb25zb2xlIHZpc2liaWxpdHkuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdFx0ICovXHJcblx0XHRcdHRvZ2dsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgP1xyXG5cdFx0XHRcdFx0dGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIGNvbnNvbGUgb24tc2NyZWVuIGNvbnRhaW5lciBvbi1ET00tY29udGVudC1sb2FkLlxyXG5cdCAqL1xyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRpZihCQlEuY29uc29sZS5zaG93T25SZWFkeSkge1xyXG5cdFx0XHRCQlEuY29uc29sZS5zaG93KCk7XHJcblx0XHR9XHJcblx0fSwgZmFsc2UpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIE1ha2VzIGNvbnNvbGUgaW5zdGFuY2UgaWYgbm90IGFscmVhZHkgZXhpc3RzLlxyXG5cdCAqL1xyXG5cdGlmKCF3aW5kb3cuY29uc29sZSkge1xyXG5cdFx0d2luZG93LmNvbnNvbGUgPSB7XHJcblx0XHRcdGxvZzogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0aW5mbzogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0d2FybjogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKCkge31cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFN0b3JlcyBvbGQgQ29uc29sZSBmdW5jdGlvbmFsaXR5LlxyXG5cdCAqL1xyXG5cdHZhciBfc3VwZXIgPSB7XHJcblx0XHRsb2c6IHdpbmRvdy5jb25zb2xlLmxvZyxcclxuXHRcdGluZm86IHdpbmRvdy5jb25zb2xlLmluZm8sXHJcblx0XHR3YXJuOiB3aW5kb3cuY29uc29sZS53YXJuLFxyXG5cdFx0ZXJyb3I6IHdpbmRvdy5jb25zb2xlLmVycm9yXHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBFeHRlbmRzIG5hdGl2ZSBDb25zb2xlIGZ1bmN0aW9uYWxpdHkuXHJcblx0ICovXHJcblx0QkJRLlV0aWxzLmFzc2lnbih3aW5kb3cuY29uc29sZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2dzIG5ldyB2YWx1ZSBpbnRvIGJvdGggY29uc29sZXMgLSBuYXRpdmUgYW5kIG9uLXNjcmVlbi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgQW55IHZhbHVlIHRvU3RyaW5nLWFibGUuXHJcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IE9uLXNjcmVlbiBjb25zb2xlIGVudHJ5IGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdGxvZzogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLmxvZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRCQlEuY29uc29sZS5sb2coJycgKyB2YWx1ZSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIExvZ3MgbmV3IHZhbHVlIGludG8gYm90aCBjb25zb2xlcyAtIG5hdGl2ZSBhbmQgb24tc2NyZWVuLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge01peGVkfSB2YWx1ZSBBbnkgdmFsdWUgdG9TdHJpbmctYWJsZS5cclxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gT24tc2NyZWVuIGNvbnNvbGUgZW50cnkgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0aW5mbzogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLmluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0QkJRLmNvbnNvbGUubG9nKCcnICsgdmFsdWUpLnN0eWxlLmNvbG9yID0gJyNjMGMwZmYnO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2dzIG5ldyB2YWx1ZSBpbnRvIGJvdGggY29uc29sZXMgLSBuYXRpdmUgYW5kIG9uLXNjcmVlbi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgQW55IHZhbHVlIHRvU3RyaW5nLWFibGUuXHJcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IE9uLXNjcmVlbiBjb25zb2xlIGVudHJ5IGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdHdhcm46IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdF9zdXBlci53YXJuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdEJCUS5jb25zb2xlLmxvZygnJyArIHZhbHVlKS5zdHlsZS5jb2xvciA9ICcjZmZmZjgwJztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTG9ncyBuZXcgdmFsdWUgaW50byBib3RoIGNvbnNvbGVzIC0gbmF0aXZlIGFuZCBvbi1zY3JlZW4uXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlIEFueSB2YWx1ZSB0b1N0cmluZy1hYmxlLlxyXG5cdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fSBPbi1zY3JlZW4gY29uc29sZSBlbnRyeSBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRlcnJvcjogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLmVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdEJCUS5jb25zb2xlLmxvZygnJyArIHZhbHVlKS5zdHlsZS5jb2xvciA9ICcjZjAzMDMwJztcclxuXHRcdH1cclxuXHR9KTtcclxufSkod2luZG93LkJCUSA9IHdpbmRvdy5CQlEgfHwge30pO1xyXG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKiBcclxuICogYmJxLXBpeGkuanNcclxuICogXHJcbiAqIEJCUSByZW5kZXJlciBleHRlbnNpb24gZm9yIHBsYXlncm91bmQgYmFzZWQgb24gUGl4aSBXZWJHTC5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEJCUSBSZW5kZXJpbmcgTW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oQkJRLCBQTEFZR1JPVU5ELCBQSVhJKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0Ly8gZGlzYWJsZXMgbGluZWFyIGludGVycG9sdGlvbiBieSBkZWZhdWx0XHJcblx0UElYSS5TQ0FMRV9NT0RFUy5ERUZBVUxUID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xyXG5cdFxyXG5cdC8vIHJlLWRlZmluZSBkZWZhdWx0IHJlbmRlcmVyIG9wdGlvbnNcclxuXHRCQlEuVXRpbHMuYXNzaWduKFBJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OUywge1xyXG5cdFx0Ly9jbGVhckJlZm9yZVJlbmRlcjogZmFsc2UsXHJcblx0XHRhdXRvUmVzaXplOiB0cnVlXHJcblx0fSk7XHJcblx0XHJcblx0Ly8gaGlkZXMgPGhlbGxvIHBpeGk+XHJcblx0UElYSS51dGlscy5fc2FpZEhlbGxvID0gdHJ1ZTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBTdG9yZXMgb2xkIHVzYWJsZSBtZXRob2RzLlxyXG5cdCAqL1xyXG5cdHZhciBfc3VwZXIgPSB7XHJcblx0XHRnZXRBc3NldEVudHJ5OiBQTEFZR1JPVU5ELkFwcGxpY2F0aW9uLnByb3RvdHlwZS5nZXRBc3NldEVudHJ5XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBFeHRlbmRzIFBMQVlHUk9VTkQuQXBwbGljYXRpb24gYnkgcmVuZGVyZXIuXHJcblx0ICovXHJcblx0QkJRLlV0aWxzLmFzc2lnbihQTEFZR1JPVU5ELkFwcGxpY2F0aW9uLnByb3RvdHlwZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBc3NpZ25zIGFuIG5ldyBQaXhpIHJlbmRlcmVyIHRvIFByb3RvdHlwZS5BcHBsaWNhdGlvbiBpbnN0YW5jZS5cclxuXHRcdCAqIENyZWF0ZXMgV2ViR0wgb25lIG9yIHVzZXMgZmFsbGJhY2sgQ2FudmFzIHJlbmRlcmVyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBQSVhJIHJlbmRlcmVyIG9wdGlvbnMuXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5TeXN0ZW1SZW5kZXJlcn0gUHJvcGVybHkgZGV0ZWN0ZWQgcmVuZGVyZXIuXHJcblx0XHQgKi9cclxuXHRcdGNyZWF0ZVJlbmRlcmVyOiBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHRcdC8vIGNyZWF0ZWQgbmV3IHJlbmRlcmVyXHJcblx0XHRcdGNvbnNvbGUubG9nKCdDcmVhdGluZyBQSVhJIHJlbmRlcmVyLi4uJyk7XHJcblx0XHRcdHRoaXMucmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcihcclxuXHRcdFx0XHR3aW5kb3cuaW5uZXJXaWR0aCxcclxuXHRcdFx0XHR3aW5kb3cuaW5uZXJIZWlnaHQsXHJcblx0XHRcdFx0b3B0aW9uc1xyXG5cdFx0XHQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8ga2VlcCBhc3BlY3QgcmF0aW8gKGlmIHNwZWNpZmllZClcclxuXHRcdFx0aWYodHlwZW9mIHRoaXMuc2NhbGUgPT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0Ly8gYmluZCB3aW5kb3cgcmVzaXplIGV2ZW50XHJcblx0XHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XHQncmVzaXplJywgdGhpcy5rZWVwQXNwZWN0LmJpbmQodGhpcyksIGZhbHNlXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHR0aGlzLmtlZXBBc3BlY3QoKTsgLy9ydW4tb24tZmx5XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGFkZCByZW5kZXJlciB2aWV3IHRvIHRoZSBET00gZWxlbWVudFxyXG5cdFx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIgfHwgZG9jdW1lbnQuYm9keTtcclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIudmlldyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEtlZXBzIGNhbnZhcyB2aWV3IGFzcGVjdC5cclxuXHRcdCAqL1xyXG5cdFx0a2VlcEFzcGVjdDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNoYW5nZSBzY2FsZSBzaXplXHJcblx0XHRcdGlmKHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4KSB7XHJcblx0XHRcdFx0dGhpcy5zY2FsZSA9IDI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5zY2FsZSA9IDM7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlc2l6ZSBjYW52YXMgZWxlbWVudFxyXG5cdFx0XHR0aGlzLnJlbmRlcmVyLnJlc2l6ZShcclxuXHRcdFx0XHR3aW5kb3cuaW5uZXJXaWR0aCAvIHRoaXMuc2NhbGUsXHJcblx0XHRcdFx0d2luZG93LmlubmVySGVpZ2h0IC8gdGhpcy5zY2FsZVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0Ly8gc2NhbGUtdXAgY2FudmFzIGVsZW1lbnQgdmlhIENTUyB0cmFuc2Zvcm0gcHJvcGVydHlcclxuXHRcdFx0dmFyIHNjYWxlMmQgPSAnc2NhbGUoJyt0aGlzLnNjYWxlKycsJyt0aGlzLnNjYWxlKycpJztcclxuXHRcdFx0dGhpcy5yZW5kZXJlci52aWV3LnN0eWxlLm1zVHJhbnNmb3JtID0gc2NhbGUyZDtcclxuXHRcdFx0dGhpcy5yZW5kZXJlci52aWV3LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHNjYWxlMmQ7XHJcblx0XHRcdHRoaXMucmVuZGVyZXIudmlldy5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSBzY2FsZTJkO1xyXG5cdFx0XHR0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUuT1RyYW5zZm9ybSA9IHNjYWxlMmQ7XHJcblx0XHRcdHRoaXMucmVuZGVyZXIudmlldy5zdHlsZS50cmFuc2Zvcm0gPSBzY2FsZTJkO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGVzIHRleHR1cmUgZnJvbSBpbWFnZS5cclxuXHRcdCAqIFVzZXMgc2hhcmVkIHRleHR1cmUgaW5zdGFuY2UgYnkgZGVmYXVsdC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtJbWFnZXxTdHJpbmd9IGltYWdlIEltYWdlIEpTIGluc3RhbmNlIG9yIGltYWdlIG5hbWUuXHJcblx0XHQgKiBAcGFyYW0ge0Jvb2xlYW59IHNoYXJlZCBVc2Ugc2hhcmVkIChjYWNoZWQpIHRleHR1cmUgaW5zdGFuY2UuXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5UZXh0dXJlfSBQaXhpIHRleHR1cmUgaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdHRleDogZnVuY3Rpb24oaW1hZ2UsIHNoYXJlZCkge1xyXG5cdFx0XHR2YXIgaW1hZ2VJbnN0ID0gaW1hZ2U7XHJcblx0XHRcdGlmKHR5cGVvZiBpbWFnZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRpbWFnZUluc3QgPSB0aGlzLmltYWdlc1tpbWFnZV07XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoIShpbWFnZUluc3QgaW5zdGFuY2VvZiBJbWFnZSkpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdJbWFnZSBcXCcnICsgaW1hZ2UgKyAnXFwnIG5vdCByZWNvZ25pemVkJywgaW1hZ2VJbnN0KTtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBjcmVhdGUgc2hhcmVkIHRleHR1cmVcclxuXHRcdFx0aWYodHlwZW9mIHNoYXJlZCA9PT0gJ3VuZGVmaW5lZCcgfHwgc2hhcmVkID09PSB0cnVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VJbnN0LnNyYyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY3JlYXRlIG5ldyB0ZXh0dXJlICp3aXRoIHNoYXJlZCBiYXNlIHRleHR1cmVcclxuXHRcdFx0cmV0dXJuIG5ldyBQSVhJLlRleHR1cmUoXHJcblx0XHRcdFx0UElYSS5CYXNlVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VJbnN0LnNyYylcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQWxsb3dzIGltYWdlcyBsb2FkaW5nIGZyb20gZXh0ZXJuYWwgc2VydmVycy5cclxuXHRcdCAqIFJlcXVpcmVzIGFsbG93ZWQgQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgcG9saWN5IHRvIHdvcmsuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFVSTCBvciByZWxhdGl2ZSBhc3NldCBwYXRoLlxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGZvbGRlciBBc3NldHMgc3RvcmluZyBmb2xkZXIuXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gZGVmYXVsdEV4dGVuc2lvbiBEZWZhdWx0IGFzc2V0IGV4dGVuc2lvbi5cclxuXHRcdCAqIEByZXR1cm5zIHtPYmplY3R9IEFzc2V0IGVudHJ5IG9iamVjdC5cclxuXHRcdCAqL1xyXG5cdFx0Z2V0QXNzZXRFbnRyeTogZnVuY3Rpb24ocGF0aCwgZm9sZGVyLCBkZWZhdWx0RXh0ZW5zaW9uKSB7XHJcblx0XHRcdC8vIGNoZWNrIGlmIGFzc2V0IGlzIGZyb20gZXh0ZXJuYWwgc2VydmVyXHJcblx0XHRcdGlmKC9eaHR0cCh8cyk6XFwvXFwvLisvaS50ZXN0KHBhdGgpKSB7XHJcblx0XHRcdFx0dmFyIGtleSA9IHBhdGguc3BsaXQoJy8nKS5wb3AoKS5zcGxpdCgnLicpWzBdLFxyXG5cdFx0XHRcdFx0ZXh0ID0gcGF0aC5zcGxpdCgnLicpLnBvcCgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRrZXk6IGtleSxcclxuXHRcdFx0XHRcdHVybDogcGF0aCxcclxuXHRcdFx0XHRcdHBhdGg6IHBhdGgsXHJcblx0XHRcdFx0XHRleHQ6IGV4dFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHVzZSBvbGQgbWV0aG9kXHJcblx0XHRcdHJldHVybiBfc3VwZXIuZ2V0QXNzZXRFbnRyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgYWRkaXRpb25hbCBmdW5jdGlvbmFsaXR5IGludG8gUElYSS5Qb2ludCBjbGFzcy5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMuYXNzaWduKFBJWEkuUG9pbnQucHJvdG90eXBlLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIE92ZXJyaWRlIHZlY3RvciB2YWx1ZXMuXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRzZXQ6IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHRcdFx0dGhpcy54ID0geCB8fCAwO1xyXG5cdFx0XHR0aGlzLnkgPSB5IHx8IDA7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNdWx0aXBsaWVzIHZlY3RvciBieSBhIHNjYWxhci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuUG9pbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0bXVsOiBmdW5jdGlvbihzY2FsYXIpIHtcclxuXHRcdFx0dGhpcy54ID0gKHRoaXMueCAqIHNjYWxhcikgfHwgMDtcclxuXHRcdFx0dGhpcy55ID0gKHRoaXMueSAqIHNjYWxhcikgfHwgMDtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIERpdmlkZXMgdmVjdG9yIGJ5IGEgc2NhbGFyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRkaXY6IGZ1bmN0aW9uKHNjYWxhcikge1xyXG5cdFx0XHR0aGlzLnggPSAodGhpcy54IC8gc2NhbGFyKSB8fCAwO1xyXG5cdFx0XHR0aGlzLnkgPSAodGhpcy55IC8gc2NhbGFyKSB8fCAwO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBsZW5ndGggb2YgdGhlIHZlY3Rvci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge051bWJlcn0gVmVjdG9yIGxlbmd0aC5cclxuXHRcdCAqL1xyXG5cdFx0bGVuZ3RoOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIE1hdGguc3FydChcclxuXHRcdFx0XHR0aGlzLnggKiB0aGlzLnggK1xyXG5cdFx0XHRcdHRoaXMueSAqIHRoaXMueVxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBOb3JtYWxpemVzIHZlY3Rvci5cclxuXHRcdCAqIE1ha2VzIG5vcm1hbGl6YXRpb24gb24gaXRzZWxmLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRub3JtYWxpemU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5kaXYodGhpcy5sZW5ndGgoKSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQWRkcyBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkgaW50byBQSVhJLlJlY3RhbmdsZSBjbGFzcy5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMuYXNzaWduKFBJWEkuUmVjdGFuZ2xlLnByb3RvdHlwZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBEZXRlcm1pbmVzIGludGVyc2VjdGlvbiBiZXR3ZWVuIHJlY3RhbmdsZXMuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RcclxuXHRcdCAqIEByZXR1cm5zIHtCb29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRpbnRlcnNlY3RzOiBmdW5jdGlvbihyZWN0KSB7XHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0KHRoaXMueCArIHRoaXMud2lkdGggPj0gcmVjdC54ICYmIHRoaXMueCA8PSByZWN0LnggKyByZWN0LndpZHRoKSAmJlxyXG5cdFx0XHRcdCh0aGlzLnkgKyB0aGlzLmhlaWdodCA+PSByZWN0LnkgJiYgdGhpcy55IDw9IHJlY3QueSArIHJlY3QuaGVpZ2h0KVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSh3aW5kb3cuQkJRID0gd2luZG93LkJCUSB8fCB7fSwgUExBWUdST1VORCwgUElYSSk7XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyogXHJcbiAqIGJicS1zdGFnZS5qc1xyXG4gKiBcclxuICogQkJRIGdhbWVwbGF5IHN0YXRlIG1hY2hpbmUgc3RhdGVzLlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogQ29tbW9uIGdhbWVwbGF5IHN0YXRlIG1vZHVsZS5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7UElYSX0gUGl4aSBQSVhJIHJlbmRlcmluZyBlbmdpbmUgbmFtZXNwYWNlLlxyXG4gKi9cclxuKGZ1bmN0aW9uKEJCUSwgUElYSSkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZXMgYWN0b3IgaW5zdGFuY2UuXHJcblx0ICovXHJcblx0QkJRLkFjdG9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBpbmhlcml0YW5jZSBjdG9yXHJcblx0XHRQSVhJLlNwcml0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHJcblx0XHQvLyBzaWduYWxzIHNldFxyXG5cdFx0dGhpcy5zaWduYWxzID0gW107XHJcblx0XHRcclxuXHRcdC8vIGV2ZW50cyBzZXRcclxuXHRcdHRoaXMuZXZlbnRzID0gW107XHJcblx0XHRcclxuXHRcdC8vIHdldGhlciBhY3RvciBpcyBuby1tb3JlIGxpdmVcclxuXHRcdHRoaXMua2lsbGVkID0gZmFsc2U7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5BY3RvciBieSBQSVhJLlNwcml0ZSBjbGFzc1xyXG5cdEJCUS5VdGlscy5leHRlbmRzKEJCUS5BY3RvciwgUElYSS5TcHJpdGUsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGN0b3IuXHJcblx0XHQgKi9cclxuXHRcdGNvbnN0cnVjdG9yOiBCQlEuQWN0b3IsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRW1pdHMgYWN0b3IncyBkZWZpbmVkIHNpZ25hbC5cclxuXHRcdCAqIEFsbG93cyBvcHRpb25hbCBhcmd1bWVudHMgYXBwbHlpbmcgZm9yIHNpZ25hbCBjYWxsLlxyXG5cdFx0ICogRXhhbXBsZTpcclxuXHRcdCAqXHRhY3Rvci5lbWl0KCdkYW1hZ2UnLCAxMCk7XHJcblx0XHQgKiBcclxuXHRcdCAqIFNpZ25hbHMgY2FsbCdzICp0aGlzKiBjb250ZXh0IGlzIHRoZSBhY3RvciBpbnN0YW5jZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IHNpZ25hbCBTaWduYWwgbmFtZSB0byBlbWl0LlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3Rvcn0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRlbWl0U2lnbmFsOiBmdW5jdGlvbihzaWduYWwpIHtcclxuXHRcdFx0dmFyIHNpZ25hbHMgPSB0aGlzLnNpZ25hbHNbc2lnbmFsXSxcclxuXHRcdFx0XHRzbGljZWRBcmd1bWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdFx0XHRpZih0eXBlb2Ygc2lnbmFscyAhPT0gJ3VuZGVmaW5lZCcgJiYgc2lnbmFscy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0c2lnbmFscy5mb3JFYWNoKGZ1bmN0aW9uKHMpIHtcclxuXHRcdFx0XHRcdHMuY2FsbGJhY2suYXBwbHkocy5jb250ZXh0LCBzbGljZWRBcmd1bWVudHMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBCaW5kcyBhbm90aGVyIHNpZ25hbCBjYWxsYmFjay5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IHNpZ25hbCBTaWduYWwgbmFtZSBmb3IgYmluZC5cclxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFNpZ25hbCBjYWxsYmFjayB0byBhcHBlbmQuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGJpbmRTaWduYWw6IGZ1bmN0aW9uKHNpZ25hbCwgY2FsbGJhY2ssIGNvbnRleHQpIHtcclxuXHRcdFx0dGhpcy5zaWduYWxzW3NpZ25hbF0gPSB0aGlzLnNpZ25hbHNbc2lnbmFsXSB8fCBbXTtcclxuXHRcdFx0dGhpcy5zaWduYWxzW3NpZ25hbF0ucHVzaCh7XHJcblx0XHRcdFx0Y2FsbGJhY2s6IGNhbGxiYWNrLFxyXG5cdFx0XHRcdGNvbnRleHQ6IGNvbnRleHQgfHwgdGhpc1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVuYmluZHMgc2lnbmFsIGNhbGxiYWNrLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbmFsIFNpZ25hbCBuYW1lIHRvIHVuYmluZC5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0dW5iaW5kU2lnbmFsOiBmdW5jdGlvbihzaWduYWwsIGNhbGxiYWNrKSB7XHJcblx0XHRcdHZhciBzaWduYWxzID0gdGhpcy5zaWduYWxzW3NpZ25hbF0sIGluZGV4ID0gLTE7XHJcblx0XHRcdGlmKHR5cGVvZiBzaWduYWxzICE9PSAndW5kZWZpbmVkJyAmJiBzaWduYWxzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHR0aGlzLnNpZ25hbHNbc2lnbmFsXSA9IHNpZ25hbHMuZmlsdGVyKGZ1bmN0aW9uKHMpIHtcclxuXHRcdFx0XHRcdHJldHVybiAhKHMuY2FsbGJhY2sgPT09IGNhbGxiYWNrKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xlYXJzIGFsbCBiaW5kZWQgc2lnbmFscy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IHNpZ25hbCBTaWduYWwgbmFtZSB0byBjbGVhci5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0Y2xlYXJTaWduYWw6IGZ1bmN0aW9uKHNpZ25hbCkge1xyXG5cdFx0XHRkZWxldGUgdGhpcy5zaWduYWxzW3NpZ25hbF07XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbnF1ZXVlcyBldmVudCBpbnRvIGV2ZW50cyBhcnJheS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IEV2ZW50IG5hbWUgKHNpZ25hbCkuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGVucXVldWVFdmVudDogZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0dGhpcy5ldmVudHMucHVzaCh7XHJcblx0XHRcdFx0bmFtZTogZXZlbnQsXHJcblx0XHRcdFx0YXJnczogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIERlcXVldWVzIGV2ZW50IGZyb20gZXZlbnRzIGFycmF5LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7T2JqZWN0fEJvb2xlYW59IEZpcnN0IGV2ZW50LCBGTEFTRSBpZiBubyBtb3JlIGV2ZW50cyByZW1haW5pbmcuXHJcblx0XHQgKi9cclxuXHRcdGRlcXVldWVFdmVudDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmKHRoaXMuZXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBnZXQgZXZlbnQgZnJvbSBiZWdpbm5pbmdcclxuXHRcdFx0dmFyIGV2ZW50ID0gdGhpcy5ldmVudHNbMF07XHJcblx0XHRcdC8vIHJlbW92ZSBldmVudCBmcm9tIGJlZ2lubmlnXHJcblx0XHRcdHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMuc2xpY2UoMSk7XHJcblx0XHRcdC8vdGhpcy5ldmVudHMuc2hpZnQoKTtcclxuXHRcdFx0Ly8gcmV0dXJuIHRoZSBjYXRjaGVkIGV2ZW50XHJcblx0XHRcdHJldHVybiBldmVudDtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRW5yb2xsIHJlbWFpbmluZyBldmVudHMuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YSBGcmFtZSBkZWx0YSB0aW1lLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGU6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdHZhciBldmVudDtcclxuXHRcdFx0d2hpbGUoKGV2ZW50ID0gdGhpcy5kZXF1ZXVlRXZlbnQoKSkgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0Ly8gZW1pdHMgZXZlbnQgc2lnbmFsXHJcblx0XHRcdFx0dGhpcy5lbWl0U2lnbmFsLmFwcGx5KHRoaXMsXHJcblx0XHRcdFx0XHRBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtldmVudC5uYW1lXSwgZXZlbnQuYXJncylcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFNpZ24gYWN0b3IgdG8gZGVzdHJveS5cclxuXHRcdCAqL1xyXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnRvRGVsZXRlKSB7XHJcblx0XHRcdFx0dGhpcy5wYXJlbnQudG9EZWxldGUucHVzaCh0aGlzKTtcclxuXHRcdFx0XHR0aGlzLmtpbGxlZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBCYXNpYyBhbmltYXRlZCBhY3Rvci5cclxuXHQgKi9cclxuXHRCQlEuQW5pbWF0ZWRBY3RvciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gaW5oZXJpdGVkIGN0b3IgY2FsbFxyXG5cdFx0QkJRLkFjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5BbmltYXRlZEFjdG9yIGJ5IEJCUS5BY3RvciBjbGFzc1xyXG5cdEJCUS5VdGlscy5leHRlbmRzKEJCUS5BbmltYXRlZEFjdG9yLCBCQlEuQWN0b3IsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQW5pbWF0aW9uIGZyYW1lcyB0byB1c2UuXHJcblx0XHQgKi9cclxuXHRcdGFuaW1hdGlvbnM6IHtcclxuXHRcdFx0aWRsZToge1xyXG5cdFx0XHRcdHRpbWU6IDEsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMF1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDdXJyZW50IGZyYW1lIHRpY2suXHJcblx0XHQgKi9cclxuXHRcdGZyYW1lVGljazogMCxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDdXJyZW50IGZyYW1lIGluZGV4LlxyXG5cdFx0ICovXHJcblx0XHRmcmFtZUluZGV4OiAwLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEN1cnJlbnQgcGxheWluZyBhbmltYXRpb24uXHJcblx0XHQgKi9cclxuXHRcdGFuaW1hdGlvbjogJ2lkbGUnLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFBsYXkgZ2l2ZW4gYW5pbWF0aW9uLlxyXG5cdFx0ICovXHJcblx0XHRwbGF5OiBmdW5jdGlvbihhbmltYXRpb24sIHJlc3RhcnQpIHtcclxuXHRcdFx0aWYoYW5pbWF0aW9uID09PSB0aGlzLmFuaW1hdGlvbiAmJiAhcmVzdGFydCkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmVzZXQgYW5pbWF0aW9uIGZyYW1lIGNvdW50ZXJzXHJcblx0XHRcdHRoaXMuZnJhbWVUaWNrID0gdGhpcy5mcmFtZUluZGV4ID0gMDtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHNldCBhbmltYXRpb25cclxuXHRcdFx0dGhpcy5hbmltYXRpb24gPSBhbmltYXRpb247XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhbmltYXRpb24gc3RhcnQgc2lnbmFsXHJcblx0XHRcdHRoaXMuZW1pdFNpZ25hbCgnYW5pbWF0aW9uU3RhcnQnLCB0aGlzLmFuaW1hdGlvbik7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgYW5pbWF0aW9uIGZyYW1lLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGU6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIGluaGVyaXRlZCBzdXBlciBtZXRob2QgY2FsbFxyXG5cdFx0XHRCQlEuQWN0b3IucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsIGRlbHRhKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGZldGNoIGZvciBhbmltYXRpb25cclxuXHRcdFx0dmFyIGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uO1xyXG5cdFx0XHRpZih0eXBlb2YgYW5pbWF0aW9uID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1thbmltYXRpb25dO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhbmltYXRpb24gcmVxdWlyZXMgYW5pbWF0aW9uIG9iamVjdFxyXG5cdFx0XHRpZih0eXBlb2YgYW5pbWF0aW9uICE9PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY29udGludWUgYW5pbWF0aW9uIGZyYW1lXHJcblx0XHRcdHRoaXMuZnJhbWVUaWNrICs9IChkZWx0YSAqIGFuaW1hdGlvbi5mcmFtZXMubGVuZ3RoKSAvIGFuaW1hdGlvbi50aW1lO1xyXG5cdFx0XHRpZih0aGlzLmZyYW1lVGljayA+PSBhbmltYXRpb24uZnJhbWVzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMuZnJhbWVUaWNrIC09IGFuaW1hdGlvbi5mcmFtZXMubGVuZ3RoO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIGFuaW1hdGlvbiBlbmQgc2lnbmFsXHJcblx0XHRcdFx0dGhpcy5lbWl0U2lnbmFsKCdhbmltYXRpb25FbmQnLCB0aGlzLmFuaW1hdGlvbik7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gc2V0IG5leHQgYW5pbWF0aW9uXHJcblx0XHRcdFx0aWYoYW5pbWF0aW9uLm5leHQpIHtcclxuXHRcdFx0XHRcdHRoaXMucGxheShhbmltYXRpb24ubmV4dCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBkZXRlcm1pbmUgZnJhbWUgaW5kZXhcclxuXHRcdFx0dGhpcy5mcmFtZUluZGV4ID0gYW5pbWF0aW9uLmZyYW1lc1tNYXRoLmZsb29yKHRoaXMuZnJhbWVUaWNrKV07XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQmFzaWMgY2FtZXJhIGZvciByZW5kZXJpbmcgZnJvbSBjZW50ZXJlZCBheGlzLlxyXG5cdCAqL1xyXG5cdEJCUS5DYW1lcmEgPSBmdW5jdGlvbihyZW5kZXJlcikge1xyXG5cdFx0Ly8gaW5oZXJpdGVkIGN0b3IgY2FsbFxyXG5cdFx0UElYSS5Db250YWluZXIuY2FsbCh0aGlzKTtcclxuXHRcdFxyXG5cdFx0Ly8gcmVuZGVyZXIgc2V0dXBcclxuXHRcdHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLkNlbnRlcmVkQ29udGFpbmVyXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLkNhbWVyYSwgUElYSS5Db250YWluZXIsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlLXJlbmRlciB1cGRhdGUgdHJhbnNmb3JtLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgX2N4ID0gdGhpcy5yZW5kZXJlci53aWR0aCAvIDIsXHJcblx0XHRcdFx0X2N5ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY2VudGVyIGNhbWVyYSBwb3NpdGlvblxyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnggKz0gX2N4O1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnkgKz0gX2N5O1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdXBkYXRlIHRyYW5zZm9ybXNcclxuXHRcdFx0UElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKHRoaXMpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmUtcG9zaXRpb24gY2VudGVyZWQgY2FtZXJhXHJcblx0XHRcdHRoaXMucG9zaXRpb24ueCAtPSBfY3g7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSAtPSBfY3k7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogU3RhdGUgY2FtZXJhIG1hbmlwdWxhdGlvbiBjbGFzcy5cclxuXHQgKi9cclxuXHRCQlEuRm9sbG93Q2FtZXJhID0gZnVuY3Rpb24ocmVuZGVyZXIsIHgsIHkpIHtcclxuXHRcdC8vIGluaGVyaXRlZCBjdG9yIGNhbGxcclxuXHRcdEJCUS5DYW1lcmEuY2FsbCh0aGlzLCByZW5kZXJlcik7XHJcblx0XHRcclxuXHRcdC8vIHNldHVwIHBvc2l0aW9uXHJcblx0XHR0aGlzLnBvc2l0aW9uLnggPSB4IHx8IDA7XHJcblx0XHR0aGlzLnBvc2l0aW9uLnkgPSB5IHx8IDA7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5DYW1lcmEgYnkgQkJRLkNhbWVyYSBjbGFzc1xyXG5cdEJCUS5VdGlscy5leHRlbmRzKEJCUS5Gb2xsb3dDYW1lcmEsIEJCUS5DYW1lcmEsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FtZXJhIGZvbGxvd3MgZ2l2ZW4gYWN0b3JzIHNldC5cclxuXHRcdCAqL1xyXG5cdFx0Zm9sbG93ZWQ6IFtdLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFkZCBhY3RvciB0byBmb2xsb3cgc2V0LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gYWN0b3IgQWN0b3IgdW5pcXVlIGluc3RhbmNlIHRvIGFkZC5cclxuXHRcdCAqL1xyXG5cdFx0Zm9sbG93OiBmdW5jdGlvbihhY3Rvcikge1xyXG5cdFx0XHRpZih0aGlzLmZvbGxvd2VkLmluZGV4T2YoYWN0b3IpID09PSAtMSkge1xyXG5cdFx0XHRcdHRoaXMuZm9sbG93ZWQucHVzaChhY3Rvcik7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlIGFjdG9yIGZyb20gZm9sbG93IHNldC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IGFjdG9yIEFjdG9yIGluc3RhbmNlIHRvIHJlbW92ZS5cclxuXHRcdCAqL1xyXG5cdFx0dW5mb2xsb3c6IGZ1bmN0aW9uKGFjdG9yKSB7XHJcblx0XHRcdHZhciBpbmRleCA9IHRoaXMuZm9sbG93ZWQuaW5kZXhPZihhY3Rvcik7XHJcblx0XHRcdGlmKGluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRcdHRoaXMuZm9sbG93ZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgY2FtZXJhIHBvc2l0aW9uLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGU6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIGZvbGxvdyBhY3RvcnNcclxuXHRcdFx0aWYodGhpcy5mb2xsb3dlZC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Ly8gZm9sbG93IGNhbWVyYSB0byBhbGwgcGxheWVycy5cclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnggPSB0aGlzLmdldENlbnRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgY2VudGVyIG9mIHRoZSBmb2xsb3dpbmcgb2JqZWN0cy5cclxuXHRcdCAqL1xyXG5cdFx0Z2V0Q2VudGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gZm9sbG93IGFjdG9yc1xyXG5cdFx0XHRpZih0aGlzLmZvbGxvd2VkLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQvLyBnZXQgcG9zaXRpb25zIG9mIGFsbCBhY3RvcnNcclxuXHRcdFx0XHR2YXIgX3ggPSAwO1xyXG5cdFx0XHRcdGZvcih2YXIgaSBpbiB0aGlzLmZvbGxvd2VkKSB7XHJcblx0XHRcdFx0XHR2YXIgYWN0b3IgPSB0aGlzLmZvbGxvd2VkW2ldO1xyXG5cdFx0XHRcdFx0X3ggLT0gYWN0b3IucG9zaXRpb24ueDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gY2FsY3VsYXRlIGNlbnRlcmVkIHBvc2l0aW9uIG9mIGFjdG9yc1xyXG5cdFx0XHRcdHJldHVybiBfeCAvIHRoaXMuZm9sbG93ZWQubGVuZ3RoO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBBbGxvd3MgbWFrZSBwYXJhbGxheCBiYWNrZ3JvdW5kcy5cclxuXHQgKi9cclxuXHRCQlEuUGFyYWxsYXhCYWNrZ3JvdW5kID0gZnVuY3Rpb24oY2FtZXJhKSB7XHJcblx0XHQvLyBpbmhlcml0ZWQgY3RvciBjYWxsXHJcblx0XHRQSVhJLkNvbnRhaW5lci5jYWxsKHRoaXMpO1xyXG5cdFx0XHJcblx0XHQvLyBzdG9yZSBhc3NpZ25lZCBjYW1lcmFcclxuXHRcdHRoaXMuY2FtZXJhID0gY2FtZXJhO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBCQlEuUGFyYWxsYXhCYWNrZ3JvdW5kIGJ5IFBJWEkuQ29udGFpbmVyXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLlBhcmFsbGF4QmFja2dyb3VuZCwgUElYSS5Db250YWluZXIsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyBuZXcgcGFyYWxsYXggYmFja2dyb3VuZCBsYXllci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtJbWFnZXxTdHJpbmd9IGltYWdlIEltYWdlIERPTSBpbnN0YW5jZSBvciB0aGUgaW1hZ2UgbmFtZS5cclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbW1vbiBwYXJhbGxheCBiYWNrZ3JvdW5kIG9wdGlvbnMuXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5EaXNwbGF5T2JqZWN0fVxyXG5cdFx0ICovXHJcblx0XHRhZGRCYWNrZ3JvdW5kOiBmdW5jdGlvbihpbWFnZSwgb3B0aW9ucykge1xyXG5cdFx0XHRvcHRpb25zID0gQkJRLlV0aWxzLmFzc2lnbih7XHJcblx0XHRcdFx0aHRpbGVkOiB0cnVlLFxyXG5cdFx0XHRcdHZ0aWxlZDogdHJ1ZVxyXG5cdFx0XHR9LCBvcHRpb25zKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGZpbmQgaW1hZ2UgYnkgbmFtZVxyXG5cdFx0XHRpZih0eXBlb2YgaW1hZ2UgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0aW1hZ2UgPSBHYW1lLmFwcC5pbWFnZXNbaW1hZ2VdO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjcmVhdGUgYmcgaW5zdGFuY2VcclxuXHRcdFx0dmFyIGJnID0gbmV3IFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZShcclxuXHRcdFx0XHRHYW1lLmFwcC50ZXgoaW1hZ2UpLFxyXG5cdFx0XHRcdG9wdGlvbnMuaHRpbGVkID8gdGhpcy5jYW1lcmEucmVuZGVyZXIud2lkdGggOiBpbWFnZS53aWR0aCxcclxuXHRcdFx0XHRvcHRpb25zLnZ0aWxlZCA/IHRoaXMuY2FtZXJhLnJlbmRlcmVyLmhlaWdodCA6IGltYWdlLmhlaWdodFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcGFyYWxsYXggYmFja2dyb3VuZCBzZXR0aW5nc1xyXG5cdFx0XHRiZy5wYXJhbGxheFNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCBuZXcgUElYSS5Qb2ludCgwLCAwKTtcclxuXHRcdFx0YmcucGFyYWxsYXhPZmZzZXQgPSBvcHRpb25zLm9mZnNldCB8fCBuZXcgUElYSS5Qb2ludCgwLCAwKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHRpbGluZyBvcHRpb25zXHJcblx0XHRcdGJnLmh0aWxlZCA9IG9wdGlvbnMuaHRpbGVkO1xyXG5cdFx0XHRiZy52dGlsZWQgPSBvcHRpb25zLnZ0aWxlZDtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGFwcGVuZCBiYWNrZ3JvdW5kIGFzIHBhcmFsbGF4IGxheWVyXHJcblx0XHRcdHJldHVybiB0aGlzLmFkZENoaWxkKGJnKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHVwZGF0ZVRyYW5zZm9ybTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0dmFyIGNhbWVyYSA9IHRoaXMuY2FtZXJhO1xyXG5cdFx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oYmcpIHtcclxuXHRcdFx0XHQvLyBoLXRpbGVkXHJcblx0XHRcdFx0aWYoYmcuaHRpbGVkKSB7XHJcblx0XHRcdFx0XHQvLyByZXNpemUgYmdcclxuXHRcdFx0XHRcdGJnLndpZHRoID0gY2FtZXJhLnJlbmRlcmVyLndpZHRoO1xyXG5cdFx0XHRcdFx0Ly8gY2VudGVyLXVwIHBhcmFsbGF4IGJhY2tncm91bmRcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi54ID0gYmcud2lkdGggLyAyIC0gYmcudGV4dHVyZS53aWR0aCAvIDI7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBiZyBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueCArPSBiZy5wYXJhbGxheE9mZnNldC54O1xyXG5cdFx0XHRcdFx0Ly8gYXBwbHkgcGFyYWxsYXggb2Zmc2V0c1xyXG5cdFx0XHRcdFx0YmcudGlsZVBvc2l0aW9uLnggKz0gY2FtZXJhLnggKiBiZy5wYXJhbGxheFNjYWxlLng7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gcmUtcG9zaXRpb24gYmFja2dyb3VuZCBieSBvZmZzZXRcclxuXHRcdFx0XHRcdGJnLnBvc2l0aW9uLnggPSBiZy5wYXJhbGxheE9mZnNldC54IC0gY2FtZXJhLnJlbmRlcmVyLndpZHRoIC8gMjtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IHBhcmFsbGF4IG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnBvc2l0aW9uLnggKz0gY2FtZXJhLnggKiBiZy5wYXJhbGxheFNjYWxlLng7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIHYtdGlsZWRcclxuXHRcdFx0XHRpZihiZy52dGlsZWQpIHtcclxuXHRcdFx0XHRcdC8vIHJlc2l6ZSBiZ1xyXG5cdFx0XHRcdFx0YmcuaGVpZ2h0ID0gY2FtZXJhLnJlbmRlcmVyLmhlaWdodDtcclxuXHRcdFx0XHRcdC8vIGNlbnRlci11cCBwYXJhbGxheCBiYWNrZ3JvdW5kXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueSA9IGJnLmhlaWdodCAvIDIgLSBiZy50ZXh0dXJlLmhlaWdodCAvIDI7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBiZyBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueSArPSBiZy5wYXJhbGxheE9mZnNldC55O1xyXG5cdFx0XHRcdFx0Ly8gYXBwbHkgcGFyYWxsYXggb2Zmc2V0c1xyXG5cdFx0XHRcdFx0YmcudGlsZVBvc2l0aW9uLnkgKz0gY2FtZXJhLnkgKiBiZy5wYXJhbGxheFNjYWxlLnk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gcmUtcG9zaXRpb24gYmFja2dyb3VuZCBieSBvZmZzZXRcclxuXHRcdFx0XHRcdGJnLnBvc2l0aW9uLnkgPSBiZy5wYXJhbGxheE9mZnNldC55ICsgY2FtZXJhLnJlbmRlcmVyLmhlaWdodCAvIDI7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBwYXJhbGxheCBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy5wb3NpdGlvbi55ICs9IGNhbWVyYS55ICogYmcucGFyYWxsYXhTY2FsZS55O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjb21tb24gdHJhbnNmb3JtIHVwZGF0ZVxyXG5cdFx0XHRQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogR2FtZSBzdGF0ZSBtYW5pcHVsYXRpbmcgY2xhc3MuXHJcblx0ICovXHJcblx0QkJRLlN0YXRlID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBpbmhlcml0YW5jZSBjdG9yXHJcblx0XHRQSVhJLkNvbnRhaW5lci5jYWxsKHRoaXMpO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBCQlEuU3RhdGUgYnkgUElYSS5Db250YWluZXIgY2xhc3NcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuU3RhdGUsIFBJWEkuQ29udGFpbmVyLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIENvbW1vbiBjdG9yLlxyXG5cdFx0ICovXHJcblx0XHRjb25zdHJ1Y3RvcjogQkJRLlN0YXRlLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmVzIHN0YXRlIHNjZW5lIGJlZm9yZSBmaXJzdCB1c2UuXHJcblx0XHQgKi9cclxuXHRcdGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNhbWVyYSBpbnN0YW5jZVxyXG5cdFx0XHR0aGlzLmNhbWVyYSA9IG5ldyBCQlEuRm9sbG93Q2FtZXJhKHRoaXMuYXBwLnJlbmRlcmVyKTtcclxuXHJcblx0XHRcdC8vIHRoZSBiYWNrZ3JvdW5kIGxheWVyc1xyXG5cdFx0XHR0aGlzLmJhY2tncm91bmQgPSBuZXcgQkJRLlBhcmFsbGF4QmFja2dyb3VuZCh0aGlzLmNhbWVyYSk7XHJcblxyXG5cdFx0XHQvLyBjcmVhdGUgY29tbW9uIGFjdG9ycyBsYXllclxyXG5cdFx0XHR0aGlzLmFjdG9ycyA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG5cdFx0XHR0aGlzLmFjdG9ycy50b0RlbGV0ZSA9IFtdOyAvLyBkZWxldGUgcmVtYWluaW5nIGxpc3RcclxuXHRcdFx0dGhpcy5jYW1lcmEuYWRkQ2hpbGQodGhpcy5hY3RvcnMpO1xyXG5cclxuXHRcdFx0Ly8gdGhlIGZvcmVncm91bmQgb2JqZWN0cyBjb250YWluZXJcclxuXHRcdFx0dGhpcy5mb3JlZ3JvdW5kID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcblxyXG5cdFx0XHQvLyBhZGQgbGF5ZXJzIGJ5IHJpZ2h0IG9yZGVyXHJcblx0XHRcdHRoaXMuYWRkQ2hpbGQodGhpcy5iYWNrZ3JvdW5kKTtcclxuXHRcdFx0dGhpcy5hZGRDaGlsZCh0aGlzLmNhbWVyYSk7XHJcblx0XHRcdHRoaXMuYWRkQ2hpbGQodGhpcy5mb3JlZ3JvdW5kKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBmcmFtZSBvZiBzdGFnZSBsYXllcnMuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7RmxvYXR9IGRlbHRhIFN0YWdlIHVwZGF0ZSB0aW1lIHRvIGFwcGx5LlxyXG5cdFx0ICovXHJcblx0XHRzdGVwOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyBwZXJmb3JtIGFjdG9ycyBkZWxldGluZ1xyXG5cdFx0XHR0aGlzLmFjdG9ycy50b0RlbGV0ZS5mb3JFYWNoKGZ1bmN0aW9uKGFjdG9yKSB7XHJcblx0XHRcdFx0aWYoYWN0b3IpIHtcclxuXHRcdFx0XHRcdGFjdG9yLmVtaXRTaWduYWwoJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHRcdHRoaXMuYWN0b3JzLnJlbW92ZUNoaWxkKGFjdG9yKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gc29ydCBhY3RvcnMgZGVwdGhcclxuXHRcdFx0dGhpcy5hY3RvcnMuY2hpbGRyZW4uc29ydCh0aGlzLnNvcnRBY3RvcnNGdW5jKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHBlcmZvcm0gdXBkYXRlIGFjdG9ycyBsYXllcnNcclxuXHRcdFx0dGhpcy5wZXJmb3JtTGF5ZXIodGhpcy5hY3RvcnMsICd1cGRhdGUnLCBkZWx0YSwgdGhpcy5hcHApO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdXBkYXRlIGNhbWVyYVxyXG5cdFx0XHR0aGlzLmNhbWVyYS51cGRhdGUoZGVsdGEpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW5kZXJzIHN0YWdlIG9udG8gc2NyZWVuLlxyXG5cdFx0ICovXHJcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyByZW5kZXJzIHN0YWdlIGdhbWVwbGF5XHJcblx0XHRcdHRoaXMuYXBwLnJlbmRlcmVyLnJlbmRlcih0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybXMgYWN0aW9uIGZvciBzaW5nbGUgbGF5ZXIgYWN0b3JzLlxyXG5cdFx0ICogQWxsb3dzIG9wdGlvbmFsIGFyZ3VtZW50cyBhcHBseWluZyBmb3IgYWN0aW9uIGNhbGwuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGxheWVyIEFjdG9ycyBsYXllciBjb250YWluZXIuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLlN0YWdlfSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdHBlcmZvcm1MYXllcjogZnVuY3Rpb24obGF5ZXIsIGFjdGlvbikge1xyXG5cdFx0XHR2YXIgc2xpY2VkQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcclxuXHRcdFx0bGF5ZXIuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihhY3Rvcikge1xyXG5cdFx0XHRcdHZhciBhY3RvckZ1bmMgPSBhY3RvclthY3Rpb25dO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBhY3RvckZ1bmMgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdGFjdG9yRnVuYy5hcHBseShhY3Rvciwgc2xpY2VkQXJndW1lbnRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogR2VuZXJhbCBhY3RvcnMgc29ydGluZyBmdW5jdGlvbi5cclxuXHRcdCAqIFNvcnRzIGFjdG9ycyBkZXB0aCBieSBZIHBvc2l0aW9uIHByb3BlcnR5LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gYWN0b3IxIExlZnQgYWN0b3IuXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gYWN0b3IyIFJpZ2h0IGFjdG9yLlxyXG5cdFx0ICogQHJldHVybnMge051bWJlcn0gQ29tcGFyc2lvbiByZXN1bHQuXHJcblx0XHQgKi9cclxuXHRcdHNvcnRBY3RvcnNGdW5jOiBmdW5jdGlvbihhY3RvcjEsIGFjdG9yMikge1xyXG5cdFx0XHRpZihhY3RvcjEucG9zaXRpb24ueSA8IGFjdG9yMi5wb3NpdGlvbi55KSB7XHJcblx0XHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYoYWN0b3IxLnBvc2l0aW9uLnkgPiBhY3RvcjIucG9zaXRpb24ueSkge1xyXG5cdFx0XHRcdHJldHVybiAxO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcbn0pKHdpbmRvdy5CQlEgPSB3aW5kb3cuQkJRIHx8IHt9LCBQSVhJKTtcclxuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLypcclxuICogYWN0b3JzLmpzXHJcbiAqIFxyXG4gKiBHYW1lIGFsbCBhY3RvcnMuXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBHYW1lIGFjdG9ycyBvYmplY3RzLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEdhbWUgQ29tbW9uIHB1YmxpYyBnYW1lIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oR2FtZSwgQkJRLCBQSVhJKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogR2FtZSBhY3RvcnMuXHJcblx0ICovXHJcblx0R2FtZS5BY3RvcnMgPSB7fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBGaXJzdCBzdGFnZSAtIEV2aWwgVG93bi5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycy5DaGFyYWN0ZXIgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oaW1hZ2UpIHtcclxuXHRcdC8vIGluaGVyaXRlZCBjdG9yXHJcblx0XHRCQlEuQW5pbWF0ZWRBY3Rvci5jYWxsKHRoaXMpO1xyXG5cdFx0XHJcblx0XHQvLyBmaW5kIGltYWdlIGJ5IG5hbWVcclxuXHRcdGlmKHR5cGVvZiBpbWFnZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0aW1hZ2UgPSBHYW1lLmFwcC5pbWFnZXNbaW1hZ2VdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBzZXR1cCBzaGFkb3cgdGV4dHVyZVxyXG5cdFx0dGhpcy50ZXh0dXJlID0gR2FtZS5hcHAudGV4KCdzaGFkb3cnKTtcclxuXHRcdHRoaXMuYW5jaG9yLnggPSB0aGlzLmFuY2hvci55ID0gMC41O1xyXG5cdFx0XHJcblx0XHQvLyBhZGQgYm9keSBjaGlsZFxyXG5cdFx0dGhpcy5ib2R5ID0gbmV3IFBJWEkuU3ByaXRlKEdhbWUuYXBwLnRleChpbWFnZSwgZmFsc2UpKTtcclxuXHRcdHRoaXMuYm9keS5hbmNob3IueCA9IDAuNTtcclxuXHRcdHRoaXMuYm9keS5hbmNob3IueSA9IDE7XHJcblx0XHQvL3RoaXMuYm9keS50ZXh0dXJlLnRyaW0ud2lkdGggPSB0aGlzLmZyYW1lU2l6ZS53aWR0aDtcclxuXHRcdC8vdGhpcy5ib2R5LnRleHR1cmUudHJpbS5oZWlnaHQgPSB0aGlzLmZyYW1lU2l6ZS5oZWlnaHQ7XHJcblx0XHQvL3RoaXMuYm9keS50ZXh0dXJlLnRyaW0gPSB0aGlzLmZyYW1lU2l6ZS5jbG9uZSgpO1xyXG5cdFx0Ly90aGlzLmJvZHkudGV4dHVyZS5jcm9wID0gdGhpcy5mcmFtZVNpemUuY2xvbmUoKTtcclxuXHRcdHRoaXMuYWRkQ2hpbGQodGhpcy5ib2R5KTtcclxuXHRcdFxyXG5cdFx0Ly8gY2FsY3VsYXRlIHRleHR1cmUgZnJhbWUgc2l6ZVxyXG5cdFx0dGhpcy5mcmFtZVNpemUgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTYsIDI4KTtcclxuXHRcdFxyXG5cdFx0Ly8gc3RhdGVzXHJcblx0XHR0aGlzLnN0YXRlID0ge1xyXG5cdFx0XHRtb3ZlbWVudDogbmV3IFBJWEkuUG9pbnQoKVxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gbW92ZW1lbnQgdmVsb2NpdHlcclxuXHRcdHRoaXMudmVsb2NpdHkgPSBuZXcgUElYSS5Qb2ludCgpO1xyXG5cdFx0XHJcblx0XHQvLyBjb2xsaXNpb24gYm91bmRpbmcgYm94XHJcblx0XHR0aGlzLmJib3ggPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTYsIDgpO1xyXG5cdFx0dGhpcy5oaXRCYm94ID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDQsIDEwKTtcclxuXHRcdFxyXG5cdFx0Ly8gY2hhcmFjdGVyIGJhc2ljIHN0YXRlc1xyXG5cdFx0dGhpcy5oZWFsdGggPSAxMDA7XHJcblx0XHR0aGlzLnN0cmVuZ3RoID0ge1xyXG5cdFx0XHRwdW5jaDogMTAsXHJcblx0XHRcdGtpY2s6IDE1XHJcblx0XHR9O1xyXG5cdFx0dGhpcy5zcGVlZCA9IHtcclxuXHRcdFx0d2FsazogMzUsXHJcblx0XHRcdGp1bXA6IDUwLFxyXG5cdFx0XHRoaXQ6IC01MCxcclxuXHRcdFx0cHVuY2g6IDIwLFxyXG5cdFx0XHRraWNrOiAxMFxyXG5cdFx0fTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKEJCUS5BbmltYXRlZEFjdG9yKVxyXG5cdC5wcm9wZXJ0aWVzKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogRnJhbWUgc2l6ZSBhcyBQSVhJLlJlY3RhbmdsZVxyXG5cdFx0ICovXHJcblx0XHRmcmFtZVNpemU6IHtcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5ib2R5LnRleHR1cmUuY3JvcDtcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLnRyaW0gPSB2YWx1ZS5jbG9uZSgpO1xyXG5cdFx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLmNyb3AgPSB2YWx1ZS5jbG9uZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBbmltYXRpb25zIGZyYW1lcyB0byB1c2UuXHJcblx0XHQgKi9cclxuXHRcdGFuaW1hdGlvbnM6IHtcclxuXHRcdFx0aWRsZToge1xyXG5cdFx0XHRcdHRpbWU6IDEsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMF1cclxuXHRcdFx0fSxcclxuXHRcdFx0d2Fsazoge1xyXG5cdFx0XHRcdHRpbWU6IDAuNDIsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMCwgMSwgMCwgMl1cclxuXHRcdFx0fSxcclxuXHRcdFx0anVtcDoge1xyXG5cdFx0XHRcdHRpbWU6IC41LFxyXG5cdFx0XHRcdGZyYW1lczogWzMsIDRdLFxyXG5cdFx0XHRcdG5leHQ6ICdpZGxlJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRoaXQ6IHtcclxuXHRcdFx0XHR0aW1lOiAuMzUsXHJcblx0XHRcdFx0ZnJhbWVzOiBbNV0sXHJcblx0XHRcdFx0bmV4dDogJ2lkbGUnXHJcblx0XHRcdH0sXHJcblx0XHRcdHB1bmNoOiB7IC8vIGF0dGFjayBhbmltYXRpb25cclxuXHRcdFx0XHR0aW1lOiAuMyxcclxuXHRcdFx0XHRmcmFtZXM6IFs2LDcsOCw4LDhdLFxyXG5cdFx0XHRcdG5leHQ6ICdpZGxlJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRraWNrOiB7IC8vIGF0dGFjayBhbmltYXRpb25cclxuXHRcdFx0XHR0aW1lOiAuNCxcclxuXHRcdFx0XHRmcmFtZXM6IFs5LDEwLDExLDExLDExXSxcclxuXHRcdFx0XHRuZXh0OiAnaWRsZSdcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgY2hhcmFjdGVyIHN0YXRlcy5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyBpbmhlcml0ZWQgc3VwZXIgbWV0aG9kIGNhbGxcclxuXHRcdFx0QkJRLkFuaW1hdGVkQWN0b3IucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsIGRlbHRhKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVcclxuXHRcdFx0dGhpcy51cGRhdGVBbmltRnJhbWUoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGp1bXAvaGl0L2tpY2sgYW5pbWF0aW9uIGhlaWdodFxyXG5cdFx0XHRpZih0aGlzLmFuaW1hdGlvbiA9PT0gJ2p1bXAnKSB7XHJcblx0XHRcdFx0dGhpcy5ib2R5LnkgPSAtTWF0aC5zaW4oKHRoaXMuZnJhbWVUaWNrLzIpICogTWF0aC5QSSkgKiAxNjtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmKHRoaXMuYW5pbWF0aW9uID09PSAnaGl0Jykge1xyXG5cdFx0XHRcdHRoaXMuYm9keS55ID0gLU1hdGguc2luKCh0aGlzLmZyYW1lVGljaykgKiBNYXRoLlBJKSAqIDg7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZih0aGlzLmFuaW1hdGlvbiA9PT0gJ2tpY2snKSB7XHJcblx0XHRcdFx0dGhpcy5ib2R5LnkgPSAtTWF0aC5zaW4oKHRoaXMuZnJhbWVUaWNrLzUpICogTWF0aC5QSSkgKiA4O1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgc3RhdGVcclxuXHRcdFx0aWYodHlwZW9mIHRoaXMudXBkYXRlU3RhdGUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKGRlbHRhKTsgLy8gZXhlYyBvbmx5IGlmIGV4aXN0c1x0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBwaHlzaWNzXHJcblx0XHRcdHRoaXMudXBkYXRlUGh5c2ljcyhkZWx0YSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgYW5pbWF0aW9uIGZyYW1lIGJ5IHRleHR1cmUgY3JvcHBpbmcuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZUFuaW1GcmFtZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNyb3AgdGV4dHVyZSBieSBmcmFtZSBpbmRleFxyXG5cdFx0XHR0aGlzLmJvZHkudGV4dHVyZS5jcm9wLnggPSBNYXRoLmZsb29yKHRoaXMuZnJhbWVJbmRleCAlIDMpICogdGhpcy5mcmFtZVNpemUud2lkdGg7XHJcblx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLmNyb3AueSA9IE1hdGguZmxvb3IodGhpcy5mcmFtZUluZGV4IC8gMykgKiB0aGlzLmZyYW1lU2l6ZS5oZWlnaHQ7XHJcblx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLl91cGRhdGVVdnMoKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBjaGFyYWN0ZXIgcGh5c2ljLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVQaHlzaWNzOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHR0aGlzLnN0YXRlLndhbGtpbmcgPSB0aGlzLmFuaW1hdGlvbiA9PT0gJ2lkbGUnIHx8IHRoaXMuYW5pbWF0aW9uID09PSAnd2Fsayc7XHJcblx0XHRcdHRoaXMuc3RhdGUuanVtcGluZyA9IHRoaXMuYW5pbWF0aW9uID09PSAnanVtcCc7XHJcblx0XHRcdHRoaXMuc3RhdGUuaGl0dGVkID0gdGhpcy5hbmltYXRpb24gPT09ICdoaXQnO1xyXG5cdFx0XHR0aGlzLnN0YXRlLmF0dGFja2luZyA9IHRoaXMuYW5pbWF0aW9uID09PSAncHVuY2gnIHx8IHRoaXMuYW5pbWF0aW9uID09PSAna2ljayc7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBmcmVlIG1vdmVtZW50ICh1bmxvY2tlZClcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS53YWxraW5nKSB7XHJcblx0XHRcdFx0dGhpcy52ZWxvY2l0eSA9IHRoaXMuc3RhdGUubW92ZW1lbnQuY2xvbmUoKS5ub3JtYWxpemUoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBwbGF5IGFuaW1hdGlvblxyXG5cdFx0XHRcdGlmKHRoaXMudmVsb2NpdHkueCB8fCB0aGlzLnZlbG9jaXR5LnkpIHtcclxuXHRcdFx0XHRcdHRoaXMucGxheSgnd2FsaycpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMucGxheSgnaWRsZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYXR0YWNraW5nIG9yIGhpdHRlZCBtb3ZlbWVudFxyXG5cdFx0XHRpZih0aGlzLnN0YXRlLmF0dGFja2luZyB8fCB0aGlzLnN0YXRlLmhpdHRlZCkge1xyXG5cdFx0XHRcdHRoaXMudmVsb2NpdHkuc2V0KHRoaXMuc2NhbGUueCwgMCkubm9ybWFsaXplKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGF0dGFja2luZyBjb2xsaXNpb24gaW5mb3JtZXJcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS5hdHRhY2tpbmcgJiYgdGhpcy5mcmFtZVRpY2sgPiAyKSB7XHJcblx0XHRcdFx0dmFyIGFjdG9yID0gdGhpcy5nZXRBY3RvckhpdENvbGxpc2lvbih0aGlzLnNjYWxlLngqMiwgMCk7XHJcblx0XHRcdFx0aWYoYWN0b3IgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRhY3Rvci5lbWl0U2lnbmFsKCdoaXQnLCB0aGlzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBwb3NpdGlvblxyXG5cdFx0XHR2YXIgc3BlZWQgPSB0aGlzLmdldEN1cnJlbnRTcGVlZCgpO1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnggKz0gdGhpcy52ZWxvY2l0eS54ICogc3BlZWQgKiBkZWx0YTtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi55ID0gTWF0aC5taW4oNzAsIE1hdGgubWF4KDAsXHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbi55ICsgdGhpcy52ZWxvY2l0eS55ICogc3BlZWQgKiBkZWx0YVxyXG5cdFx0XHQpKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB3b3JsZCBib3VuZGluZyBib3guXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0V29ybGRCQm94OiBmdW5jdGlvbih4LCB5KSB7XHJcblx0XHRcdHZhciBfY3ggPSB0aGlzLmJib3gud2lkdGggLyAyLFxyXG5cdFx0XHRcdF9jeSA9IHRoaXMuYmJveC5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIG5ldyBQSVhJLlJlY3RhbmdsZShcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnggLSBfY3ggKyB0aGlzLmJib3gueCArICh4IHx8IDApLFxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueSAtIF9jeSArIHRoaXMuYmJveC55ICsgKHkgfHwgMCksXHJcblx0XHRcdFx0dGhpcy5iYm94LndpZHRoLFxyXG5cdFx0XHRcdHRoaXMuYmJveC5oZWlnaHRcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB3b3JsZCBib3VuZGluZyBib3guXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0V29ybGRIaXRCQm94OiBmdW5jdGlvbih4LCB5KSB7XHJcblx0XHRcdHZhciBfY3ggPSB0aGlzLmhpdEJib3gud2lkdGggLyAyLFxyXG5cdFx0XHRcdF9jeSA9IHRoaXMuaGl0QmJveC5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIG5ldyBQSVhJLlJlY3RhbmdsZShcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnggLSBfY3ggKyB0aGlzLmhpdEJib3gueCArICh4IHx8IDApLFxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueSAtIF9jeSArIHRoaXMuaGl0QmJveC55ICsgKHkgfHwgMCksXHJcblx0XHRcdFx0dGhpcy5oaXRCYm94LndpZHRoLFxyXG5cdFx0XHRcdHRoaXMuaGl0QmJveC5oZWlnaHRcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyBjb2xsaXNpb24gd2l0aCBhY3Rvci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHggU2hpZnQgYWFiYi54IGNvb3JkIGJ5IGdpdmVuIHZhbHVlLlxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgU2hpZnQgYWFiYi55IGNvb3JkIGJ5IGdpdmVuIHZhbHVlLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3RvcnxCb29sZWFufSBDb2xsaWRlZCBhY3RvciBvciBGQUxTRS5cclxuXHRcdCAqL1xyXG5cdFx0Z2V0QWN0b3JIaXRDb2xsaXNpb246IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHRcdFx0dmFyIF9iYm94ID0gdGhpcy5nZXRXb3JsZEhpdEJCb3goeCwgeSksXHJcblx0XHRcdFx0YWN0b3JzID0gR2FtZS5hcHAuc3RhdGUuYWN0b3JzLmNoaWxkcmVuLFxyXG5cdFx0XHRcdGFjdG9yO1xyXG5cdFx0XHRcclxuXHRcdFx0Zm9yKHZhciBhaW5kIGluIGFjdG9ycykge1xyXG5cdFx0XHRcdGFjdG9yID0gYWN0b3JzW2FpbmRdO1xyXG5cdFx0XHRcdGlmKGFjdG9yID09PSB0aGlzKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYodHlwZW9mIGFjdG9yLmJib3ggIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRpZihhY3Rvci5nZXRXb3JsZEJCb3goKS5pbnRlcnNlY3RzKF9iYm94KSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYWN0b3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgY3VycmVudCBjaGFyYWN0ZXIgc3BlZWQgYnkgYWN0dWFsIGFuaW1hdGlvbi5cclxuXHRcdCAqIERpZmZlcmVudCBzcGVlZCBhcmUgZWFjaCBzdGF0ZXMgaS5lLiBncm91bmQvYWlyIHNwZWVkLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7TnVtYmVyfSBTcGVlZFxyXG5cdFx0ICovXHJcblx0XHRnZXRDdXJyZW50U3BlZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zcGVlZFt0aGlzLmFuaW1hdGlvbl0gfHwgMDtcclxuXHRcdH1cclxuXHR9KVxyXG5cdC5maW5hbCgpO1xyXG5cdFxyXG5cdC8vIFByZWxvYWQgYXNzZXRzXHJcblx0R2FtZS5BY3RvcnMuQ2hhcmFjdGVyLnByZWxvYWQgPSBmdW5jdGlvbihhcHApIHtcclxuXHRcdGFwcC5sb2FkSW1hZ2VzKCdzaGFkb3cnKTtcclxuXHR9O1xyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFBsYXllciBhY3Rvci5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycy5QbGF5ZXIgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBpbmhlcml0ZSBjdG9yIGNhbGxcclxuXHRcdEdhbWUuQWN0b3JzLkNoYXJhY3Rlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHJcblx0XHQvLyBpbnB1dCBldmVudHMgaG9sZGVyXHJcblx0XHR0aGlzLmlucHV0ID0ge307XHJcblx0XHRcclxuXHRcdC8vIGlucHV0IGtleW1hcHBpbmdcclxuXHRcdHRoaXMua2V5bWFwID0ge1xyXG5cdFx0XHRyaWdodDogJ3JpZ2h0JyxcclxuXHRcdFx0bGVmdDogJ2xlZnQnLFxyXG5cdFx0XHR1cDogJ3VwJyxcclxuXHRcdFx0ZG93bjogJ2Rvd24nLFxyXG5cdFx0XHRcclxuXHRcdFx0cHVuY2g6ICdwJyxcclxuXHRcdFx0a2ljazogJ28nLFxyXG5cdFx0XHRqdW1wOiAnbCdcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8vIGJpbmQgZXZlbnRzIHNpZ25hbHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgna2V5ZG93bicsIHRoaXMub25LZXlFdmVudCk7XHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2tleXVwJywgdGhpcy5vbktleUV2ZW50KTtcclxuXHRcdFxyXG5cdFx0Ly8gYmluZHMgY29tbW9uIHNpZ25hbHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgnaGl0JywgdGhpcy5vbkhpdCk7XHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2Rlc3Ryb3knLCB0aGlzLm9uRGVzdHJveSk7XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhHYW1lLkFjdG9ycy5DaGFyYWN0ZXIpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHBsYXllciBtb3ZlbWVudCBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlU3RhdGU6IGZ1bmN0aW9uIChkZWx0YSkge1xyXG5cdFx0XHQvLyBjbGVhciBtb3ZlbWVudCBzdGF0ZVxyXG5cdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnNldCgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gaGFuZGxlIG9uLWdyb3VuZCBzdGF0ZVxyXG5cdFx0XHRpZih0aGlzLnN0YXRlLndhbGtpbmcpIHtcclxuXHRcdFx0XHQvLyBoYW5kbGUgYXR0YWNraW5nIGlucHV0c1xyXG5cdFx0XHRcdGlmKHRoaXMuaW5wdXQuYXR0YWNrKSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXkodGhpcy5pbnB1dC5hdHRhY2spO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBoYW5kbGUganVtcGluZyBpbnB1dFxyXG5cdFx0XHRcdGVsc2UgaWYodGhpcy5pbnB1dC5qdW1wKSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXkoJ2p1bXAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBoYW5kbGUgaW5wdXRzIGZvciBob3Jpem9udGFsIG1vdmVtZW50XHJcblx0XHRcdFx0XHRpZih0aGlzLmlucHV0LnJpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueCA9IDE7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2NhbGUueCA9IDE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIGlmKHRoaXMuaW5wdXQubGVmdCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnggPSAtMTtcclxuXHRcdFx0XHRcdFx0dGhpcy5zY2FsZS54ID0gLTE7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gaGFuZGxlIGlucHV0cyBmb3IgdmVydGljYWwgbW92ZW1lbnRcclxuXHRcdFx0XHRcdGlmKHRoaXMuaW5wdXQuZG93bikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnkgPSAxO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZih0aGlzLmlucHV0LnVwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueSA9IC0xO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY2xlYXIgc3RhdGVzXHJcblx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuaW5wdXQuanVtcCA9IGZhbHNlO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBPdmVycmlkZXMgYnkgYXBwbHlpbmcgc2NlbmUgYm91bmRpbmdzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVQaHlzaWNzOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHRHYW1lLkFjdG9ycy5DaGFyYWN0ZXIucHJvdG90eXBlLnVwZGF0ZVBoeXNpY3MuY2FsbCh0aGlzLCBkZWx0YSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBtYWtlIHNjZW5lIGJvdW5kc1xyXG5cdFx0XHQvL3RoaXMucG9zaXRpb24ueCA9IE1hdGgubWF4KC0yNTAsIE1hdGgubWluKDI1MCwgdGhpcy5wb3NpdGlvbi54KSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBrZXlib2FyZCBldmVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHt0eXBlfSBlXHJcblx0XHQgKiBAcGFyYW0ge3R5cGV9IGRvd25cclxuXHRcdCAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcblx0XHQgKi9cclxuXHRcdG9uS2V5RXZlbnQ6IGZ1bmN0aW9uKGtleSwgZG93bikge1xyXG5cdFx0XHQvLyBtb3ZlbWVudCBrZXlzXHJcblx0XHRcdGlmIChrZXkgPT09IHRoaXMua2V5bWFwLnJpZ2h0KSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5yaWdodCA9IGRvd247XHJcblx0XHRcdH0gZWxzZSBpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5sZWZ0KSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5sZWZ0ID0gZG93bjtcclxuXHRcdFx0fSBlbHNlIGlmIChrZXkgPT09IHRoaXMua2V5bWFwLmRvd24pIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmRvd24gPSBkb3duO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGtleSA9PT0gdGhpcy5rZXltYXAudXApIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnVwID0gZG93bjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGtleSA9PT0gdGhpcy5rZXltYXAucHVuY2ggJiYgZG93bikge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gJ3B1bmNoJztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChrZXkgPT09IHRoaXMua2V5bWFwLmtpY2sgJiYgZG93bikge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gJ2tpY2snO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5qdW1wICYmIGRvd24pIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0Lmp1bXAgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBhbiBoaXQgc2lnbmFsLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gb3RoZXJcclxuXHRcdCAqL1xyXG5cdFx0b25IaXQ6IGZ1bmN0aW9uKG90aGVyKSB7XHJcblx0XHRcdGlmKCEgdGhpcy5zdGF0ZS5oaXR0ZWQgJiYgISB0aGlzLnN0YXRlLmp1bXBpbmcpIHtcclxuXHRcdFx0XHR0aGlzLnNjYWxlLnggPSAtb3RoZXIuc2NhbGUueDtcclxuXHRcdFx0XHR0aGlzLmhlYWx0aCAtPSBvdGhlci5zdHJlbmd0aFtvdGhlci5hbmltYXRpb25dIHx8IDEwO1xyXG5cdFx0XHRcdHRoaXMucGxheSgnaGl0Jyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYodGhpcy5oZWFsdGggPCAwKSB7XHJcblx0XHRcdFx0XHRHYW1lLmFwcC5zdGF0ZS5wbGF5ZXJLaWxsZWQodGhpcyk7XHJcblx0XHRcdFx0XHR0aGlzLmRlc3Ryb3koKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogT24tZGVzdHJveSBldmVudCBoYW5kbGVyLlxyXG5cdFx0ICovXHJcblx0XHRvbkRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRHYW1lLmFwcC5zdGF0ZS5jYW1lcmEudW5mb2xsb3codGhpcyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0Ly8gUHJlbG9hZCBhc3NldHNcclxuXHRHYW1lLkFjdG9ycy5QbGF5ZXIucHJlbG9hZCA9IGZ1bmN0aW9uKGFwcCkge1xyXG5cdFx0YXBwLmxvYWRJbWFnZXMoJ2ZhdGd1eScsICdpbmRpY2F0b3InKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFBsYXllciB3aXRoIHRvdWNoLXNjcmVlbiB1c2VhYmlsaXR5LlxyXG5cdCAqL1xyXG5cdEdhbWUuQWN0b3JzLlBsYXllclRvdWNoU2NyZWVuID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdFx0R2FtZS5BY3RvcnMuUGxheWVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcclxuXHRcdC8vIHRvdWNoIGV2ZW50IGhvbGRlclxyXG5cdFx0dGhpcy50b3VjaCA9IHt9O1xyXG5cdFx0XHJcblx0XHQvLyBiaW5kIHRvdWNoLXNjcmVlbiBldmVudHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSk7XHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kKTtcclxuXHRcdFxyXG5cdFx0Ly8gYmluZCBjb21tb24gZXZlbnRzXHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2Rlc3Ryb3knLCB0aGlzLmRlc3Ryb3lJbmRpY2F0b3IpO1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoR2FtZS5BY3RvcnMuUGxheWVyKVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIE9uLXRvdWNoIGluZm9ybWF0aW9ucyBoYW5kbGVyLlxyXG5cdFx0ICogU2ltdWxhdGVzIGNvbW1vbiBpbnB1dCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdG9uVG91Y2hTdGFydDogZnVuY3Rpb24oaWQsIHgsIHkpIHtcclxuXHRcdFx0dmFyIF9zY3JodyA9IEdhbWUuYXBwLnJlbmRlcmVyLndpZHRoIC8gMixcclxuXHRcdFx0XHRfc2NyaGggPSBHYW1lLmFwcC5yZW5kZXJlci5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gbW92ZW1lbnRcclxuXHRcdFx0aWYoeCA8IF9zY3Jodykge1xyXG5cdFx0XHRcdGlmKCF0aGlzLnRvdWNoLm1vdmUpIHtcclxuXHRcdFx0XHRcdHRoaXMudG91Y2gubW92ZSA9IHtcclxuXHRcdFx0XHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRcdFx0XHR4OiB4LFxyXG5cdFx0XHRcdFx0XHR5OiB5XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGluZGljYXRvclxyXG5cdFx0XHRcdFx0dGhpcy5pbmRpY2F0b3IgPSBuZXcgUElYSS5TcHJpdGUoR2FtZS5hcHAudGV4KCdpbmRpY2F0b3InKSk7XHJcblx0XHRcdFx0XHR0aGlzLmluZGljYXRvci5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDAuNSk7XHJcblx0XHRcdFx0XHR0aGlzLmluZGljYXRvci5wb3NpdGlvbi54ID0geDtcclxuXHRcdFx0XHRcdHRoaXMuaW5kaWNhdG9yLnBvc2l0aW9uLnkgPSB5O1xyXG5cclxuXHRcdFx0XHRcdEdhbWUuYXBwLnN0YXRlLmZvcmVncm91bmQuYWRkQ2hpbGQodGhpcy5pbmRpY2F0b3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBqdW1wICYgYXR0YWNrXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGlmKHkgPCBfc2NyaGgpIHtcclxuXHRcdFx0XHRcdHRoaXMuaW5wdXQuanVtcCA9IHRydWU7XHRcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmKHggPCBfc2NyaHcgKyBfc2NyaHcgLyAyKSB7XHJcblx0XHRcdFx0XHR0aGlzLmlucHV0LmF0dGFjayA9ICdraWNrJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLmlucHV0LmF0dGFjayA9ICdwdW5jaCc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE9uLXRvdWNoIGluZm9ybWF0aW9ucyBoYW5kbGVyLlxyXG5cdFx0ICogU2ltdWxhdGVzIGNvbW1vbiBpbnB1dCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdG9uVG91Y2hNb3ZlOiBmdW5jdGlvbihpZCwgeCwgeSkge1xyXG5cdFx0XHRpZih0aGlzLnRvdWNoLm1vdmUgJiYgdGhpcy50b3VjaC5tb3ZlLmlkID09PSBpZCkge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQucmlnaHQgPSB4IC0gdGhpcy50b3VjaC5tb3ZlLnggPiAxMDtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmxlZnQgID0geCAtIHRoaXMudG91Y2gubW92ZS54IDwgLTEwO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuZG93biAgPSB5IC0gdGhpcy50b3VjaC5tb3ZlLnkgPiAxMDtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnVwICAgID0geSAtIHRoaXMudG91Y2gubW92ZS55IDwgLTEwO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE9uLXRvdWNoIGluZm9ybWF0aW9ucyBoYW5kbGVyLlxyXG5cdFx0ICogU2ltdWxhdGVzIGNvbW1vbiBpbnB1dCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdG9uVG91Y2hFbmQ6IGZ1bmN0aW9uKGlkLCB4LCB5KSB7XHJcblx0XHRcdGlmKHRoaXMudG91Y2gubW92ZSAmJiB0aGlzLnRvdWNoLm1vdmUuaWQgPT09IGlkKSB7XHJcblx0XHRcdFx0dGhpcy50b3VjaC5tb3ZlID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5yaWdodCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQubGVmdCAgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmRvd24gID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC51cCAgICA9IGZhbHNlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIHJlbW92ZSBpbmRpY2F0b3JcclxuXHRcdFx0XHR0aGlzLmRlc3Ryb3lJbmRpY2F0b3IoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIGluZGljYXRvciBpZiBleGlzdHMuXHJcblx0XHQgKi9cclxuXHRcdGRlc3Ryb3lJbmRpY2F0b3I6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZih0aGlzLmluZGljYXRvcikge1xyXG5cdFx0XHRcdEdhbWUuYXBwLnN0YXRlLmZvcmVncm91bmQucmVtb3ZlQ2hpbGQodGhpcy5pbmRpY2F0b3IpO1xyXG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9yID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHRcclxuXHQvKipcclxuXHQgKiBFbmVteSBhY3Rvci5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycy5FbmVteSA9IEJCUS5DbGFzcyhmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRlIGN0b3IgY2FsbFxyXG5cdFx0R2FtZS5BY3RvcnMuQ2hhcmFjdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcclxuXHRcdC8vIGJpbmQgYWRkaXRpb25hbCBzaWduYWxzXHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2hpdCcsIHRoaXMub25IaXQpO1xyXG5cdFx0XHJcblx0XHQvLyBmb2xsb3dpbmcgcGxheWVyIG9iamVjdFxyXG5cdFx0dGhpcy5mb2xsb3cgPSBmYWxzZTtcclxuXHRcdHRoaXMudGljayA9IDA7XHJcblx0XHRcclxuXHRcdC8vIGVuZW15IGJhc2ljIHN0YXRlc1xyXG5cdFx0dGhpcy5oZWFsdGggPSA1MDtcclxuXHRcdHRoaXMuc3BlZWQgPSB7XHJcblx0XHRcdHdhbGs6IDI1LFxyXG5cdFx0XHRqdW1wOiA0MCxcclxuXHRcdFx0aGl0OiAtNTAsXHJcblx0XHRcdHB1bmNoOiAyMCxcclxuXHRcdFx0a2ljazogMTBcclxuXHRcdH07XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhHYW1lLkFjdG9ycy5DaGFyYWN0ZXIpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIGVuZW15IG1vdmVtZW50IHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVTdGF0ZTogZnVuY3Rpb24gKGRlbHRhKSB7XHJcblx0XHRcdGlmKHRoaXMuc3RhdGUud2Fsa2luZykge1xyXG5cdFx0XHRcdC8vIGZpbmQgbmVhcmVzdCBwbGF5ZXJcclxuXHRcdFx0XHR2YXIgcGxheWVyID0gdGhpcy5maW5kTmVhcmVzdFBsYXllcigpO1xyXG5cclxuXHRcdFx0XHQvLyBwbGF5ZXIgZm91bmRcclxuXHRcdFx0XHRpZihwbGF5ZXIgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHQvLyBjbGVhciBtb3ZlbWVudCBzdGF0ZVxyXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC5zZXQoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gbW92ZW1lbnRcclxuXHRcdFx0XHRcdGlmKHRoaXMuZGlzdGFuY2VUbyhwbGF5ZXIpID4gMTApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tb3ZlVG8ocGxheWVyKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYodGhpcy50aWNrLS0gPD0gMCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsYXkoTWF0aC5yYW5kb20oKSA8IDAuNzUgPyAncHVuY2gnIDogJ2tpY2snKTtcclxuXHRcdFx0XHRcdFx0dGhpcy50aWNrID0gNSArIDEwICogTWF0aC5yYW5kb20oKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBmYWNlIGRpcmVjdGlvblxyXG5cdFx0XHRcdFx0dGhpcy5zY2FsZS54ID0gdGhpcy5wb3NpdGlvbi54ID4gcGxheWVyLnBvc2l0aW9uLnggPyAtMSA6IDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgbmVhcmVzdCBwbGF5ZXIuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J8Qm9vbGVhbn0gTmVhcmVzdCBwbGF5ZXIgb3IgRkFMU0UuXHJcblx0XHQgKi9cclxuXHRcdGZpbmROZWFyZXN0UGxheWVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHBsYXllcnMgPSBHYW1lLmFwcC5zdGF0ZS5wbGF5ZXJzLFxyXG5cdFx0XHRcdGN1cnJlbnREaXN0YW5jZSA9IDEwMDAwO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmVzZXQgZm9sbG93aW5nIHN0YXRlXHJcblx0XHRcdC8vdGhpcy5mb2xsb3cgPSBmYWxzZTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGZpbmQgbmVhcmVzdCBwbGF5ZXJcclxuXHRcdFx0Zm9yKHZhciBwaW5kIGluIHBsYXllcnMpIHtcclxuXHRcdFx0XHR2YXIgcGxheWVyID0gcGxheWVyc1twaW5kXSxcclxuXHRcdFx0XHRcdHBsYXllckRpc3RhbmNlID0gdGhpcy5kaXN0YW5jZVRvKHBsYXllcik7XHJcblx0XHRcdFx0Ly9pZihwbGF5ZXJEaXN0YW5jZSA8IDYwKSB7IC8vIG1pbiA2MCBwaXhlbHNcclxuXHRcdFx0XHRcdGlmKHRoaXMuZm9sbG93ID09PSBmYWxzZSB8fCBwbGF5ZXJEaXN0YW5jZSA8IGN1cnJlbnREaXN0YW5jZSkge1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50RGlzdGFuY2UgPSBwbGF5ZXJEaXN0YW5jZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5mb2xsb3cgPSBwbGF5ZXI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0Ly99XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHBsYXllciB3ZXJlIGtpbGxlZFxyXG5cdFx0XHRpZih0aGlzLmZvbGxvdyAmJiB0aGlzLmZvbGxvdy5raWxsZWQpIHtcclxuXHRcdFx0XHR0aGlzLmZvbGxvdyA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5mb2xsb3c7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgZGlzdGFuY2UgdG8gZ2l2ZW4gYWN0b3IuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvciBPdGhlciBhY3Rvci5cclxuXHRcdCAqIEByZXR1cm5zIHtOdW1iZXJ9IERpc3RhbmNlIGJldHdlZW4gYWN0b3JzLlxyXG5cdFx0ICovXHJcblx0XHRkaXN0YW5jZVRvOiBmdW5jdGlvbihhY3Rvcikge1xyXG5cdFx0XHR2YXIgeCA9IGFjdG9yLnBvc2l0aW9uLnggLSB0aGlzLnBvc2l0aW9uLngsXHJcblx0XHRcdFx0eSA9IGFjdG9yLnBvc2l0aW9uLnkgLSB0aGlzLnBvc2l0aW9uLnk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhbGdvcnl0bSBweXRhZ29sYXNhIHNxcnQoeF4yICsgeV4yKVxyXG5cdFx0XHRyZXR1cm4gTWF0aC5zcXJ0KFxyXG5cdFx0XHRcdHgqeCArIHkqeVxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlcyBlbmVteSB0b3dhcmRzIGdpdmVuIGFjdG9yLlxyXG5cdFx0ICogQ2hhbmdlcyBvbmx5IHZlbG9jaXR5IHZlY3RvciwgZG9lcyBub3Qgd29yayBpbW1lZGlhdGVseS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IGFjdG9yIFRhcmdldCBhY3Rvci5cclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBzcGVlZCBNb3ZlbWVudCBzcGVlZC5cclxuXHRcdCAqL1xyXG5cdFx0bW92ZVRvOiBmdW5jdGlvbihhY3Rvciwgc3BlZWQpIHtcclxuXHRcdFx0dmFyIGRpc3RhbmNlID0gdGhpcy5kaXN0YW5jZVRvKGFjdG9yKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIG5vcm1hbGl6dWogd2VrdG9yIGlhIHBvcnVzeiAnZG8nXHJcblx0XHRcdC8vIChtbm96YWMgcHJ6ZXogd2VrdG9yIG5vcm1hbG5laiBhY3Rvci5wb3MgLSB0aGlzLnBvcylcclxuXHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC54ID0gKGFjdG9yLnBvc2l0aW9uLnggLSB0aGlzLnBvc2l0aW9uLngpL2Rpc3RhbmNlO1xyXG5cdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnkgPSAoYWN0b3IucG9zaXRpb24ueSAtIHRoaXMucG9zaXRpb24ueSkvZGlzdGFuY2U7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBhbiBoaXQgc2lnbmFsLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gb3RoZXJcclxuXHRcdCAqL1xyXG5cdFx0b25IaXQ6IGZ1bmN0aW9uKG90aGVyKSB7XHJcblx0XHRcdGlmKCEgdGhpcy5zdGF0ZS5oaXR0ZWQpIHtcclxuXHRcdFx0XHR0aGlzLnNjYWxlLnggPSAtb3RoZXIuc2NhbGUueDtcclxuXHRcdFx0XHR0aGlzLmhlYWx0aCAtPSBvdGhlci5zdHJlbmd0aFtvdGhlci5hbmltYXRpb25dIHx8IDEwO1xyXG5cdFx0XHRcdHRoaXMucGxheSgnaGl0Jyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYodGhpcy5oZWFsdGggPD0gMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5kZXN0cm95KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0Ly8gUHJlbG9hZCBhc3NldHNcclxuXHRHYW1lLkFjdG9ycy5FbmVteS5wcmVsb2FkID0gZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRhcHAubG9hZEltYWdlcygnZW5lbXlndXknKTtcclxuXHR9O1xyXG59KSh3aW5kb3cuR2FtZSA9IHdpbmRvdy5HYW1lIHx8IHt9LCBCQlEsIFBJWEkpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKlxyXG4gKiBjcmVhdHVyZXMuanNcclxuICogXHJcbiAqIENyZWF0dXJlcy4gQW5pbWFsc1xyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIERhbmllbCBcIlN6QVBLT1wiIER1ZHppa293c2tpIDxkYW5pZWwuc3phcGtvQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXR1cmVzIGFuZCBhbmltYWxzIG9iamVjdHMuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gR2FtZSBDb21tb24gcHVibGljIGdhbWUgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gQkJRIEVuZ2luZSBwdWJsaWMgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge1BJWEl9IFBpeGkgUElYSSByZW5kZXJpbmcgZW5naW5lIG5hbWVzcGFjZS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oR2FtZSwgQkJRLCBQSVhJKSB7XHJcblxyXG5cdEdhbWUuQWN0b3JzLkNhdCA9IEJCUS5DbGFzcyhmdW5jdGlvbigpe1xyXG5cdCAgICBHYW1lLkFjdG9ycy5FbmVteS5jYWxsKHRoaXMsIFwiY2F0XCIpOyAvLyBvYnJhemVrIGNhdC5wbmdcclxuXHQgICAgXHJcblx0ICAgIHRoaXMuZnJhbWVTaXplID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDE2LCAxNik7XHJcblx0ICAgIFxyXG5cdCAgICAvLyBmb2xsb3dpbmcgcGxheWVyIG9iamVjdFxyXG5cdFx0dGhpcy5mb2xsb3cgPSBmYWxzZTtcclxuXHRcdHRoaXMudGljayA9IDA7XHJcblx0ICAgIFxyXG5cdFx0Ly8gY2hhcmFjdGVyIGJhc2ljIHN0YXRlc1xyXG5cdFx0dGhpcy5oZWFsdGggPSAxMDAwO1xyXG5cdFx0dGhpcy5zdHJlbmd0aCA9IHtcclxuXHRcdFx0cHVuY2g6IDEwLFxyXG5cdFx0XHRraWNrOiAxNVxyXG5cdFx0fTtcclxuXHRcdHRoaXMuc3BlZWQgPSB7XHJcblx0XHRcdHdhbGs6IDM1LFxyXG5cdFx0XHRqdW1wOiA1MCxcclxuXHRcdFx0aGl0OiAtNTAsXHJcblx0XHRcdHB1bmNoOiAyMCxcclxuXHRcdFx0a2ljazogMTBcclxuXHRcdH07XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhHYW1lLkFjdG9ycy5FbmVteSlcclxuXHQucHJvcGVydGllcyh7XHJcblx0fSlcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBbmltYXRpb25zIGZyYW1lcyB0byB1c2UuXHJcblx0XHQgKi9cclxuXHRcdGFuaW1hdGlvbnM6IHtcclxuXHRcdFx0aWRsZToge1xyXG5cdFx0XHRcdHRpbWU6IDAuNSxcclxuXHRcdFx0XHRmcmFtZXM6IFszLCA0LCA1XVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR3YWxrOiB7XHJcblx0XHRcdFx0dGltZTogMC41LFxyXG5cdFx0XHRcdGZyYW1lczogWzAsIDEsIDAsIDJdXHJcblx0XHRcdH0sXHJcblx0XHRcdGhpdDoge1xyXG5cdFx0XHRcdHRpbWU6IDIsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMCwgMSwgMiwgMywgNCwgNV0sXHJcblx0XHRcdFx0bmV4dDogJ2lkbGUnXHJcblx0XHRcdH0vLyxcclxuXHRcdFx0Ly9hdHRhY2s6IHtcclxuXHRcdFx0Ly9cdHRpbWU6IDAuNyxcclxuXHRcdFx0Ly9cdGZyYW1lczogWzAsIDEsIDAsIDJdXHJcblx0XHRcdC8vfSxcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHVwZGF0ZVN0YXRlOiBmdW5jdGlvbiAoZGVsdGEpIHtcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS53YWxraW5nKSB7XHJcblxyXG5cdFx0XHRcdC8vIGZpbmQgbmVhcmVzdCBwbGF5ZXJcclxuXHRcdFx0XHR2YXIgcGxheWVyID0gdGhpcy5maW5kTmVhcmVzdFBsYXllcigpO1xyXG5cclxuXHRcdFx0XHQvLyBwbGF5ZXIgZm91bmRcclxuXHRcdFx0XHRpZihwbGF5ZXIgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHQvLyBjbGVhciBtb3ZlbWVudCBzdGF0ZVxyXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC5zZXQoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gbW92ZW1lbnRcclxuXHRcdFx0XHRcdGlmKHRoaXMuZGlzdGFuY2VUbyhwbGF5ZXIpID4gMjApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tb3ZlVG8ocGxheWVyKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZih0aGlzLnRpY2stLSA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuYW5pbWF0aW9uID0gJ2lkbGUnO1xyXG5cdFx0XHRcdFx0XHQvL3RoaXMudGljayA9IDUgKyAxMCAqIE1hdGgucmFuZG9tKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gZmFjZSBkaXJlY3Rpb25cclxuXHRcdFx0XHRcdHRoaXMuc2NhbGUueCA9IHRoaXMucG9zaXRpb24ueCA+IHBsYXllci5wb3NpdGlvbi54ID8gLTEgOiAxO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRHYW1lLkFjdG9ycy5DYXQucHJlbG9hZCA9IGZ1bmN0aW9uKGFwcCkge1xyXG5cdCAgICBhcHAubG9hZEltYWdlcygnY2F0Jyk7XHJcblx0fTtcclxuXHJcbn0pKHdpbmRvdy5HYW1lID0gd2luZG93LkdhbWUgfHwge30sIEJCUSwgUElYSSk7XHJcblx0IFxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qXHJcbiAqIGdhbWUuanNcclxuICogXHJcbiAqIEVudHJ5IHBvaW50IG9mIHRoZSBTbGFzaCAnbicgU21hc2ggZ2FtZS5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdykge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIE92ZXJyaWRlcyBQbGF5Z3JvdW5kJ3MgY29tbW9uIGxvYWRpbmcgc2NyZWVuLlxyXG5cdCAqIFVzZXMgUElYSSByZW5kZXJlciB0byByZW5kZXIgdGhlIGxvYWRpbmcgc3RhdGUuXHJcblx0ICovXHJcblx0UExBWUdST1VORC5Mb2FkaW5nU2NyZWVuID0ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBWSFMtdGFwZSBsb2dvIGltYWdlIGFzc2V0IGVuY29kZWQgYXMgUE5HIGluIGJhc2U2NC5cclxuXHRcdCAqL1xyXG5cdFx0bG9nb1JhdzogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFBWUNBWUFBQUJLdFB0RUFBQUErMGxFUVZSWXcrMVgwUTNGSUFnc2pRczRnQ3U0L3h5dTRBQ08wUGRGWW16TFF5dzFWdm1teWgzSFNXRmpoblB1MkFhSkdDTndjK0ZyNEd0Sk1Od0RyYlhEZ0U4cHNYUDNiZkpZQkh4Ti9yWDFUcThBSS9rb2hBQ2NWd0k3VWVaendudC9VSVpXdWp6bXEzc0FGendGVEZvc2RhK0U1T1lSa0lBUElRQVdXeEpSUzh3VCs0blJtQ3VVcDdYMjFDVUV5ZTBZbnFXMWpPMWE0S201dnBNdFJVck5ldHRkQVZ6L3lFbVJ6dkJ3aTlDVkNlYWpNY1F6MkFLK1Y2ZGZVd0JsVnRqcHZOdEl5RDlpdEV5d1NRRXhScmdxN0s1WWljd3A0RThZbzNsVHhwcnlsM29JYUI3ZU03aGtyOS9oUmNBaVlPNWd1L0pJUmxqejJ2d0FOdWVGSzFSQ05Dd0FBQUFBU1VWT1JLNUNZSUk9JyxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGVzIGxvYWRlciBzY2VuZS5cclxuXHRcdCAqL1xyXG5cdFx0Y3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY3JlYXRlIFBpeGkgbG9nbyBzcHJpdGVcclxuXHRcdFx0dGhpcy5sb2dvID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UodGhpcy5sb2dvUmF3KSk7XHJcblx0XHRcdHRoaXMubG9nby5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDEpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlIGxvYWRlciBwcm9ncmVzcyBiYXJcclxuXHRcdFx0dGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcblx0XHRcdHRoaXMucHJvZ3Jlc3NCYXIucG9zaXRpb24gPSBuZXcgUElYSS5Qb2ludCgwLCA4KTtcclxuXHRcdFx0dGhpcy5sb2dvLmFkZENoaWxkKHRoaXMucHJvZ3Jlc3NCYXIpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZXJyb3IgaGFuZGxlclxyXG5cdFx0XHR0aGlzLmFwcC5sb2FkZXIub24oJ2Vycm9yJywgdGhpcy5lcnJvciwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmVzIGxvYWRlciBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0ZW50ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBjaGFuZ2UgYmFja2dyb3VuZCBjb2xvdXJcclxuXHRcdFx0dGhpcy5hcHAucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gMHgxMDEwMTA7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZXNldCBwcm9ncmVzcyB2YWx1ZVxyXG5cdFx0XHR0aGlzLnByb2dyZXNzID0gMDtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZGluZyBzY2VuZSBkb25lLiBRdWl0dGluZy5cclxuXHRcdCAqL1xyXG5cdFx0bGVhdmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnTG9hZGluZyBkb25lLicpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcm9jZXNzIHRoZSBsb2FkZXIgcHJvZ3Jlc3MuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YSBEZWx0YSB0aW1lIGJldHdlZW4gbGFzdCBmcmFtZS5cclxuXHRcdCAqL1xyXG5cdFx0c3RlcDogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gcHJvZ3Jlc3Mgc3RhdHVzXHJcblx0XHRcdHRoaXMucHJvZ3Jlc3MgKz0gTWF0aC5hYnModGhpcy5hcHAubG9hZGVyLnByb2dyZXNzIC0gdGhpcy5wcm9ncmVzcyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBrZWVwIGNlbnRlcmVkIHBvc2l0aW9uXHJcblx0XHRcdHRoaXMubG9nby5wb3NpdGlvbiA9IG5ldyBQSVhJLlBvaW50KFxyXG5cdFx0XHRcdE1hdGguZmxvb3IodGhpcy5hcHAucmVuZGVyZXIud2lkdGggLyAyKSxcclxuXHRcdFx0XHRNYXRoLmZsb29yKHRoaXMuYXBwLnJlbmRlcmVyLmhlaWdodCAvIDIpXHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJlbmRlcnMgbG9hZGVyIHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyB1cGRhdGUgcHJvZ3Jlc3MgYmFyXHJcblx0XHRcdHZhciBnID0gdGhpcy5wcm9ncmVzc0JhcixcclxuXHRcdFx0XHRjID0gdGhpcy5wcm9ncmVzcztcclxuXHRcdFx0XHJcblx0XHRcdGcuY2xlYXIoKTtcclxuXHRcdFx0Zy5saW5lU3R5bGUoMCk7XHJcblx0XHRcdGcuYmVnaW5GaWxsKDB4RkZGRkZGLCAxKTtcclxuXHRcdFx0Zy5kcmF3UmVjdCgtMzIsIC0yLCA2NCAqIGMsIDQpO1xyXG5cdFx0XHRnLmVuZEZpbGwoKTtcclxuXHRcdFx0XHJcblx0XHRcdGcuYmVnaW5GaWxsKDB4RkZGRkZGLCAxKTtcclxuXHRcdFx0Zy5kcmF3UmVjdCgtMzQsIC0yLCAxLCA0KTtcclxuXHRcdFx0Zy5lbmRGaWxsKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRnLmJlZ2luRmlsbCgweEZGRkZGRiwgMSk7XHJcblx0XHRcdGcuZHJhd1JlY3QoMzMsIC0yLCAxLCA0KTtcclxuXHRcdFx0Zy5lbmRGaWxsKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZW5kZXIgbG9hZGVyIHN0YWdlXHJcblx0XHRcdHRoaXMuYXBwLnJlbmRlcmVyLnJlbmRlcih0aGlzLmxvZ28pO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGVzIGxvYWRlciBlcnJvci5cclxuXHRcdCAqL1xyXG5cdFx0ZXJyb3I6IGZ1bmN0aW9uKHVybCkge1xyXG5cdFx0XHQvLyBjcmVhdGUgdGV4dCBjaGlsZCBub2RlXHJcblx0XHRcdHZhciB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnRXJyb3Igd2hpbGUgbG9hZGluZ1xcbicgKyB1cmwsIHtcclxuXHRcdFx0XHRmb250OiAnOXB4IENvdXJpZXInLFxyXG5cdFx0XHRcdGZpbGw6ICcjRkZGRkZGJyxcclxuXHRcdFx0XHRhbGlnbjogJ2NlbnRlcidcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR0ZXh0LmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMCk7XHJcblx0XHRcdHRleHQucG9zaXRpb24gPSBuZXcgUElYSS5Qb2ludCgwLCAxOCk7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLmxvZ28uYWRkQ2hpbGQodGV4dCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBHYW1lIGFwcGxpY2F0aW9uIGluc3RhbmNlLlxyXG5cdCAqIFxyXG5cdCAqIEB0eXBlIFBMQVlHUk9VTkQuQXBwbGljYXRpb25cclxuXHQgKi9cclxuXHRHYW1lLmFwcCA9IHBsYXlncm91bmQoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21tb24gYXNzZXRzIHBhdGhzLlxyXG5cdFx0ICovXHJcblx0XHRwYXRoczoge1xyXG5cdFx0XHRiYXNlOiAnYXNzZXRzLycsXHJcblx0XHRcdGltYWdlczogJ2ltYWdlcy8nLFxyXG5cdFx0XHRzb3VuZHM6ICdzb3VuZHMvJyxcclxuXHRcdFx0YXRsYXNlczogJ2F0bGFzZXMvJ1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYW52YXMgdmlld3BvcnQgc2NhbGUtdXAuXHJcblx0XHQgKi9cclxuXHRcdHNjYWxlOiAzLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1hbmNlIGRldGVjdG9yLlxyXG5cdFx0ICovXHJcblx0XHRwZXJmb3JtYW5jZToge1xyXG5cdFx0XHR0aWNrczogMCxcclxuXHRcdFx0ZnJhbWU6IDAsXHJcblx0XHRcdGZwczogMFxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBsaWNhdGlvbiBjcmVhdGlvbiBldmVudC5cclxuXHRcdCAqL1xyXG5cdFx0Y3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY3JlYXRlIFBJWEkgcHJvcGVybHkgcmVuZGVyZXJcclxuXHRcdFx0dGhpcy5jcmVhdGVSZW5kZXJlcigpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlcyBpbmZvLWJvYXJkXHJcblx0XHRcdEJCUS5jb25zb2xlLnN0YXR1cyhcclxuXHRcdFx0XHR0aGlzLnJlbmRlcmVyIGluc3RhbmNlb2YgUElYSS5XZWJHTFJlbmRlcmVyID9cclxuXHRcdFx0XHRcdCdXZWJHTCcgOiAnQ2FudmFzJ1xyXG5cdFx0XHQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcGVyZm9ybSBhc3NldHMgbG9hZGluZ1xyXG5cdFx0XHQvLyBGT1IgREVNTyBQVVJQT1NFUyBPTkxZLCBETyBOT1QgQkFTRSBPTiBJVFxyXG5cdFx0XHRjb25zb2xlLmxvZygnTG9hZGluZyBnYW1lIGFzc2V0cy4uLicpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gbG9hZCBnYW1lIGFzc2V0c1xyXG5cdFx0XHRmb3IodmFyIGkgaW4gR2FtZSkge1xyXG5cdFx0XHRcdHZhciBHYW1lX0NoaWxkID0gR2FtZVtpXTtcclxuXHRcdFx0XHRpZih0eXBlb2YgR2FtZV9DaGlsZCA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRcdGZvcih2YXIgbiBpbiBHYW1lX0NoaWxkKSB7XHJcblx0XHRcdFx0XHRcdC8vIGludm9rZSBwcmVsb2FkcyBmb3IgR2FtZS5PYmplY3QuT2JqZWN0LnByZWxvYWRcclxuXHRcdFx0XHRcdFx0aWYodHlwZW9mIEdhbWVfQ2hpbGRbbl0ucHJlbG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRcdEdhbWVfQ2hpbGRbbl0ucHJlbG9hZC5jYWxsKHRoaXMsIHRoaXMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFzc2V0cyBsb2FkZXIgcmVhZHkgZXZlbnQuXHJcblx0XHQgKi9cclxuXHRcdHJlYWR5OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gc3dpdGNoIHRvIGdhbWUgc3RhdGVcclxuXHRcdFx0dGhpcy5zZXRTdGF0ZShuZXcgR2FtZS5TdGF0ZS5NZW51KCkpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlIHNwcml0ZXMuXHJcblx0XHQgKi9cclxuXHRcdHN0ZXA6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIGR1bW15IG1ldGhvZFxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW5kZXJzIHNjZW5lIGZyYW1lLlxyXG5cdFx0ICovXHJcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIHVwZGF0ZSB0aWNrcyBhbmQgRlBTXHJcblx0XHRcdHRoaXMucGVyZm9ybWFuY2UuZnJhbWUrKztcclxuXHRcdFx0dGhpcy5wZXJmb3JtYW5jZS50aWNrcyArPSBkZWx0YTtcclxuXHRcdFx0aWYodGhpcy5wZXJmb3JtYW5jZS50aWNrcyA+PSAxKSB7XHJcblx0XHRcdFx0Ly8gdXBkYXRlIEZQUyBzdGF0dXNcclxuXHRcdFx0XHR0aGlzLnBlcmZvcm1hbmNlLmZwcyA9IHRoaXMucGVyZm9ybWFuY2UuZnJhbWU7XHJcblx0XHRcdFx0QkJRLmNvbnNvbGUuZnBzKCdGUFM6ICcgKyB0aGlzLnBlcmZvcm1hbmNlLmZwcyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gcmVzZXQgY291bnRlcnNcclxuXHRcdFx0XHR0aGlzLnBlcmZvcm1hbmNlLnRpY2tzID0gMDtcclxuXHRcdFx0XHR0aGlzLnBlcmZvcm1hbmNlLmZyYW1lID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGVzIHZpZXdwb3J0IHJlc2l6ZSBldmVudC5cclxuXHRcdCAqL1xyXG5cdFx0cmVzaXplOiBmdW5jdGlvbigpIHtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlIGtleSBpbnB1dC5cclxuXHRcdCAqL1xyXG5cdFx0a2V5ZG93bjogZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0aWYoZXZlbnQua2V5ID09PSAnZjEnKSB7XHJcblx0XHRcdFx0QkJRLmNvbnNvbGUudG9nZ2xlKCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBwb2ludGVyIChtb3VzZS90b3VjaCkgZXZlbnQuXHJcblx0XHQgKi9cclxuXHRcdHBvaW50ZXJkb3duOiBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHQvL0JCUS5VdGlscy5mdWxsc2NyZWVuKHRydWUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSh3aW5kb3cpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKlxyXG4gKiBzdGFnZS5qc1xyXG4gKiBcclxuICogQWxsIGdhbWUgc3RhZ2VzIGRlZmluaXRpb25zIHN0YWNrLlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogR2FtZSBzdGFnZXMgZGVmaW5pdGlvbnMuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gR2FtZSBDb21tb24gcHVibGljIGdhbWUgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gQkJRIEVuZ2luZSBwdWJsaWMgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge1BJWEl9IFBpeGkgUElYSSByZW5kZXJpbmcgZW5naW5lIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihHYW1lLCBCQlEsIFBJWEkpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBGYXRhbGl0eSBpbWFnZS5cclxuXHQgKi9cclxuXHRHYW1lLkZhdGFsaXR5ID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gY2FsbCBpbmhlcml0ZWQgY3RvclxyXG5cdFx0UElYSS5TcHJpdGUuY2FsbCh0aGlzLCBHYW1lLmFwcC50ZXgoJ2ZhdGFsaXR5JykpO1xyXG5cdFx0XHJcblx0XHQvLyBjaGFuZ2Ugc3ByaXRlIGFuY2hvciB0byBjZW50ZXJcclxuXHRcdHRoaXMuYW5jaG9yID0gbmV3IFBJWEkuUG9pbnQoMC41LCAwLjUpO1xyXG5cdFx0dGhpcy50aW1lciA9IDEwMDtcclxuXHR9KVxyXG5cdC5leHRlbmRzKFBJWEkuU3ByaXRlKVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIENlbnRlciBmYXRhbGl0eSBpbWFnZS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi54ID0gR2FtZS5hcHAucmVuZGVyZXIud2lkdGggLyAyO1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnkgPSAoR2FtZS5hcHAucmVuZGVyZXIuaGVpZ2h0IC8gMi41KSAtIE1hdGguYWJzKE1hdGguY29zKCh0aGlzLnRpbWVyLzEwMCArIDUwKSpNYXRoLlBJKSAqIDEwMCAqIE1hdGguc2luKCh0aGlzLnRpbWVyLzIwMCkqTWF0aC5QSSkpO1xyXG5cdFx0XHRQSVhJLlNwcml0ZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZih0aGlzLnRpbWVyID4gMCkge1xyXG5cdFx0XHRcdHRoaXMudGltZXItLTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEdhbWUgc3RhdGVzLlxyXG5cdCAqL1xyXG5cdEdhbWUuU3RhdGUgPSB7fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBNZW51IHN0YXRlIGRlZmluaXRpb24uXHJcblx0ICovXHJcblx0R2FtZS5TdGF0ZS5NZW51ID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdFx0QkJRLlN0YXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHR2YXIgc3AgPSBuZXcgR2FtZS5TdGF0ZS5NZW51LkJ1dHRvbihHYW1lLmFwcC50ZXgoJ3NpbmdsZXBsYXllcicpKTtcclxuXHRcdHZhciBtcCA9IG5ldyBHYW1lLlN0YXRlLk1lbnUuQnV0dG9uKEdhbWUuYXBwLnRleCgnbXVsdGlwbGF5ZXInKSk7XHJcblx0XHR2YXIgZnMgPSBuZXcgR2FtZS5TdGF0ZS5NZW51LkJ1dHRvbihHYW1lLmFwcC50ZXgoJ2Z1bGxzY3JlZW4nKSk7XHJcblx0XHRzcC5vZmZzZXQueSA9IC0yNTtcclxuXHRcdG1wLm9mZnNldC55ID0gMDtcclxuXHRcdGZzLm9mZnNldC55ID0gMjU7XHJcblx0XHRcclxuXHRcdHNwLmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdEdhbWUuYXBwLnNpbmdsZXBsYXllciA9IHRydWU7XHJcblx0XHRcdEdhbWUuYXBwLnNldFN0YXRlKG5ldyBHYW1lLlN0YXRlLlN0YWdlKCkpO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0bXAuY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0R2FtZS5hcHAuc2luZ2xlcGxheWVyID0gZmFsc2U7XHJcblx0XHRcdEdhbWUuYXBwLnNldFN0YXRlKG5ldyBHYW1lLlN0YXRlLlN0YWdlKCkpO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0ZnMuY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0QkJRLlV0aWxzLmZ1bGxzY3JlZW4oKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHNwLmJpbmQoKTtcclxuXHRcdG1wLmJpbmQoKTtcclxuXHRcdGZzLmJpbmQoKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5hZGRDaGlsZChzcCk7XHJcblx0XHR0aGlzLmFkZENoaWxkKG1wKTtcclxuXHRcdHRoaXMuYWRkQ2hpbGQoZnMpO1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoQkJRLlN0YXRlKTtcclxuXHRcclxuXHQvLyBDb21tb24gbWVudSBidXR0b25cclxuXHRHYW1lLlN0YXRlLk1lbnUuQnV0dG9uID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdFx0UElYSS5TcHJpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdHRoaXMuYW5jaG9yID0gbmV3IFBJWEkuUG9pbnQoMC41LCAwLjUpO1xyXG5cdFx0dGhpcy5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcblx0XHR0aGlzLm9mZnNldCA9IG5ldyBQSVhJLlBvaW50KCk7XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhQSVhJLlNwcml0ZSlcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBCdXR0b24gY2xpY2tlZCBoYW5kbGVyLlxyXG5cdFx0ICovXHJcblx0XHRjbGljazogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGR1bW15XHJcblx0XHRcdGNvbnNvbGUubG9nKCdhc2QxJyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEJpbmQgZXZlbnRzLlxyXG5cdFx0ICovXHJcblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5vbignbW91c2Vkb3duJywgdGhpcy5jbGljay5iaW5kKHRoaXMpKTtcclxuXHRcdFx0dGhpcy5vbigndG91Y2hzdGFydCcsIHRoaXMuY2xpY2suYmluZCh0aGlzKSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENlbnRlciBidXR0b25zLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgX3Njcmh3ID0gR2FtZS5hcHAucmVuZGVyZXIud2lkdGggLyAyLFxyXG5cdFx0XHRcdF9zY3JoaCA9IEdhbWUuYXBwLnJlbmRlcmVyLmhlaWdodCAvIDI7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnggPSBfc2NyaHcgKyB0aGlzLm9mZnNldC54O1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnkgPSBfc2NyaGggKyB0aGlzLm9mZnNldC55O1xyXG5cdFx0XHRQSVhJLlNwcml0ZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0Ly8gUHJlbG9hZCBhc3NldHNcclxuXHRHYW1lLlN0YXRlLk1lbnUucHJlbG9hZCA9IGZ1bmN0aW9uKGFwcCkge1xyXG5cdFx0YXBwLmxvYWRJbWFnZXMoJ3NpbmdsZXBsYXllcicsICdtdWx0aXBsYXllcicsICdmdWxsc2NyZWVuJyk7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBDb21tb24gc3RhZ2UgZGVmaW5pdGlvbi5cclxuXHQgKi9cclxuXHRHYW1lLlN0YXRlLlN0YWdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRCQlEuU3RhdGUuY2FsbCh0aGlzKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5wbGF5ZXJzID0gW107XHJcblx0XHR0aGlzLnRpbWVyID0gMTA7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEdhbWUuU3RhZ2UgYnkgQkJRLlN0YXRlIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoR2FtZS5TdGF0ZS5TdGFnZSwgQkJRLlN0YXRlLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmVzIGdhbWUgc3RhZ2UuXHJcblx0XHQgKi9cclxuXHRcdGVudGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kLmFkZEJhY2tncm91bmQoJ3Rvd25za3knLCB7XHJcblx0XHRcdFx0c2NhbGU6IG5ldyBQSVhJLlBvaW50KC4xLCAuMSlcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLmJhY2tncm91bmQuYWRkQmFja2dyb3VuZCgndG93bmJnJywge1xyXG5cdFx0XHRcdHNjYWxlOiBuZXcgUElYSS5Qb2ludCguNSwgMSksXHJcblx0XHRcdFx0b2Zmc2V0OiBuZXcgUElYSS5Qb2ludCgwLCAtMjAwKSxcclxuXHRcdFx0XHR2dGlsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdGh0aWxlZDogdHJ1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMuYmFja2dyb3VuZC5hZGRCYWNrZ3JvdW5kKCd0b3duZmcnLCB7XHJcblx0XHRcdFx0c2NhbGU6IG5ldyBQSVhJLlBvaW50KC42NSwgMSksXHJcblx0XHRcdFx0b2Zmc2V0OiBuZXcgUElYSS5Qb2ludCgwLCAtMjAwKSxcclxuXHRcdFx0XHR2dGlsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdGh0aWxlZDogdHJ1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMuYmFja2dyb3VuZC5hZGRCYWNrZ3JvdW5kKCdyb2FkJywge1xyXG5cdFx0XHRcdHNjYWxlOiBuZXcgUElYSS5Qb2ludCgxLCAxKSxcclxuXHRcdFx0XHRvZmZzZXQ6IG5ldyBQSVhJLlBvaW50KDAsIC0yMiksXHJcblx0XHRcdFx0dnRpbGVkOiBmYWxzZSxcclxuXHRcdFx0XHRodGlsZWQ6IHRydWVcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgY2hhcmEgPSBuZXcgR2FtZS5BY3RvcnMuUGxheWVyVG91Y2hTY3JlZW4oJ2ZhdGd1eScpO1xyXG5cdFx0XHRjaGFyYS5wb3NpdGlvbi54ID0gNjA7XHJcblx0XHRcdHRoaXMuYWN0b3JzLmFkZENoaWxkKGNoYXJhKTtcclxuXHRcdFx0dGhpcy5jYW1lcmEuZm9sbG93KGNoYXJhKTtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLnB1c2goY2hhcmEpO1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIGNhdCA9IG5ldyBHYW1lLkFjdG9ycy5DYXQoJ2NhdCcpO1xyXG5cdFx0XHRjYXQucG9zaXRpb24ueCA9IDQwMDtcclxuXHRcdFx0dGhpcy5hY3RvcnMuYWRkQ2hpbGQoY2F0KTtcclxuXHRcdFx0XHJcblx0XHRcdGlmKCFHYW1lLmFwcC5zaW5nbGVwbGF5ZXIpIHtcclxuXHRcdFx0XHRjaGFyYSA9IG5ldyBHYW1lLkFjdG9ycy5QbGF5ZXIoJ2ZhdGd1eScpO1xyXG5cdFx0XHRcdGNoYXJhLnBvc2l0aW9uLnggPSAxMDA7XHJcblx0XHRcdFx0Y2hhcmEua2V5bWFwID0ge1xyXG5cdFx0XHRcdFx0cmlnaHQ6ICdkJyxcclxuXHRcdFx0XHRcdGxlZnQ6ICdhJyxcclxuXHRcdFx0XHRcdGRvd246ICdzJyxcclxuXHRcdFx0XHRcdHVwOiAndycsXHJcblxyXG5cdFx0XHRcdFx0cHVuY2g6ICd0JyxcclxuXHRcdFx0XHRcdGtpY2s6ICd5JyxcclxuXHRcdFx0XHRcdGp1bXA6ICdnJ1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0dGhpcy5jYW1lcmEuZm9sbG93KGNoYXJhKTtcclxuXHRcdFx0XHR0aGlzLmFjdG9ycy5hZGRDaGlsZChjaGFyYSk7XHJcblx0XHRcdFx0dGhpcy5wbGF5ZXJzLnB1c2goY2hhcmEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvL3ZhciBlbmVteSA9IG5ldyBHYW1lLkFjdG9ycy5FbmVteSgnZW5lbXlndXknKTtcclxuXHRcdFx0Ly90aGlzLmFjdG9ycy5hZGRDaGlsZChlbmVteSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE92ZXJyaWRlcyBzdGF0ZSBzdGVwLlxyXG5cdFx0ICovXHJcblx0XHRzdGVwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0QkJRLlN0YXRlLnByb3RvdHlwZS5zdGVwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjcmVhdGUgZW5lbWllcyBkdXJuaW5nIHRpbWVcclxuXHRcdFx0aWYodGhpcy5wbGF5ZXJzLmxlbmd0aCA+IDAgJiYgdGhpcy50aW1lci0tIDwgMCkge1xyXG5cdFx0XHRcdHRoaXMudGltZXIgPSA4MCArIDIwMCAqIE1hdGgucmFuZG9tKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dmFyIGVuZW15ID0gbmV3IEdhbWUuQWN0b3JzLkVuZW15KCdlbmVteWd1eScpO1xyXG5cdFx0XHRcdGVuZW15LnBvc2l0aW9uLnggPSAoTWF0aC5yYW5kb20oKSA8IDAuNSA/IC0xIDogMSkqNDAwO1xyXG5cdFx0XHRcdGVuZW15LnBvc2l0aW9uLnkgPSBNYXRoLnJhbmRvbSgpKjEwMDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRlbmVteS5wb3NpdGlvbi54IC09IHRoaXMuY2FtZXJhLmdldENlbnRlcigpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHRoaXMuYWN0b3JzLmFkZENoaWxkKGVuZW15KTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBLZXlkb3duIGV2ZW50IGhhbmRsZS5cclxuXHRcdCAqL1xyXG5cdFx0a2V5ZG93bjogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR0aGlzLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihwbGF5ZXIpIHtcclxuXHRcdFx0XHRwbGF5ZXIuZW5xdWV1ZUV2ZW50KCdrZXlkb3duJywgZS5rZXksIHRydWUsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogXHJcblx0XHQgKi9cclxuXHRcdGtleXVwOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHRcdHBsYXllci5lbnF1ZXVlRXZlbnQoJ2tleXVwJywgZS5rZXksIGZhbHNlLCBlKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHR0b3VjaHN0YXJ0OiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHRcdHBsYXllci5lbnF1ZXVlRXZlbnQoJ3RvdWNoc3RhcnQnLCBlLmlkZW50aWZpZXIsIGUueCwgZS55LCBmYWxzZSwgZSk7XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0dG91Y2htb3ZlOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHRcdHBsYXllci5lbnF1ZXVlRXZlbnQoJ3RvdWNobW92ZScsIGUuaWRlbnRpZmllciwgZS54LCBlLnksIGZhbHNlLCBlKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHR0b3VjaGVuZDogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR0aGlzLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihwbGF5ZXIpIHtcclxuXHRcdFx0XHRwbGF5ZXIuZW5xdWV1ZUV2ZW50KCd0b3VjaGVuZCcsIGUuaWRlbnRpZmllciwgZS54LCBlLnksIGZhbHNlLCBlKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHRwbGF5ZXJLaWxsZWQ6IGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHR2YXIgaW5kID0gdGhpcy5wbGF5ZXJzLmluZGV4T2YocGxheWVyKTtcclxuXHRcdFx0aWYoaW5kICE9PSAtMSkge1xyXG5cdFx0XHRcdHRoaXMucGxheWVycy5zcGxpY2UoaW5kLCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZmF0YWxpdHkgbWVzc2FnZVxyXG5cdFx0XHRpZih0aGlzLnBsYXllcnMubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0XHR0aGlzLmZvcmVncm91bmQuYWRkQ2hpbGQobmV3IEdhbWUuRmF0YWxpdHkoKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHRcclxuXHQvKipcclxuXHQgKiBBbGwgZ2FtZSBzdGFnZXMgZGVmaW5pdGlvbnMuXHJcblx0ICovXHJcblx0R2FtZS5TdGFnZXMgPSB7fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBDb21tb24gcHJlbG9hZCBhc3NldHMuXHJcblx0ICovXHJcblx0R2FtZS5TdGFnZXMuXyA9IHtcclxuXHRcdHByZWxvYWQ6IGZ1bmN0aW9uKGFwcCkge1xyXG5cdFx0XHRhcHAubG9hZEltYWdlcygnZmF0YWxpdHknKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEZpcnN0IHN0YWdlIC0gRXZpbCBUb3duLlxyXG5cdCAqL1xyXG5cdEdhbWUuU3RhZ2VzLnRvd24gPSB7XHJcblx0XHQvKipcclxuXHRcdCAqIENvbW1vbiBnYW1lIHByZWxvYWQgZnVuY3Rpb24uXHJcblx0XHQgKi9cclxuXHRcdHByZWxvYWQ6IGZ1bmN0aW9uKGFwcCkge1xyXG5cdFx0XHRhcHAubG9hZEltYWdlcygncm9hZCcsICd0b3duc2t5JywgJ3Rvd25iZycsICd0b3duZmcnKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhZ2UgYXBwZWFyYW5jZSBwZXJmcy5cclxuXHRcdCAqL1xyXG5cdFx0YXBwZWFyYW5jZToge1xyXG5cdFx0XHRncm91bmQ6ICdyb2FkJyxcclxuXHRcdFx0cGFyYWxsYXg6IFtcclxuXHRcdFx0XHR7IHRleHR1cmU6ICd0b3duc2t5JywgdnNjYWxlOiAxLCBoc2NhbGU6IDEgfVxyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEdhbWVwbGF5IHNlY3Rpb25zLlxyXG5cdFx0ICovXHJcblx0XHRzZWN0aW9uczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0d2F2ZXM6IFtcclxuXHRcdFx0XHRcdFsnU2tpbkhlYWQnLCdTa2luSGVhZCcsJ1NraW5IZWFkJ11cclxuXHRcdFx0XHRdXHJcblx0XHRcdH1cclxuXHRcdF0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQWZ0ZXItd2luIG5leHQgc3RhZ2UuXHJcblx0XHQgKi9cclxuXHRcdG5leHQ6ICdwdWInXHJcblx0fTtcclxufSkod2luZG93LkdhbWUgPSB3aW5kb3cuR2FtZSB8fCB7fSwgQkJRLCBQSVhJKTtcclxuXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX2JicV9iYnFfYmFzZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfYmJxX2JicV9iYXNlX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfYmJxX2JicV9iYXNlX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9iYnFfYmJxX2NvbnNvbGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2JicV9iYnFfY29uc29sZV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2JicV9iYnFfY29uc29sZV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfYmJxX2JicV9waXhpX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9iYnFfYmJxX3BpeGlfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9iYnFfYmJxX3BpeGlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JicV9iYnFfc3RhdGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JicV9iYnFfc3RhdGVfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19iYnFfYmJxX3N0YXRlX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9nYW1lX2FjdG9yc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfZ2FtZV9hY3RvcnNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9nYW1lX2FjdG9yc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfZ2FtZV9jcmVhdHVyZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2dhbWVfY3JlYXR1cmVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfZ2FtZV9jcmVhdHVyZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2dhbWVfc3RhZ2VzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9nYW1lX3N0YWdlc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2dhbWVfc3RhZ2VzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19nYW1lX2dhbWVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2dhbWVfZ2FtZV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2dhbWVfZ2FtZV9fKTtcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGJ1bmRsZS5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb3J5IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vcnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvYnVpbGQvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYmM3ZDE5MTNhNThjNjgzOWM5NzUiLCIvKiBcclxuICogYmJxLWJhc2UuanNcclxuICogXHJcbiAqIEJCUSBlbmdpbmUgY29yZSBmdW5jdGlvbmFsaXR5LlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICogXHJcbiAqIENoYW5nZWxvZzpcclxuICogKDI2LjAxLjIwMTYpXHJcbiAqXHRcdC0gRG9kYcWCZW0gbm93eSB1dGlsaXR5IGRsYSBqxJl6eWthIEpTIC0gQkJRLkNsYXNzXHJcbiAqICgzMC4xMi4yMDE1KVxyXG4gKlx0XHQtIEJCUS5VbmlsaXMuZnVsbHNjcmVlbigpIHVtb8W8bGl3aWEgcHJ6ZWrFm2NpZSB3IHRyeWIgcGXFgm5vZWtyYW5vd3lcclxuICovXHJcblxyXG4vKipcclxuICogQkJRIENvcmUgTW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihCQlEpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBVc2VmdWwgY29tbW9uIHV0aWxpdGllcy5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMgPSB7XHJcblx0XHQvKipcclxuXHRcdCAqIEFzc2lnbnMgdHdvIG9yIG1vcmUgb2JqZWN0cyBpbnRvIHRhcmdldCBvbmUuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSAuLi5zb3VyY2VcclxuXHRcdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGFyZ2V0IGNoYWluaW5nIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRhc3NpZ246IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0LCBzb3VyY2UpIHtcclxuXHRcdFx0Zm9yKHZhciBpID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcHJvcDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0c291cmNlID0gYXJndW1lbnRzW2ldO1xyXG5cdFx0XHRcdGZvcihwcm9wIGluIHNvdXJjZSkge1xyXG5cdFx0XHRcdFx0dGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEV4dGVuZHMgY2xhc3NlcyBiZXR3ZWVuIHByb3RvdHlwZXMuXHJcblx0XHQgKiBBdXRvbWF0ZXMgY29uc3RydWN0b3IgcmVhc3NpZ24uXHJcblx0XHQgKiBcclxuXHRcdCAqIEBkZXByZWNhdGVkIEZ1bmN0aW9uYWxpdHkgZGVwcmVjYXRlZCwgY2hlY2tvdXQgZm9yIEJCUS5DbGFzcyBpbnN0ZWFkXHJcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbGFzc2EgQ2xhc3MgdG8gcHJlcGFyZS5cclxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNsYXNzYiBFeHRlbmRzIGZyb20gdGhpcyBjbGFzcy5cclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBQcm90b3R5cGUgbmV3IGFzc2lnbnMuXHJcblx0XHQgKi9cclxuXHRcdGV4dGVuZHM6IGZ1bmN0aW9uKGNsYXNzYSwgY2xhc3NiLCBwcm90bykge1xyXG5cdFx0XHRCQlEuVXRpbHMuYXNzaWduKFxyXG5cdFx0XHRcdGNsYXNzYS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGNsYXNzYi5wcm90b3R5cGUpLCB7XHJcblx0XHRcdFx0XHRjb25zdHJ1Y3RvcjogY2xhc3NhXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRwcm90b1xyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbmFibGVzL2Rpc2FibGVzIGZ1bGxzY3JlZW4gZmVhdHVyZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCb29sZWFufSBlbmFibGUgRW5hYmxlIGZ1bGxzY3JlZW4uXHJcblx0XHQgKi9cclxuXHRcdGZ1bGxzY3JlZW46IGZ1bmN0aW9uKGVuYWJsZSkge1xyXG5cdFx0XHQvLyByZXF1ZXN0IGZ1bGxzY3JlZW5cclxuXHRcdFx0aWYodHlwZW9mIGVuYWJsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZW5hYmxlKSB7XHJcblx0XHRcdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxyXG5cdFx0XHRcdFx0cmVxdWVzdEZ1bGxzY3JlZW4gPSBib2R5LnJlcXVlc3RGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym9keS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJvZHkubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRib2R5Lm1zUmVxdWVzdEZ1bGxTY3JlZW47XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gaW52b2tlIHJlcXVlc3RcclxuXHRcdFx0XHRpZihyZXF1ZXN0RnVsbHNjcmVlbikge1xyXG5cdFx0XHRcdFx0cmVxdWVzdEZ1bGxzY3JlZW4uY2FsbChib2R5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY2xvc2UgZnVsbHNjcmVlblxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHR2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXHJcblx0XHRcdFx0XHRjbG9zZUZ1bGxzY3JlZW4gPSBib2R5LmNsb3NlRnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQgIGJvZHkud2Via2l0Q2xvc2VGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdCAgYm9keS5tb3pDbG9zZUZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICBib2R5Lm1zQ2xvc2VGdWxsU2NyZWVuO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIGludm9rZSByZXF1ZXN0XHJcblx0XHRcdFx0aWYoY2xvc2VGdWxsc2NyZWVuKSB7XHJcblx0XHRcdFx0XHRjbG9zZUZ1bGxzY3JlZW4uY2FsbChib2R5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENsYXNzIGJ1aWxkZXIgdXRpbGl0eS5cclxuXHQgKiBTaW1wbGUgdXNhZ2U6XHJcblx0ICogTXlDbGFzcyA9IENsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdCAqICAgICAvLyB0aGlzIGlzIG15IGNvbnN0cnVjdG9yXHJcblx0ICogICAgIHRoaXMuZm9vID0gMTtcclxuXHQgKiB9KVxyXG5cdCAqIC5leHRlbmRzKEV4dGVuZGVkQ2xhc3MpXHJcblx0ICogLnByb3BldGllcyh7XHJcblx0ICogICAgIC8vIHRoaXMgaXMgbXkgb3duIGNsYXNzIHByb3BlcnR5XHJcblx0ICogICAgIGZvb3Byb3A6IHtcclxuXHQgKiAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcblx0ICogICAgICAgICAgICAgcmV0dXJuIDEyMztcclxuXHQgKiAgICAgICAgIH1cclxuXHQgKiAgICAgfVxyXG5cdCAqIH0pXHJcblx0ICogLnNjb3BlKHtcclxuXHQgKiAgICAgLy8gdGhpcyBpcyBteSBjbGFzcyBib2R5XHJcblx0ICogICAgIGJhcjogZnVuY3Rpb24oKSB7XHJcblx0ICogICAgICAgICByZXR1cm4gdGhpcy5mb28rKztcclxuXHQgKiAgICAgfSxcclxuXHQgKiAgICAgcGVlazogZnVuY3Rpb24oKSB7XHJcblx0ICogICAgICAgICByZXR1cm4gdGhpcy5mb287XHJcblx0ICogICAgIH1cclxuXHQgKiB9KTtcclxuXHQgKiBcclxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2xhc3MgYnVpbGRlci5cclxuXHQgKi9cclxuXHR3aW5kb3cuQ2xhc3MgPSBCQlEuQ2xhc3MgPSBmdW5jdGlvbihjdG9yKSB7XHJcblx0XHRpZih0eXBlb2YgY3Rvci50eXBlID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHQvLyBzdG9yZSBjbGFzcyB0eXBlXHJcblx0XHRcdGN0b3IudHlwZSA9IGN0b3I7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZWRlZmluZSBjbGFzcyBwcm90b3R5cGVcclxuXHRcdFx0Y3Rvci5wcm90b3R5cGUgPSB7XHJcblx0XHRcdFx0Y29uc3RydWN0b3I6IGN0b3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBbGxvd3MgZXh0ZW5kaW5nIGNsYXNzIGJ5IGFub3RoZXIgb25lLlxyXG5cdFx0ICogU3VwcG9ydHMgc2luZ2xlIGluaGVyaXRhbmNlLlxyXG5cdFx0ICogSW5oZXJpdGFuY2UgcmVtb3ZlcyBvbGQgcHJvdG90eXBlIHZhbHVlcy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZXh0ZW5kZWQgQ2xhc3MgdG8gZXh0ZW5kLlxyXG5cdFx0ICogQHJldHVybiB7RnVuY3Rpb259IENoYWluaW5nICp0aGlzKiBjbGFzcyBidWlsZGVyLlxyXG5cdFx0ICovXHJcblx0XHRjdG9yLmV4dGVuZHMgPSBmdW5jdGlvbihleHRlbmRlZCkge1xyXG5cdFx0XHRpZih0eXBlb2YgZXh0ZW5kZWQgIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdFeHRlbmRpbmcgY2xhc3MgYnkgbm9uLWNsYXNzIG9iamVjdCBpcyB1bmFsbG93ZWQnKTtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlIGNsYXNzIGluaGVyaXRhbmNlXHJcblx0XHRcdHRoaXMudHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGV4dGVuZGVkLnByb3RvdHlwZSk7XHJcblx0XHRcdHRoaXMudHlwZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB0aGlzLnR5cGU7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBEZWZpbmUgcHJvcGVydGllcyBmb3IgY2xhc3MuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBQcm9wZXJ0aWVzIHNwZWNpZmllZCBvYmplY3QuXHJcblx0XHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2hhaW5pbmcgKnRoaXMqIGNsYXNzIGJ1aWxkZXIuXHJcblx0XHQgKi9cclxuXHRcdGN0b3IucHJvcGVydGllcyA9IGZ1bmN0aW9uKHByb3BzKSB7XHJcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMudHlwZS5wcm90b3R5cGUsIHByb3BzKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGx5IHNjb3BlIGJvZHkgdG8gdGhlIGNsYXNzIHByb3RvdHlwZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHNjb3BlIFNjb3BlIG9iamVjdCB0byBhcHBseSBhcyBjbGFzcyBwcm90b3R5cGUuXHJcblx0XHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2hhaW5pbmcgKnRoaXMqIGNsYXNzIGJ1aWxkZXIuXHJcblx0XHQgKi9cclxuXHRcdGN0b3Iuc2NvcGUgPSBmdW5jdGlvbihzY29wZSkge1xyXG5cdFx0XHRCQlEuVXRpbHMuYXNzaWduKHRoaXMudHlwZS5wcm90b3R5cGUsIHNjb3BlKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE1ha2UgY2xhc3MgZmluYWwuXHJcblx0XHQgKiBEaXNhYmxlcyBjbGFzcyBidWlsZGVyIGZ1bmN0aW9uYWxpdHkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBDaGFpbmluZyAqdGhpcyogd2l0aG91dCBjbGFzcyBidWlsZGVyLlxyXG5cdFx0ICovXHJcblx0XHRjdG9yLmZpbmFsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnR5cGUuc2NvcGU7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnR5cGUucHJvcGVydGllcztcclxuXHRcdFx0ZGVsZXRlIHRoaXMudHlwZS5leHRlbmRzO1xyXG5cdFx0XHRkZWxldGUgdGhpcy50eXBlLnR5cGU7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gcmV0dXJucyBjbGFzcyBidWlsZGVyXHJcblx0XHRyZXR1cm4gY3RvcjtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZXMgRE9NIG1vZGlmaWVyLlxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgU2luZ2xlIERPTSBlbGVtZW50LlxyXG5cdCAqIEByZXR1cm5zIHtCQlEuRE9NLkVsZW1lbnR9IEVsZW1lbnQgQkJRIG1vZGlmaWVyLlxyXG5cdCAqL1xyXG5cdEJCUS5ET00gPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHRyZXR1cm4gbmV3IEJCUS5ET00uRWxlbWVudChlbGVtZW50KTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIERPTSBlbGVtZW50IG1vZGlmaWVyIHV0aWxpdHkgY2xhc3MuXHJcblx0ICogXHJcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGV4dFxyXG5cdCAqL1xyXG5cdEJCUS5ET00uRWxlbWVudCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHRcdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcblx0fTtcclxuXHRcclxuXHQvLyBCQlEuRE9NLkVsZW1lbnQgY2xhc3MgcHJvdG90eXBlXHJcblx0QkJRLkRPTS5FbGVtZW50LnByb3RvdHlwZSA9IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGN0b3IuXHJcblx0XHQgKi9cclxuXHRcdGNvbnN0cnVjdG9yOiBCQlEuRE9NLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEJpbmRzIGV2ZW50IHRvIHRoZSBhc3NpZ25lZCBlbGVtZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBcclxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0b246IGZ1bmN0aW9uKHR5cGUsIGNhbGxiYWNrKSB7XHJcblx0XHRcdGlmKHRoaXMuY29udGV4dC5hZGRFdmVudExpc3RlbmVyKSB7XHJcblx0XHRcdFx0dGhpcy5jb250ZXh0LmFkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcy5jb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdC8vIG91cHMsIGZ1bmN0aW9uIG5vdCByZWNvcmduaXplZFxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ05vIGV2ZW50IGJpbmRpbmcgZnVuY3Rpb25hbGl0eSBmb3VuZCEnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFzc2lnbnMgZ2l2ZW4gQ1NTIHByb3BlcnRpZXMgdG8gSFRNTCBlbGVtZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQ1NTIHByb3BlcnRpZXMuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0Y3NzOiBmdW5jdGlvbihwcm9wcykge1xyXG5cdFx0XHRCQlEuVXRpbHMuYXNzaWduKHRoaXMuY29udGV4dC5zdHlsZSwgcHJvcHMpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyBIVE1MIGVsZW1lbnQgaW50byAqdGhpcyouXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgSFRNTCBlbGVtZW50IHRvIGFwcGVuZC5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRhcHBlbmQ6IGZ1bmN0aW9uKG5vZGUpIHtcclxuXHRcdFx0Zm9yKHZhciBpIGluIGFyZ3VtZW50cykge1xyXG5cdFx0XHRcdG5vZGUgPSBhcmd1bWVudHNbaV07IC8vIHJlLWFzc2lnblxyXG5cdFx0XHRcdHRoaXMuY29udGV4dC5hcHBlbmRDaGlsZChcclxuXHRcdFx0XHRcdG5vZGUgaW5zdGFuY2VvZiBCQlEuRE9NLkVsZW1lbnQgP1xyXG5cdFx0XHRcdFx0XHRub2RlLmNvbnRleHQgOiBub2RlXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyAqdGhpcyogZWxlbWVudCBpbnRvIHNwZWNpZmllZCBlbGVtZW50IGFzIHRhcmdldC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCBIVE1MIGVsZW1lbnQuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0YXBwZW5kVG86IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0XHRpZih0YXJnZXQgaW5zdGFuY2VvZiBCQlEuRE9NLkVsZW1lbnQpIHtcclxuXHRcdFx0XHR0YXJnZXQuY29udGV4dC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2VzICp0aGlzKiBlbGVtZW50IGlkIGF0dHJpYnV0ZSB2YWx1ZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGlkTmFtZSBFbGVtZW50IG5ldyBpZCB2YWx1ZS5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRpZDogZnVuY3Rpb24oaWROYW1lKSB7XHJcblx0XHRcdHRoaXMuY29udGV4dC5pZCA9IGlkTmFtZTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZXMgKnRoaXMqIGVsZW1lbnQgY2xhc3MgYXR0cmlidXRlIHZhbHVlLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lIEVsZW1lbnQgbmV3IGNsYXNzIG5hbWUuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0Y2xhc3M6IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xyXG5cdFx0XHR0aGlzLmNvbnRleHQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hhbmdlcyAqdGhpcyogZWxlbWVudCdzIHRleHQgY29udGVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgSFRNTCBlbnRyaWVzIGFzIHN0cmluZy5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHR0ZXh0OiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdHRoaXMuY29udGV4dC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2VzICp0aGlzKiBlbGVtZW50J3MgY29udGVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgSFRNTCBlbnRyaWVzIGFzIHN0cmluZy5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRodG1sOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdHRoaXMuY29udGV4dC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyBlbGVtZW50IGludG8gZ2l2ZW4gdGFyZ2V0IChpZiBzcGVjaWZpZWQpLCBhbmQgcmV0dXJuc1xyXG5cdFx0ICogRE9NIHJhdyAqdGhpcyogSFRNTCBlbGVtZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fEJCUS5ET00uRWxlbWVudH0gdGFyZ2V0IFRhcmdldCBIVE1MIGVsZW1lbnQuXHJcblx0XHQgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gUmF3IEhUTUwgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0ZG9uZTogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHRcdGlmKHR5cGVvZiB0YXJnZXQgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0dGhpcy5hcHBlbmRUbyh0YXJnZXQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHQ7XHJcblx0XHR9XHJcblx0fTtcclxufSkod2luZG93LkJCUSA9IHdpbmRvdy5CQlEgfHwge30pO1xyXG5cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmJxL2JicS1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIFxyXG4gKiBiYnEtY29uc29sZS5qc1xyXG4gKiBcclxuICogQkJRIG1vZHVsZSBmb3IgZXh0ZW5kIGNvbnNvbGUubG9nIGJ5IGN1c3RvbWl6ZWQgb24tc2NyZWVuIGxvZ2dlci5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEJCUSBDb25zb2xlIE1vZHVsZS5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oQkJRKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQkJRIG9uLXNjcmVlbiBjb25zb2xlIG1hbmFnZXIuXHJcblx0ICovXHJcblx0QkJRLmNvbnNvbGUgPSAoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBjcmVhdGVzIHN0YXR1cyBlbGVtZW50c1xyXG5cdFx0dmFyIHN1YmluZm8gPSBbXHJcblx0XHRcdEJCUS5ET00oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKVxyXG5cdFx0XHRcdC5jc3Moe21hcmdpblJpZ2h0OiAnOHB4J30pXHJcblx0XHRcdFx0LmNvbnRleHQsXHJcblx0XHRcdEJCUS5ET00oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKVxyXG5cdFx0XHRcdC50ZXh0KCctLS0nKVxyXG5cdFx0XHRcdC5jb250ZXh0XHJcblx0XHRdO1xyXG5cdFx0XHJcblx0XHQvLyBjcmVhdGVzIGNvbW1vbiBpbmZvYmFyXHJcblx0XHR2YXIgaW5mb2JhciA9IEJCUS5ET00oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpXHJcblx0XHRcdC5hcHBlbmQoc3ViaW5mb1swXSwgc3ViaW5mb1sxXSlcclxuXHRcdFx0LmNvbnRleHQ7XHJcblx0XHRcclxuXHRcdC8vIGNyZWF0ZXMgbG9ncyBjb250YWluZXJcclxuXHRcdHZhciBsb2dzID0gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpKVxyXG5cdFx0XHQuY29udGV4dDtcclxuXHRcdFxyXG5cdFx0Ly8gY3JlYXRlcyBjb250YWluZXIgZWxlbWVudCBhbmQgYXBwZW5kcyB0byBib2R5XHJcblx0XHR2YXIgY29udGFpbmVyID0gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcclxuXHRcdFx0LmlkKCdnYW1lLWxvZ2dlcicpXHJcblx0XHRcdC5jc3Moe2Rpc3BsYXk6ICdub25lJ30pXHJcblx0XHRcdC5hcHBlbmQoaW5mb2JhciwgbG9ncylcclxuXHRcdFx0LmRvbmUoZG9jdW1lbnQuYm9keSk7XHJcblx0XHRcclxuXHRcdC8vIHB1YmxpYyBzY29wZVxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFNob3dzIGNvbnNvbGUgY29udGFpbmVyIHdoZW4gZG9jdW1lbnQncyByZWFkeS5cclxuXHRcdFx0ICovXHJcblx0XHRcdHNob3dPblJlYWR5OiB0cnVlLFxyXG5cdFx0XHRcclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENoYW5nZXMgc3RhdGljIHN0YXR1cyBjb250ZW50LlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgTmV3IGNvbnRlbnQuXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdFx0c3ViaW5mb1swXS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH0sXHJcblx0XHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ2hhbmdlcyBkeW5hbWljIHN0YXR1cyBjb250ZW50LlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgTmV3IGNvbnRlbnQuXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0ZnBzOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdFx0c3ViaW5mb1sxXS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH0sXHJcblx0XHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ3JlYXRlcyBuZXcgZW50cnkgaW50byBsb2dzIGNvbnRhaW5lci5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50XHJcblx0XHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gQWRkZWQgbG9nIGVudHJ5LlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0bG9nOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdFx0Ly8gcmVtb3ZlIGVsZW1lbnQgZnJvbSB0b3BcclxuXHRcdFx0XHRpZihsb2dzLmNoaWxkTm9kZXMubGVuZ3RoID4gNSkge1xyXG5cdFx0XHRcdFx0bG9ncy5yZW1vdmVDaGlsZChsb2dzLmNoaWxkTm9kZXNbMF0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gYXBwZW5kcyBsb2dzIGVsZW1lbnRcclxuXHRcdFx0XHRyZXR1cm4gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpKVxyXG5cdFx0XHRcdFx0LnRleHQoY29udGVudCkuZG9uZShsb2dzKTtcclxuXHRcdFx0fSxcclxuXHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU2hvd3MgY29uc29sZSBjb250YWluZXIuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdFx0ICovXHJcblx0XHRcdHNob3c6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBIaWRlcyBjb25zb2xlIGNvbnRhaW5lci5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0aGlkZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogVG9nZ2xlcyBjb25zb2xlIHZpc2liaWxpdHkuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcmV0dXJuIHtPYmplY3R9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdFx0ICovXHJcblx0XHRcdHRvZ2dsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgP1xyXG5cdFx0XHRcdFx0dGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFNob3dzIGNvbnNvbGUgb24tc2NyZWVuIGNvbnRhaW5lciBvbi1ET00tY29udGVudC1sb2FkLlxyXG5cdCAqL1xyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRpZihCQlEuY29uc29sZS5zaG93T25SZWFkeSkge1xyXG5cdFx0XHRCQlEuY29uc29sZS5zaG93KCk7XHJcblx0XHR9XHJcblx0fSwgZmFsc2UpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIE1ha2VzIGNvbnNvbGUgaW5zdGFuY2UgaWYgbm90IGFscmVhZHkgZXhpc3RzLlxyXG5cdCAqL1xyXG5cdGlmKCF3aW5kb3cuY29uc29sZSkge1xyXG5cdFx0d2luZG93LmNvbnNvbGUgPSB7XHJcblx0XHRcdGxvZzogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0aW5mbzogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0d2FybjogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKCkge31cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFN0b3JlcyBvbGQgQ29uc29sZSBmdW5jdGlvbmFsaXR5LlxyXG5cdCAqL1xyXG5cdHZhciBfc3VwZXIgPSB7XHJcblx0XHRsb2c6IHdpbmRvdy5jb25zb2xlLmxvZyxcclxuXHRcdGluZm86IHdpbmRvdy5jb25zb2xlLmluZm8sXHJcblx0XHR3YXJuOiB3aW5kb3cuY29uc29sZS53YXJuLFxyXG5cdFx0ZXJyb3I6IHdpbmRvdy5jb25zb2xlLmVycm9yXHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBFeHRlbmRzIG5hdGl2ZSBDb25zb2xlIGZ1bmN0aW9uYWxpdHkuXHJcblx0ICovXHJcblx0QkJRLlV0aWxzLmFzc2lnbih3aW5kb3cuY29uc29sZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2dzIG5ldyB2YWx1ZSBpbnRvIGJvdGggY29uc29sZXMgLSBuYXRpdmUgYW5kIG9uLXNjcmVlbi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgQW55IHZhbHVlIHRvU3RyaW5nLWFibGUuXHJcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IE9uLXNjcmVlbiBjb25zb2xlIGVudHJ5IGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdGxvZzogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLmxvZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRCQlEuY29uc29sZS5sb2coJycgKyB2YWx1ZSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIExvZ3MgbmV3IHZhbHVlIGludG8gYm90aCBjb25zb2xlcyAtIG5hdGl2ZSBhbmQgb24tc2NyZWVuLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge01peGVkfSB2YWx1ZSBBbnkgdmFsdWUgdG9TdHJpbmctYWJsZS5cclxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gT24tc2NyZWVuIGNvbnNvbGUgZW50cnkgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0aW5mbzogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLmluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0QkJRLmNvbnNvbGUubG9nKCcnICsgdmFsdWUpLnN0eWxlLmNvbG9yID0gJyNjMGMwZmYnO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2dzIG5ldyB2YWx1ZSBpbnRvIGJvdGggY29uc29sZXMgLSBuYXRpdmUgYW5kIG9uLXNjcmVlbi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgQW55IHZhbHVlIHRvU3RyaW5nLWFibGUuXHJcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IE9uLXNjcmVlbiBjb25zb2xlIGVudHJ5IGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdHdhcm46IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdF9zdXBlci53YXJuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdEJCUS5jb25zb2xlLmxvZygnJyArIHZhbHVlKS5zdHlsZS5jb2xvciA9ICcjZmZmZjgwJztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTG9ncyBuZXcgdmFsdWUgaW50byBib3RoIGNvbnNvbGVzIC0gbmF0aXZlIGFuZCBvbi1zY3JlZW4uXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlIEFueSB2YWx1ZSB0b1N0cmluZy1hYmxlLlxyXG5cdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fSBPbi1zY3JlZW4gY29uc29sZSBlbnRyeSBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRlcnJvcjogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLmVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdEJCUS5jb25zb2xlLmxvZygnJyArIHZhbHVlKS5zdHlsZS5jb2xvciA9ICcjZjAzMDMwJztcclxuXHRcdH1cclxuXHR9KTtcclxufSkod2luZG93LkJCUSA9IHdpbmRvdy5CQlEgfHwge30pO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9iYnEvYmJxLWNvbnNvbGUuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogXHJcbiAqIGJicS1waXhpLmpzXHJcbiAqIFxyXG4gKiBCQlEgcmVuZGVyZXIgZXh0ZW5zaW9uIGZvciBwbGF5Z3JvdW5kIGJhc2VkIG9uIFBpeGkgV2ViR0wuXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBCQlEgUmVuZGVyaW5nIE1vZHVsZS5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7UElYSX0gUGl4aSBQSVhJIHJlbmRlcmluZyBlbmdpbmUgbmFtZXNwYWNlLlxyXG4gKi9cclxuKGZ1bmN0aW9uKEJCUSwgUExBWUdST1VORCwgUElYSSkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8vIGRpc2FibGVzIGxpbmVhciBpbnRlcnBvbHRpb24gYnkgZGVmYXVsdFxyXG5cdFBJWEkuU0NBTEVfTU9ERVMuREVGQVVMVCA9IFBJWEkuU0NBTEVfTU9ERVMuTkVBUkVTVDtcclxuXHRcclxuXHQvLyByZS1kZWZpbmUgZGVmYXVsdCByZW5kZXJlciBvcHRpb25zXHJcblx0QkJRLlV0aWxzLmFzc2lnbihQSVhJLkRFRkFVTFRfUkVOREVSX09QVElPTlMsIHtcclxuXHRcdC8vY2xlYXJCZWZvcmVSZW5kZXI6IGZhbHNlLFxyXG5cdFx0YXV0b1Jlc2l6ZTogdHJ1ZVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8vIGhpZGVzIDxoZWxsbyBwaXhpPlxyXG5cdFBJWEkudXRpbHMuX3NhaWRIZWxsbyA9IHRydWU7XHJcblx0XHJcblx0LyoqXHJcblx0ICogU3RvcmVzIG9sZCB1c2FibGUgbWV0aG9kcy5cclxuXHQgKi9cclxuXHR2YXIgX3N1cGVyID0ge1xyXG5cdFx0Z2V0QXNzZXRFbnRyeTogUExBWUdST1VORC5BcHBsaWNhdGlvbi5wcm90b3R5cGUuZ2V0QXNzZXRFbnRyeVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogRXh0ZW5kcyBQTEFZR1JPVU5ELkFwcGxpY2F0aW9uIGJ5IHJlbmRlcmVyLlxyXG5cdCAqL1xyXG5cdEJCUS5VdGlscy5hc3NpZ24oUExBWUdST1VORC5BcHBsaWNhdGlvbi5wcm90b3R5cGUsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQXNzaWducyBhbiBuZXcgUGl4aSByZW5kZXJlciB0byBQcm90b3R5cGUuQXBwbGljYXRpb24gaW5zdGFuY2UuXHJcblx0XHQgKiBDcmVhdGVzIFdlYkdMIG9uZSBvciB1c2VzIGZhbGxiYWNrIENhbnZhcyByZW5kZXJlci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgUElYSSByZW5kZXJlciBvcHRpb25zLlxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuU3lzdGVtUmVuZGVyZXJ9IFByb3Blcmx5IGRldGVjdGVkIHJlbmRlcmVyLlxyXG5cdFx0ICovXHJcblx0XHRjcmVhdGVSZW5kZXJlcjogZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0XHQvLyBjcmVhdGVkIG5ldyByZW5kZXJlclxyXG5cdFx0XHRjb25zb2xlLmxvZygnQ3JlYXRpbmcgUElYSSByZW5kZXJlci4uLicpO1xyXG5cdFx0XHR0aGlzLnJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoXHJcblx0XHRcdFx0d2luZG93LmlubmVyV2lkdGgsXHJcblx0XHRcdFx0d2luZG93LmlubmVySGVpZ2h0LFxyXG5cdFx0XHRcdG9wdGlvbnNcclxuXHRcdFx0KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGtlZXAgYXNwZWN0IHJhdGlvIChpZiBzcGVjaWZpZWQpXHJcblx0XHRcdGlmKHR5cGVvZiB0aGlzLnNjYWxlID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdC8vIGJpbmQgd2luZG93IHJlc2l6ZSBldmVudFxyXG5cdFx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFx0J3Jlc2l6ZScsIHRoaXMua2VlcEFzcGVjdC5iaW5kKHRoaXMpLCBmYWxzZVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0dGhpcy5rZWVwQXNwZWN0KCk7IC8vcnVuLW9uLWZseVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhZGQgcmVuZGVyZXIgdmlldyB0byB0aGUgRE9NIGVsZW1lbnRcclxuXHRcdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyIHx8IGRvY3VtZW50LmJvZHk7XHJcblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLnZpZXcpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBLZWVwcyBjYW52YXMgdmlldyBhc3BlY3QuXHJcblx0XHQgKi9cclxuXHRcdGtlZXBBc3BlY3Q6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBjaGFuZ2Ugc2NhbGUgc2l6ZVxyXG5cdFx0XHRpZih3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OCkge1xyXG5cdFx0XHRcdHRoaXMuc2NhbGUgPSAyO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuc2NhbGUgPSAzO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZXNpemUgY2FudmFzIGVsZW1lbnRcclxuXHRcdFx0dGhpcy5yZW5kZXJlci5yZXNpemUoXHJcblx0XHRcdFx0d2luZG93LmlubmVyV2lkdGggLyB0aGlzLnNjYWxlLFxyXG5cdFx0XHRcdHdpbmRvdy5pbm5lckhlaWdodCAvIHRoaXMuc2NhbGVcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIHNjYWxlLXVwIGNhbnZhcyBlbGVtZW50IHZpYSBDU1MgdHJhbnNmb3JtIHByb3BlcnR5XHJcblx0XHRcdHZhciBzY2FsZTJkID0gJ3NjYWxlKCcrdGhpcy5zY2FsZSsnLCcrdGhpcy5zY2FsZSsnKSc7XHJcblx0XHRcdHRoaXMucmVuZGVyZXIudmlldy5zdHlsZS5tc1RyYW5zZm9ybSA9IHNjYWxlMmQ7XHJcblx0XHRcdHRoaXMucmVuZGVyZXIudmlldy5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzY2FsZTJkO1xyXG5cdFx0XHR0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUuTW96VHJhbnNmb3JtID0gc2NhbGUyZDtcclxuXHRcdFx0dGhpcy5yZW5kZXJlci52aWV3LnN0eWxlLk9UcmFuc2Zvcm0gPSBzY2FsZTJkO1xyXG5cdFx0XHR0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUudHJhbnNmb3JtID0gc2NhbGUyZDtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlcyB0ZXh0dXJlIGZyb20gaW1hZ2UuXHJcblx0XHQgKiBVc2VzIHNoYXJlZCB0ZXh0dXJlIGluc3RhbmNlIGJ5IGRlZmF1bHQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7SW1hZ2V8U3RyaW5nfSBpbWFnZSBJbWFnZSBKUyBpbnN0YW5jZSBvciBpbWFnZSBuYW1lLlxyXG5cdFx0ICogQHBhcmFtIHtCb29sZWFufSBzaGFyZWQgVXNlIHNoYXJlZCAoY2FjaGVkKSB0ZXh0dXJlIGluc3RhbmNlLlxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuVGV4dHVyZX0gUGl4aSB0ZXh0dXJlIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHR0ZXg6IGZ1bmN0aW9uKGltYWdlLCBzaGFyZWQpIHtcclxuXHRcdFx0dmFyIGltYWdlSW5zdCA9IGltYWdlO1xyXG5cdFx0XHRpZih0eXBlb2YgaW1hZ2UgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0aW1hZ2VJbnN0ID0gdGhpcy5pbWFnZXNbaW1hZ2VdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKCEoaW1hZ2VJbnN0IGluc3RhbmNlb2YgSW1hZ2UpKSB7XHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignSW1hZ2UgXFwnJyArIGltYWdlICsgJ1xcJyBub3QgcmVjb2duaXplZCcsIGltYWdlSW5zdCk7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY3JlYXRlIHNoYXJlZCB0ZXh0dXJlXHJcblx0XHRcdGlmKHR5cGVvZiBzaGFyZWQgPT09ICd1bmRlZmluZWQnIHx8IHNoYXJlZCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdHJldHVybiBQSVhJLlRleHR1cmUuZnJvbUltYWdlKGltYWdlSW5zdC5zcmMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNyZWF0ZSBuZXcgdGV4dHVyZSAqd2l0aCBzaGFyZWQgYmFzZSB0ZXh0dXJlXHJcblx0XHRcdHJldHVybiBuZXcgUElYSS5UZXh0dXJlKFxyXG5cdFx0XHRcdFBJWEkuQmFzZVRleHR1cmUuZnJvbUltYWdlKGltYWdlSW5zdC5zcmMpXHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFsbG93cyBpbWFnZXMgbG9hZGluZyBmcm9tIGV4dGVybmFsIHNlcnZlcnMuXHJcblx0XHQgKiBSZXF1aXJlcyBhbGxvd2VkIENyb3NzLU9yaWdpbiBSZXNvdXJjZSBTaGFyaW5nIHBvbGljeSB0byB3b3JrLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBVUkwgb3IgcmVsYXRpdmUgYXNzZXQgcGF0aC5cclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBmb2xkZXIgQXNzZXRzIHN0b3JpbmcgZm9sZGVyLlxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGRlZmF1bHRFeHRlbnNpb24gRGVmYXVsdCBhc3NldCBleHRlbnNpb24uXHJcblx0XHQgKiBAcmV0dXJucyB7T2JqZWN0fSBBc3NldCBlbnRyeSBvYmplY3QuXHJcblx0XHQgKi9cclxuXHRcdGdldEFzc2V0RW50cnk6IGZ1bmN0aW9uKHBhdGgsIGZvbGRlciwgZGVmYXVsdEV4dGVuc2lvbikge1xyXG5cdFx0XHQvLyBjaGVjayBpZiBhc3NldCBpcyBmcm9tIGV4dGVybmFsIHNlcnZlclxyXG5cdFx0XHRpZigvXmh0dHAofHMpOlxcL1xcLy4rL2kudGVzdChwYXRoKSkge1xyXG5cdFx0XHRcdHZhciBrZXkgPSBwYXRoLnNwbGl0KCcvJykucG9wKCkuc3BsaXQoJy4nKVswXSxcclxuXHRcdFx0XHRcdGV4dCA9IHBhdGguc3BsaXQoJy4nKS5wb3AoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0a2V5OiBrZXksXHJcblx0XHRcdFx0XHR1cmw6IHBhdGgsXHJcblx0XHRcdFx0XHRwYXRoOiBwYXRoLFxyXG5cdFx0XHRcdFx0ZXh0OiBleHRcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1c2Ugb2xkIG1ldGhvZFxyXG5cdFx0XHRyZXR1cm4gX3N1cGVyLmdldEFzc2V0RW50cnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBBZGRzIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl0eSBpbnRvIFBJWEkuUG9pbnQgY2xhc3MuXHJcblx0ICovXHJcblx0QkJRLlV0aWxzLmFzc2lnbihQSVhJLlBvaW50LnByb3RvdHlwZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBPdmVycmlkZSB2ZWN0b3IgdmFsdWVzLlxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuUG9pbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0c2V0OiBmdW5jdGlvbih4LCB5KSB7XHJcblx0XHRcdHRoaXMueCA9IHggfHwgMDtcclxuXHRcdFx0dGhpcy55ID0geSB8fCAwO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTXVsdGlwbGllcyB2ZWN0b3IgYnkgYSBzY2FsYXIuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlBvaW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdG11bDogZnVuY3Rpb24oc2NhbGFyKSB7XHJcblx0XHRcdHRoaXMueCA9ICh0aGlzLnggKiBzY2FsYXIpIHx8IDA7XHJcblx0XHRcdHRoaXMueSA9ICh0aGlzLnkgKiBzY2FsYXIpIHx8IDA7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBEaXZpZGVzIHZlY3RvciBieSBhIHNjYWxhci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuUG9pbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0ZGl2OiBmdW5jdGlvbihzY2FsYXIpIHtcclxuXHRcdFx0dGhpcy54ID0gKHRoaXMueCAvIHNjYWxhcikgfHwgMDtcclxuXHRcdFx0dGhpcy55ID0gKHRoaXMueSAvIHNjYWxhcikgfHwgMDtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFZlY3RvciBsZW5ndGguXHJcblx0XHQgKi9cclxuXHRcdGxlbmd0aDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBNYXRoLnNxcnQoXHJcblx0XHRcdFx0dGhpcy54ICogdGhpcy54ICtcclxuXHRcdFx0XHR0aGlzLnkgKiB0aGlzLnlcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTm9ybWFsaXplcyB2ZWN0b3IuXHJcblx0XHQgKiBNYWtlcyBub3JtYWxpemF0aW9uIG9uIGl0c2VsZi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuUG9pbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0bm9ybWFsaXplOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZGl2KHRoaXMubGVuZ3RoKCkpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgYWRkaXRpb25hbCBmdW5jdGlvbmFsaXR5IGludG8gUElYSS5SZWN0YW5nbGUgY2xhc3MuXHJcblx0ICovXHJcblx0QkJRLlV0aWxzLmFzc2lnbihQSVhJLlJlY3RhbmdsZS5wcm90b3R5cGUsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogRGV0ZXJtaW5lcyBpbnRlcnNlY3Rpb24gYmV0d2VlbiByZWN0YW5nbGVzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0XHJcblx0XHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuXHRcdCAqL1xyXG5cdFx0aW50ZXJzZWN0czogZnVuY3Rpb24ocmVjdCkge1xyXG5cdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdCh0aGlzLnggKyB0aGlzLndpZHRoID49IHJlY3QueCAmJiB0aGlzLnggPD0gcmVjdC54ICsgcmVjdC53aWR0aCkgJiZcclxuXHRcdFx0XHQodGhpcy55ICsgdGhpcy5oZWlnaHQgPj0gcmVjdC55ICYmIHRoaXMueSA8PSByZWN0LnkgKyByZWN0LmhlaWdodClcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9KTtcclxufSkod2luZG93LkJCUSA9IHdpbmRvdy5CQlEgfHwge30sIFBMQVlHUk9VTkQsIFBJWEkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2JicS9iYnEtcGl4aS5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBcclxuICogYmJxLXN0YWdlLmpzXHJcbiAqIFxyXG4gKiBCQlEgZ2FtZXBsYXkgc3RhdGUgbWFjaGluZSBzdGF0ZXMuXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDb21tb24gZ2FtZXBsYXkgc3RhdGUgbW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oQkJRLCBQSVhJKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ3JlYXRlcyBhY3RvciBpbnN0YW5jZS5cclxuXHQgKi9cclxuXHRCQlEuQWN0b3IgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRhbmNlIGN0b3JcclxuXHRcdFBJWEkuU3ByaXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcclxuXHRcdC8vIHNpZ25hbHMgc2V0XHJcblx0XHR0aGlzLnNpZ25hbHMgPSBbXTtcclxuXHRcdFxyXG5cdFx0Ly8gZXZlbnRzIHNldFxyXG5cdFx0dGhpcy5ldmVudHMgPSBbXTtcclxuXHRcdFxyXG5cdFx0Ly8gd2V0aGVyIGFjdG9yIGlzIG5vLW1vcmUgbGl2ZVxyXG5cdFx0dGhpcy5raWxsZWQgPSBmYWxzZTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLkFjdG9yIGJ5IFBJWEkuU3ByaXRlIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLkFjdG9yLCBQSVhJLlNwcml0ZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21tb24gY3Rvci5cclxuXHRcdCAqL1xyXG5cdFx0Y29uc3RydWN0b3I6IEJCUS5BY3RvcixcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbWl0cyBhY3RvcidzIGRlZmluZWQgc2lnbmFsLlxyXG5cdFx0ICogQWxsb3dzIG9wdGlvbmFsIGFyZ3VtZW50cyBhcHBseWluZyBmb3Igc2lnbmFsIGNhbGwuXHJcblx0XHQgKiBFeGFtcGxlOlxyXG5cdFx0ICpcdGFjdG9yLmVtaXQoJ2RhbWFnZScsIDEwKTtcclxuXHRcdCAqIFxyXG5cdFx0ICogU2lnbmFscyBjYWxsJ3MgKnRoaXMqIGNvbnRleHQgaXMgdGhlIGFjdG9yIGluc3RhbmNlLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbmFsIFNpZ25hbCBuYW1lIHRvIGVtaXQuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGVtaXRTaWduYWw6IGZ1bmN0aW9uKHNpZ25hbCkge1xyXG5cdFx0XHR2YXIgc2lnbmFscyA9IHRoaXMuc2lnbmFsc1tzaWduYWxdLFxyXG5cdFx0XHRcdHNsaWNlZEFyZ3VtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblx0XHRcdGlmKHR5cGVvZiBzaWduYWxzICE9PSAndW5kZWZpbmVkJyAmJiBzaWduYWxzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRzaWduYWxzLmZvckVhY2goZnVuY3Rpb24ocykge1xyXG5cdFx0XHRcdFx0cy5jYWxsYmFjay5hcHBseShzLmNvbnRleHQsIHNsaWNlZEFyZ3VtZW50cyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEJpbmRzIGFub3RoZXIgc2lnbmFsIGNhbGxiYWNrLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbmFsIFNpZ25hbCBuYW1lIGZvciBiaW5kLlxyXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgU2lnbmFsIGNhbGxiYWNrIHRvIGFwcGVuZC5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0YmluZFNpZ25hbDogZnVuY3Rpb24oc2lnbmFsLCBjYWxsYmFjaywgY29udGV4dCkge1xyXG5cdFx0XHR0aGlzLnNpZ25hbHNbc2lnbmFsXSA9IHRoaXMuc2lnbmFsc1tzaWduYWxdIHx8IFtdO1xyXG5cdFx0XHR0aGlzLnNpZ25hbHNbc2lnbmFsXS5wdXNoKHtcclxuXHRcdFx0XHRjYWxsYmFjazogY2FsbGJhY2ssXHJcblx0XHRcdFx0Y29udGV4dDogY29udGV4dCB8fCB0aGlzXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVW5iaW5kcyBzaWduYWwgY2FsbGJhY2suXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBzaWduYWwgU2lnbmFsIG5hbWUgdG8gdW5iaW5kLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3Rvcn0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHR1bmJpbmRTaWduYWw6IGZ1bmN0aW9uKHNpZ25hbCwgY2FsbGJhY2spIHtcclxuXHRcdFx0dmFyIHNpZ25hbHMgPSB0aGlzLnNpZ25hbHNbc2lnbmFsXSwgaW5kZXggPSAtMTtcclxuXHRcdFx0aWYodHlwZW9mIHNpZ25hbHMgIT09ICd1bmRlZmluZWQnICYmIHNpZ25hbHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdHRoaXMuc2lnbmFsc1tzaWduYWxdID0gc2lnbmFscy5maWx0ZXIoZnVuY3Rpb24ocykge1xyXG5cdFx0XHRcdFx0cmV0dXJuICEocy5jYWxsYmFjayA9PT0gY2FsbGJhY2spO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGVhcnMgYWxsIGJpbmRlZCBzaWduYWxzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbmFsIFNpZ25hbCBuYW1lIHRvIGNsZWFyLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3Rvcn0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRjbGVhclNpZ25hbDogZnVuY3Rpb24oc2lnbmFsKSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnNpZ25hbHNbc2lnbmFsXTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEVucXVldWVzIGV2ZW50IGludG8gZXZlbnRzIGFycmF5LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZSAoc2lnbmFsKS5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0ZW5xdWV1ZUV2ZW50OiBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHR0aGlzLmV2ZW50cy5wdXNoKHtcclxuXHRcdFx0XHRuYW1lOiBldmVudCxcclxuXHRcdFx0XHRhcmdzOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRGVxdWV1ZXMgZXZlbnQgZnJvbSBldmVudHMgYXJyYXkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtPYmplY3R8Qm9vbGVhbn0gRmlyc3QgZXZlbnQsIEZMQVNFIGlmIG5vIG1vcmUgZXZlbnRzIHJlbWFpbmluZy5cclxuXHRcdCAqL1xyXG5cdFx0ZGVxdWV1ZUV2ZW50OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYodGhpcy5ldmVudHMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGdldCBldmVudCBmcm9tIGJlZ2lubmluZ1xyXG5cdFx0XHR2YXIgZXZlbnQgPSB0aGlzLmV2ZW50c1swXTtcclxuXHRcdFx0Ly8gcmVtb3ZlIGV2ZW50IGZyb20gYmVnaW5uaWdcclxuXHRcdFx0dGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cy5zbGljZSgxKTtcclxuXHRcdFx0Ly90aGlzLmV2ZW50cy5zaGlmdCgpO1xyXG5cdFx0XHQvLyByZXR1cm4gdGhlIGNhdGNoZWQgZXZlbnRcclxuXHRcdFx0cmV0dXJuIGV2ZW50O1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbnJvbGwgcmVtYWluaW5nIGV2ZW50cy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhIEZyYW1lIGRlbHRhIHRpbWUuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0dmFyIGV2ZW50O1xyXG5cdFx0XHR3aGlsZSgoZXZlbnQgPSB0aGlzLmRlcXVldWVFdmVudCgpKSAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHQvLyBlbWl0cyBldmVudCBzaWduYWxcclxuXHRcdFx0XHR0aGlzLmVtaXRTaWduYWwuYXBwbHkodGhpcyxcclxuXHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW2V2ZW50Lm5hbWVdLCBldmVudC5hcmdzKVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogU2lnbiBhY3RvciB0byBkZXN0cm95LlxyXG5cdFx0ICovXHJcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQudG9EZWxldGUpIHtcclxuXHRcdFx0XHR0aGlzLnBhcmVudC50b0RlbGV0ZS5wdXNoKHRoaXMpO1xyXG5cdFx0XHRcdHRoaXMua2lsbGVkID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEJhc2ljIGFuaW1hdGVkIGFjdG9yLlxyXG5cdCAqL1xyXG5cdEJCUS5BbmltYXRlZEFjdG9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBpbmhlcml0ZWQgY3RvciBjYWxsXHJcblx0XHRCQlEuQWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLkFuaW1hdGVkQWN0b3IgYnkgQkJRLkFjdG9yIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLkFuaW1hdGVkQWN0b3IsIEJCUS5BY3Rvciwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBbmltYXRpb24gZnJhbWVzIHRvIHVzZS5cclxuXHRcdCAqL1xyXG5cdFx0YW5pbWF0aW9uczoge1xyXG5cdFx0XHRpZGxlOiB7XHJcblx0XHRcdFx0dGltZTogMSxcclxuXHRcdFx0XHRmcmFtZXM6IFswXVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEN1cnJlbnQgZnJhbWUgdGljay5cclxuXHRcdCAqL1xyXG5cdFx0ZnJhbWVUaWNrOiAwLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEN1cnJlbnQgZnJhbWUgaW5kZXguXHJcblx0XHQgKi9cclxuXHRcdGZyYW1lSW5kZXg6IDAsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ3VycmVudCBwbGF5aW5nIGFuaW1hdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0YW5pbWF0aW9uOiAnaWRsZScsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUGxheSBnaXZlbiBhbmltYXRpb24uXHJcblx0XHQgKi9cclxuXHRcdHBsYXk6IGZ1bmN0aW9uKGFuaW1hdGlvbiwgcmVzdGFydCkge1xyXG5cdFx0XHRpZihhbmltYXRpb24gPT09IHRoaXMuYW5pbWF0aW9uICYmICFyZXN0YXJ0KSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZXNldCBhbmltYXRpb24gZnJhbWUgY291bnRlcnNcclxuXHRcdFx0dGhpcy5mcmFtZVRpY2sgPSB0aGlzLmZyYW1lSW5kZXggPSAwO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gc2V0IGFuaW1hdGlvblxyXG5cdFx0XHR0aGlzLmFuaW1hdGlvbiA9IGFuaW1hdGlvbjtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGFuaW1hdGlvbiBzdGFydCBzaWduYWxcclxuXHRcdFx0dGhpcy5lbWl0U2lnbmFsKCdhbmltYXRpb25TdGFydCcsIHRoaXMuYW5pbWF0aW9uKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBhbmltYXRpb24gZnJhbWUuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gaW5oZXJpdGVkIHN1cGVyIG1ldGhvZCBjYWxsXHJcblx0XHRcdEJCUS5BY3Rvci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcywgZGVsdGEpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZmV0Y2ggZm9yIGFuaW1hdGlvblxyXG5cdFx0XHR2YXIgYW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb247XHJcblx0XHRcdGlmKHR5cGVvZiBhbmltYXRpb24gPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0YW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zW2FuaW1hdGlvbl07XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGFuaW1hdGlvbiByZXF1aXJlcyBhbmltYXRpb24gb2JqZWN0XHJcblx0XHRcdGlmKHR5cGVvZiBhbmltYXRpb24gIT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjb250aW51ZSBhbmltYXRpb24gZnJhbWVcclxuXHRcdFx0dGhpcy5mcmFtZVRpY2sgKz0gKGRlbHRhICogYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGgpIC8gYW5pbWF0aW9uLnRpbWU7XHJcblx0XHRcdGlmKHRoaXMuZnJhbWVUaWNrID49IGFuaW1hdGlvbi5mcmFtZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5mcmFtZVRpY2sgLT0gYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGg7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gYW5pbWF0aW9uIGVuZCBzaWduYWxcclxuXHRcdFx0XHR0aGlzLmVtaXRTaWduYWwoJ2FuaW1hdGlvbkVuZCcsIHRoaXMuYW5pbWF0aW9uKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBzZXQgbmV4dCBhbmltYXRpb25cclxuXHRcdFx0XHRpZihhbmltYXRpb24ubmV4dCkge1xyXG5cdFx0XHRcdFx0dGhpcy5wbGF5KGFuaW1hdGlvbi5uZXh0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGRldGVybWluZSBmcmFtZSBpbmRleFxyXG5cdFx0XHR0aGlzLmZyYW1lSW5kZXggPSBhbmltYXRpb24uZnJhbWVzW01hdGguZmxvb3IodGhpcy5mcmFtZVRpY2spXTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBCYXNpYyBjYW1lcmEgZm9yIHJlbmRlcmluZyBmcm9tIGNlbnRlcmVkIGF4aXMuXHJcblx0ICovXHJcblx0QkJRLkNhbWVyYSA9IGZ1bmN0aW9uKHJlbmRlcmVyKSB7XHJcblx0XHQvLyBpbmhlcml0ZWQgY3RvciBjYWxsXHJcblx0XHRQSVhJLkNvbnRhaW5lci5jYWxsKHRoaXMpO1xyXG5cdFx0XHJcblx0XHQvLyByZW5kZXJlciBzZXR1cFxyXG5cdFx0dGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBCQlEuQ2VudGVyZWRDb250YWluZXJcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuQ2FtZXJhLCBQSVhJLkNvbnRhaW5lciwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmUtcmVuZGVyIHVwZGF0ZSB0cmFuc2Zvcm0uXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBfY3ggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC8gMixcclxuXHRcdFx0XHRfY3kgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAvIDI7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjZW50ZXIgY2FtZXJhIHBvc2l0aW9uXHJcblx0XHRcdHRoaXMucG9zaXRpb24ueCArPSBfY3g7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSArPSBfY3k7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgdHJhbnNmb3Jtc1xyXG5cdFx0XHRQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZS1wb3NpdGlvbiBjZW50ZXJlZCBjYW1lcmFcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi54IC09IF9jeDtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi55IC09IF9jeTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBTdGF0ZSBjYW1lcmEgbWFuaXB1bGF0aW9uIGNsYXNzLlxyXG5cdCAqL1xyXG5cdEJCUS5Gb2xsb3dDYW1lcmEgPSBmdW5jdGlvbihyZW5kZXJlciwgeCwgeSkge1xyXG5cdFx0Ly8gaW5oZXJpdGVkIGN0b3IgY2FsbFxyXG5cdFx0QkJRLkNhbWVyYS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcclxuXHRcdFxyXG5cdFx0Ly8gc2V0dXAgcG9zaXRpb25cclxuXHRcdHRoaXMucG9zaXRpb24ueCA9IHggfHwgMDtcclxuXHRcdHRoaXMucG9zaXRpb24ueSA9IHkgfHwgMDtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLkNhbWVyYSBieSBCQlEuQ2FtZXJhIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLkZvbGxvd0NhbWVyYSwgQkJRLkNhbWVyYSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDYW1lcmEgZm9sbG93cyBnaXZlbiBhY3RvcnMgc2V0LlxyXG5cdFx0ICovXHJcblx0XHRmb2xsb3dlZDogW10sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIGFjdG9yIHRvIGZvbGxvdyBzZXQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvciBBY3RvciB1bmlxdWUgaW5zdGFuY2UgdG8gYWRkLlxyXG5cdFx0ICovXHJcblx0XHRmb2xsb3c6IGZ1bmN0aW9uKGFjdG9yKSB7XHJcblx0XHRcdGlmKHRoaXMuZm9sbG93ZWQuaW5kZXhPZihhY3RvcikgPT09IC0xKSB7XHJcblx0XHRcdFx0dGhpcy5mb2xsb3dlZC5wdXNoKGFjdG9yKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgYWN0b3IgZnJvbSBmb2xsb3cgc2V0LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gYWN0b3IgQWN0b3IgaW5zdGFuY2UgdG8gcmVtb3ZlLlxyXG5cdFx0ICovXHJcblx0XHR1bmZvbGxvdzogZnVuY3Rpb24oYWN0b3IpIHtcclxuXHRcdFx0dmFyIGluZGV4ID0gdGhpcy5mb2xsb3dlZC5pbmRleE9mKGFjdG9yKTtcclxuXHRcdFx0aWYoaW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0dGhpcy5mb2xsb3dlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBjYW1lcmEgcG9zaXRpb24uXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gZm9sbG93IGFjdG9yc1xyXG5cdFx0XHRpZih0aGlzLmZvbGxvd2VkLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQvLyBmb2xsb3cgY2FtZXJhIHRvIGFsbCBwbGF5ZXJzLlxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueCA9IHRoaXMuZ2V0Q2VudGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBjZW50ZXIgb2YgdGhlIGZvbGxvd2luZyBvYmplY3RzLlxyXG5cdFx0ICovXHJcblx0XHRnZXRDZW50ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBmb2xsb3cgYWN0b3JzXHJcblx0XHRcdGlmKHRoaXMuZm9sbG93ZWQubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vIGdldCBwb3NpdGlvbnMgb2YgYWxsIGFjdG9yc1xyXG5cdFx0XHRcdHZhciBfeCA9IDA7XHJcblx0XHRcdFx0Zm9yKHZhciBpIGluIHRoaXMuZm9sbG93ZWQpIHtcclxuXHRcdFx0XHRcdHZhciBhY3RvciA9IHRoaXMuZm9sbG93ZWRbaV07XHJcblx0XHRcdFx0XHRfeCAtPSBhY3Rvci5wb3NpdGlvbi54O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgY2VudGVyZWQgcG9zaXRpb24gb2YgYWN0b3JzXHJcblx0XHRcdFx0cmV0dXJuIF94IC8gdGhpcy5mb2xsb3dlZC5sZW5ndGg7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFsbG93cyBtYWtlIHBhcmFsbGF4IGJhY2tncm91bmRzLlxyXG5cdCAqL1xyXG5cdEJCUS5QYXJhbGxheEJhY2tncm91bmQgPSBmdW5jdGlvbihjYW1lcmEpIHtcclxuXHRcdC8vIGluaGVyaXRlZCBjdG9yIGNhbGxcclxuXHRcdFBJWEkuQ29udGFpbmVyLmNhbGwodGhpcyk7XHJcblx0XHRcclxuXHRcdC8vIHN0b3JlIGFzc2lnbmVkIGNhbWVyYVxyXG5cdFx0dGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5QYXJhbGxheEJhY2tncm91bmQgYnkgUElYSS5Db250YWluZXJcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuUGFyYWxsYXhCYWNrZ3JvdW5kLCBQSVhJLkNvbnRhaW5lciwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIG5ldyBwYXJhbGxheCBiYWNrZ3JvdW5kIGxheWVyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0ltYWdlfFN0cmluZ30gaW1hZ2UgSW1hZ2UgRE9NIGluc3RhbmNlIG9yIHRoZSBpbWFnZSBuYW1lLlxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29tbW9uIHBhcmFsbGF4IGJhY2tncm91bmQgb3B0aW9ucy5cclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdGFkZEJhY2tncm91bmQ6IGZ1bmN0aW9uKGltYWdlLCBvcHRpb25zKSB7XHJcblx0XHRcdG9wdGlvbnMgPSBCQlEuVXRpbHMuYXNzaWduKHtcclxuXHRcdFx0XHRodGlsZWQ6IHRydWUsXHJcblx0XHRcdFx0dnRpbGVkOiB0cnVlXHJcblx0XHRcdH0sIG9wdGlvbnMpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZmluZCBpbWFnZSBieSBuYW1lXHJcblx0XHRcdGlmKHR5cGVvZiBpbWFnZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRpbWFnZSA9IEdhbWUuYXBwLmltYWdlc1tpbWFnZV07XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNyZWF0ZSBiZyBpbnN0YW5jZVxyXG5cdFx0XHR2YXIgYmcgPSBuZXcgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlKFxyXG5cdFx0XHRcdEdhbWUuYXBwLnRleChpbWFnZSksXHJcblx0XHRcdFx0b3B0aW9ucy5odGlsZWQgPyB0aGlzLmNhbWVyYS5yZW5kZXJlci53aWR0aCA6IGltYWdlLndpZHRoLFxyXG5cdFx0XHRcdG9wdGlvbnMudnRpbGVkID8gdGhpcy5jYW1lcmEucmVuZGVyZXIuaGVpZ2h0IDogaW1hZ2UuaGVpZ2h0XHJcblx0XHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBwYXJhbGxheCBiYWNrZ3JvdW5kIHNldHRpbmdzXHJcblx0XHRcdGJnLnBhcmFsbGF4U2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IG5ldyBQSVhJLlBvaW50KDAsIDApO1xyXG5cdFx0XHRiZy5wYXJhbGxheE9mZnNldCA9IG9wdGlvbnMub2Zmc2V0IHx8IG5ldyBQSVhJLlBvaW50KDAsIDApO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdGlsaW5nIG9wdGlvbnNcclxuXHRcdFx0YmcuaHRpbGVkID0gb3B0aW9ucy5odGlsZWQ7XHJcblx0XHRcdGJnLnZ0aWxlZCA9IG9wdGlvbnMudnRpbGVkO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYXBwZW5kIGJhY2tncm91bmQgYXMgcGFyYWxsYXggbGF5ZXJcclxuXHRcdFx0cmV0dXJuIHRoaXMuYWRkQ2hpbGQoYmcpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0dXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHR2YXIgY2FtZXJhID0gdGhpcy5jYW1lcmE7XHJcblx0XHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihiZykge1xyXG5cdFx0XHRcdC8vIGgtdGlsZWRcclxuXHRcdFx0XHRpZihiZy5odGlsZWQpIHtcclxuXHRcdFx0XHRcdC8vIHJlc2l6ZSBiZ1xyXG5cdFx0XHRcdFx0Ymcud2lkdGggPSBjYW1lcmEucmVuZGVyZXIud2lkdGg7XHJcblx0XHRcdFx0XHQvLyBjZW50ZXItdXAgcGFyYWxsYXggYmFja2dyb3VuZFxyXG5cdFx0XHRcdFx0YmcudGlsZVBvc2l0aW9uLnggPSBiZy53aWR0aCAvIDIgLSBiZy50ZXh0dXJlLndpZHRoIC8gMjtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IGJnIG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi54ICs9IGJnLnBhcmFsbGF4T2Zmc2V0Lng7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBwYXJhbGxheCBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueCArPSBjYW1lcmEueCAqIGJnLnBhcmFsbGF4U2NhbGUueDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyByZS1wb3NpdGlvbiBiYWNrZ3JvdW5kIGJ5IG9mZnNldFxyXG5cdFx0XHRcdFx0YmcucG9zaXRpb24ueCA9IGJnLnBhcmFsbGF4T2Zmc2V0LnggLSBjYW1lcmEucmVuZGVyZXIud2lkdGggLyAyO1xyXG5cdFx0XHRcdFx0Ly8gYXBwbHkgcGFyYWxsYXggb2Zmc2V0c1xyXG5cdFx0XHRcdFx0YmcucG9zaXRpb24ueCArPSBjYW1lcmEueCAqIGJnLnBhcmFsbGF4U2NhbGUueDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gdi10aWxlZFxyXG5cdFx0XHRcdGlmKGJnLnZ0aWxlZCkge1xyXG5cdFx0XHRcdFx0Ly8gcmVzaXplIGJnXHJcblx0XHRcdFx0XHRiZy5oZWlnaHQgPSBjYW1lcmEucmVuZGVyZXIuaGVpZ2h0O1xyXG5cdFx0XHRcdFx0Ly8gY2VudGVyLXVwIHBhcmFsbGF4IGJhY2tncm91bmRcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi55ID0gYmcuaGVpZ2h0IC8gMiAtIGJnLnRleHR1cmUuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IGJnIG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi55ICs9IGJnLnBhcmFsbGF4T2Zmc2V0Lnk7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBwYXJhbGxheCBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueSArPSBjYW1lcmEueSAqIGJnLnBhcmFsbGF4U2NhbGUueTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyByZS1wb3NpdGlvbiBiYWNrZ3JvdW5kIGJ5IG9mZnNldFxyXG5cdFx0XHRcdFx0YmcucG9zaXRpb24ueSA9IGJnLnBhcmFsbGF4T2Zmc2V0LnkgKyBjYW1lcmEucmVuZGVyZXIuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IHBhcmFsbGF4IG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnBvc2l0aW9uLnkgKz0gY2FtZXJhLnkgKiBiZy5wYXJhbGxheFNjYWxlLnk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNvbW1vbiB0cmFuc2Zvcm0gdXBkYXRlXHJcblx0XHRcdFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBHYW1lIHN0YXRlIG1hbmlwdWxhdGluZyBjbGFzcy5cclxuXHQgKi9cclxuXHRCQlEuU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRhbmNlIGN0b3JcclxuXHRcdFBJWEkuQ29udGFpbmVyLmNhbGwodGhpcyk7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5TdGF0ZSBieSBQSVhJLkNvbnRhaW5lciBjbGFzc1xyXG5cdEJCUS5VdGlscy5leHRlbmRzKEJCUS5TdGF0ZSwgUElYSS5Db250YWluZXIsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGN0b3IuXHJcblx0XHQgKi9cclxuXHRcdGNvbnN0cnVjdG9yOiBCQlEuU3RhdGUsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZXMgc3RhdGUgc2NlbmUgYmVmb3JlIGZpcnN0IHVzZS5cclxuXHRcdCAqL1xyXG5cdFx0Y3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY2FtZXJhIGluc3RhbmNlXHJcblx0XHRcdHRoaXMuY2FtZXJhID0gbmV3IEJCUS5Gb2xsb3dDYW1lcmEodGhpcy5hcHAucmVuZGVyZXIpO1xyXG5cclxuXHRcdFx0Ly8gdGhlIGJhY2tncm91bmQgbGF5ZXJzXHJcblx0XHRcdHRoaXMuYmFja2dyb3VuZCA9IG5ldyBCQlEuUGFyYWxsYXhCYWNrZ3JvdW5kKHRoaXMuY2FtZXJhKTtcclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBjb21tb24gYWN0b3JzIGxheWVyXHJcblx0XHRcdHRoaXMuYWN0b3JzID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcblx0XHRcdHRoaXMuYWN0b3JzLnRvRGVsZXRlID0gW107IC8vIGRlbGV0ZSByZW1haW5pbmcgbGlzdFxyXG5cdFx0XHR0aGlzLmNhbWVyYS5hZGRDaGlsZCh0aGlzLmFjdG9ycyk7XHJcblxyXG5cdFx0XHQvLyB0aGUgZm9yZWdyb3VuZCBvYmplY3RzIGNvbnRhaW5lclxyXG5cdFx0XHR0aGlzLmZvcmVncm91bmQgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcblx0XHRcdC8vIGFkZCBsYXllcnMgYnkgcmlnaHQgb3JkZXJcclxuXHRcdFx0dGhpcy5hZGRDaGlsZCh0aGlzLmJhY2tncm91bmQpO1xyXG5cdFx0XHR0aGlzLmFkZENoaWxkKHRoaXMuY2FtZXJhKTtcclxuXHRcdFx0dGhpcy5hZGRDaGlsZCh0aGlzLmZvcmVncm91bmQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGZyYW1lIG9mIHN0YWdlIGxheWVycy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtGbG9hdH0gZGVsdGEgU3RhZ2UgdXBkYXRlIHRpbWUgdG8gYXBwbHkuXHJcblx0XHQgKi9cclxuXHRcdHN0ZXA6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIHBlcmZvcm0gYWN0b3JzIGRlbGV0aW5nXHJcblx0XHRcdHRoaXMuYWN0b3JzLnRvRGVsZXRlLmZvckVhY2goZnVuY3Rpb24oYWN0b3IpIHtcclxuXHRcdFx0XHRpZihhY3Rvcikge1xyXG5cdFx0XHRcdFx0YWN0b3IuZW1pdFNpZ25hbCgnZGVzdHJveScpO1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RvcnMucmVtb3ZlQ2hpbGQoYWN0b3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBzb3J0IGFjdG9ycyBkZXB0aFxyXG5cdFx0XHR0aGlzLmFjdG9ycy5jaGlsZHJlbi5zb3J0KHRoaXMuc29ydEFjdG9yc0Z1bmMpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcGVyZm9ybSB1cGRhdGUgYWN0b3JzIGxheWVyc1xyXG5cdFx0XHR0aGlzLnBlcmZvcm1MYXllcih0aGlzLmFjdG9ycywgJ3VwZGF0ZScsIGRlbHRhLCB0aGlzLmFwcCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgY2FtZXJhXHJcblx0XHRcdHRoaXMuY2FtZXJhLnVwZGF0ZShkZWx0YSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJlbmRlcnMgc3RhZ2Ugb250byBzY3JlZW4uXHJcblx0XHQgKi9cclxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIHJlbmRlcnMgc3RhZ2UgZ2FtZXBsYXlcclxuXHRcdFx0dGhpcy5hcHAucmVuZGVyZXIucmVuZGVyKHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhY3Rpb24gZm9yIHNpbmdsZSBsYXllciBhY3RvcnMuXHJcblx0XHQgKiBBbGxvd3Mgb3B0aW9uYWwgYXJndW1lbnRzIGFwcGx5aW5nIGZvciBhY3Rpb24gY2FsbC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gbGF5ZXIgQWN0b3JzIGxheWVyIGNvbnRhaW5lci5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuU3RhZ2V9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0cGVyZm9ybUxheWVyOiBmdW5jdGlvbihsYXllciwgYWN0aW9uKSB7XHJcblx0XHRcdHZhciBzbGljZWRBcmd1bWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG5cdFx0XHRsYXllci5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGFjdG9yKSB7XHJcblx0XHRcdFx0dmFyIGFjdG9yRnVuYyA9IGFjdG9yW2FjdGlvbl07XHJcblx0XHRcdFx0aWYodHlwZW9mIGFjdG9yRnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0YWN0b3JGdW5jLmFwcGx5KGFjdG9yLCBzbGljZWRBcmd1bWVudHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZW5lcmFsIGFjdG9ycyBzb3J0aW5nIGZ1bmN0aW9uLlxyXG5cdFx0ICogU29ydHMgYWN0b3JzIGRlcHRoIGJ5IFkgcG9zaXRpb24gcHJvcGVydHkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvcjEgTGVmdCBhY3Rvci5cclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvcjIgUmlnaHQgYWN0b3IuXHJcblx0XHQgKiBAcmV0dXJucyB7TnVtYmVyfSBDb21wYXJzaW9uIHJlc3VsdC5cclxuXHRcdCAqL1xyXG5cdFx0c29ydEFjdG9yc0Z1bmM6IGZ1bmN0aW9uKGFjdG9yMSwgYWN0b3IyKSB7XHJcblx0XHRcdGlmKGFjdG9yMS5wb3NpdGlvbi55IDwgYWN0b3IyLnBvc2l0aW9uLnkpIHtcclxuXHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZihhY3RvcjEucG9zaXRpb24ueSA+IGFjdG9yMi5wb3NpdGlvbi55KSB7XHJcblx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIDA7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxufSkod2luZG93LkJCUSA9IHdpbmRvdy5CQlEgfHwge30sIFBJWEkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9iYnEvYmJxLXN0YXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXHJcbiAqIGFjdG9ycy5qc1xyXG4gKiBcclxuICogR2FtZSBhbGwgYWN0b3JzLlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogR2FtZSBhY3RvcnMgb2JqZWN0cy5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBHYW1lIENvbW1vbiBwdWJsaWMgZ2FtZSBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7UElYSX0gUGl4aSBQSVhJIHJlbmRlcmluZyBlbmdpbmUgbmFtZXNwYWNlLlxyXG4gKi9cclxuKGZ1bmN0aW9uKEdhbWUsIEJCUSwgUElYSSkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEdhbWUgYWN0b3JzLlxyXG5cdCAqL1xyXG5cdEdhbWUuQWN0b3JzID0ge307XHJcblx0XHJcblx0LyoqXHJcblx0ICogRmlyc3Qgc3RhZ2UgLSBFdmlsIFRvd24uXHJcblx0ICovXHJcblx0R2FtZS5BY3RvcnMuQ2hhcmFjdGVyID0gQkJRLkNsYXNzKGZ1bmN0aW9uKGltYWdlKSB7XHJcblx0XHQvLyBpbmhlcml0ZWQgY3RvclxyXG5cdFx0QkJRLkFuaW1hdGVkQWN0b3IuY2FsbCh0aGlzKTtcclxuXHRcdFxyXG5cdFx0Ly8gZmluZCBpbWFnZSBieSBuYW1lXHJcblx0XHRpZih0eXBlb2YgaW1hZ2UgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGltYWdlID0gR2FtZS5hcHAuaW1hZ2VzW2ltYWdlXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gc2V0dXAgc2hhZG93IHRleHR1cmVcclxuXHRcdHRoaXMudGV4dHVyZSA9IEdhbWUuYXBwLnRleCgnc2hhZG93Jyk7XHJcblx0XHR0aGlzLmFuY2hvci54ID0gdGhpcy5hbmNob3IueSA9IDAuNTtcclxuXHRcdFxyXG5cdFx0Ly8gYWRkIGJvZHkgY2hpbGRcclxuXHRcdHRoaXMuYm9keSA9IG5ldyBQSVhJLlNwcml0ZShHYW1lLmFwcC50ZXgoaW1hZ2UsIGZhbHNlKSk7XHJcblx0XHR0aGlzLmJvZHkuYW5jaG9yLnggPSAwLjU7XHJcblx0XHR0aGlzLmJvZHkuYW5jaG9yLnkgPSAxO1xyXG5cdFx0Ly90aGlzLmJvZHkudGV4dHVyZS50cmltLndpZHRoID0gdGhpcy5mcmFtZVNpemUud2lkdGg7XHJcblx0XHQvL3RoaXMuYm9keS50ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGhpcy5mcmFtZVNpemUuaGVpZ2h0O1xyXG5cdFx0Ly90aGlzLmJvZHkudGV4dHVyZS50cmltID0gdGhpcy5mcmFtZVNpemUuY2xvbmUoKTtcclxuXHRcdC8vdGhpcy5ib2R5LnRleHR1cmUuY3JvcCA9IHRoaXMuZnJhbWVTaXplLmNsb25lKCk7XHJcblx0XHR0aGlzLmFkZENoaWxkKHRoaXMuYm9keSk7XHJcblx0XHRcclxuXHRcdC8vIGNhbGN1bGF0ZSB0ZXh0dXJlIGZyYW1lIHNpemVcclxuXHRcdHRoaXMuZnJhbWVTaXplID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDE2LCAyOCk7XHJcblx0XHRcclxuXHRcdC8vIHN0YXRlc1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHtcclxuXHRcdFx0bW92ZW1lbnQ6IG5ldyBQSVhJLlBvaW50KClcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8vIG1vdmVtZW50IHZlbG9jaXR5XHJcblx0XHR0aGlzLnZlbG9jaXR5ID0gbmV3IFBJWEkuUG9pbnQoKTtcclxuXHRcdFxyXG5cdFx0Ly8gY29sbGlzaW9uIGJvdW5kaW5nIGJveFxyXG5cdFx0dGhpcy5iYm94ID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDE2LCA4KTtcclxuXHRcdHRoaXMuaGl0QmJveCA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCA0LCAxMCk7XHJcblx0XHRcclxuXHRcdC8vIGNoYXJhY3RlciBiYXNpYyBzdGF0ZXNcclxuXHRcdHRoaXMuaGVhbHRoID0gMTAwO1xyXG5cdFx0dGhpcy5zdHJlbmd0aCA9IHtcclxuXHRcdFx0cHVuY2g6IDEwLFxyXG5cdFx0XHRraWNrOiAxNVxyXG5cdFx0fTtcclxuXHRcdHRoaXMuc3BlZWQgPSB7XHJcblx0XHRcdHdhbGs6IDM1LFxyXG5cdFx0XHRqdW1wOiA1MCxcclxuXHRcdFx0aGl0OiAtNTAsXHJcblx0XHRcdHB1bmNoOiAyMCxcclxuXHRcdFx0a2ljazogMTBcclxuXHRcdH07XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhCQlEuQW5pbWF0ZWRBY3RvcilcclxuXHQucHJvcGVydGllcyh7XHJcblx0XHQvKipcclxuXHRcdCAqIEZyYW1lIHNpemUgYXMgUElYSS5SZWN0YW5nbGVcclxuXHRcdCAqL1xyXG5cdFx0ZnJhbWVTaXplOiB7XHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuYm9keS50ZXh0dXJlLmNyb3A7XHJcblx0XHRcdH0sXHJcblx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHR0aGlzLmJvZHkudGV4dHVyZS50cmltID0gdmFsdWUuY2xvbmUoKTtcclxuXHRcdFx0XHR0aGlzLmJvZHkudGV4dHVyZS5jcm9wID0gdmFsdWUuY2xvbmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQW5pbWF0aW9ucyBmcmFtZXMgdG8gdXNlLlxyXG5cdFx0ICovXHJcblx0XHRhbmltYXRpb25zOiB7XHJcblx0XHRcdGlkbGU6IHtcclxuXHRcdFx0XHR0aW1lOiAxLFxyXG5cdFx0XHRcdGZyYW1lczogWzBdXHJcblx0XHRcdH0sXHJcblx0XHRcdHdhbGs6IHtcclxuXHRcdFx0XHR0aW1lOiAwLjQyLFxyXG5cdFx0XHRcdGZyYW1lczogWzAsIDEsIDAsIDJdXHJcblx0XHRcdH0sXHJcblx0XHRcdGp1bXA6IHtcclxuXHRcdFx0XHR0aW1lOiAuNSxcclxuXHRcdFx0XHRmcmFtZXM6IFszLCA0XSxcclxuXHRcdFx0XHRuZXh0OiAnaWRsZSdcclxuXHRcdFx0fSxcclxuXHRcdFx0aGl0OiB7XHJcblx0XHRcdFx0dGltZTogLjM1LFxyXG5cdFx0XHRcdGZyYW1lczogWzVdLFxyXG5cdFx0XHRcdG5leHQ6ICdpZGxlJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRwdW5jaDogeyAvLyBhdHRhY2sgYW5pbWF0aW9uXHJcblx0XHRcdFx0dGltZTogLjMsXHJcblx0XHRcdFx0ZnJhbWVzOiBbNiw3LDgsOCw4XSxcclxuXHRcdFx0XHRuZXh0OiAnaWRsZSdcclxuXHRcdFx0fSxcclxuXHRcdFx0a2ljazogeyAvLyBhdHRhY2sgYW5pbWF0aW9uXHJcblx0XHRcdFx0dGltZTogLjQsXHJcblx0XHRcdFx0ZnJhbWVzOiBbOSwxMCwxMSwxMSwxMV0sXHJcblx0XHRcdFx0bmV4dDogJ2lkbGUnXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIGNoYXJhY3RlciBzdGF0ZXMuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gaW5oZXJpdGVkIHN1cGVyIG1ldGhvZCBjYWxsXHJcblx0XHRcdEJCUS5BbmltYXRlZEFjdG9yLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLCBkZWx0YSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgYW5pbWF0aW9uIGZyYW1lXHJcblx0XHRcdHRoaXMudXBkYXRlQW5pbUZyYW1lKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBqdW1wL2hpdC9raWNrIGFuaW1hdGlvbiBoZWlnaHRcclxuXHRcdFx0aWYodGhpcy5hbmltYXRpb24gPT09ICdqdW1wJykge1xyXG5cdFx0XHRcdHRoaXMuYm9keS55ID0gLU1hdGguc2luKCh0aGlzLmZyYW1lVGljay8yKSAqIE1hdGguUEkpICogMTY7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZih0aGlzLmFuaW1hdGlvbiA9PT0gJ2hpdCcpIHtcclxuXHRcdFx0XHR0aGlzLmJvZHkueSA9IC1NYXRoLnNpbigodGhpcy5mcmFtZVRpY2spICogTWF0aC5QSSkgKiA4O1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYodGhpcy5hbmltYXRpb24gPT09ICdraWNrJykge1xyXG5cdFx0XHRcdHRoaXMuYm9keS55ID0gLU1hdGguc2luKCh0aGlzLmZyYW1lVGljay81KSAqIE1hdGguUEkpICogODtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdXBkYXRlIHN0YXRlXHJcblx0XHRcdGlmKHR5cGVvZiB0aGlzLnVwZGF0ZVN0YXRlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVTdGF0ZShkZWx0YSk7IC8vIGV4ZWMgb25seSBpZiBleGlzdHNcdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgcGh5c2ljc1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVBoeXNpY3MoZGVsdGEpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGFuaW1hdGlvbiBmcmFtZSBieSB0ZXh0dXJlIGNyb3BwaW5nLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVBbmltRnJhbWU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBjcm9wIHRleHR1cmUgYnkgZnJhbWUgaW5kZXhcclxuXHRcdFx0dGhpcy5ib2R5LnRleHR1cmUuY3JvcC54ID0gTWF0aC5mbG9vcih0aGlzLmZyYW1lSW5kZXggJSAzKSAqIHRoaXMuZnJhbWVTaXplLndpZHRoO1xyXG5cdFx0XHR0aGlzLmJvZHkudGV4dHVyZS5jcm9wLnkgPSBNYXRoLmZsb29yKHRoaXMuZnJhbWVJbmRleCAvIDMpICogdGhpcy5mcmFtZVNpemUuaGVpZ2h0O1xyXG5cdFx0XHR0aGlzLmJvZHkudGV4dHVyZS5fdXBkYXRlVXZzKCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgY2hhcmFjdGVyIHBoeXNpYy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlUGh5c2ljczogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0dGhpcy5zdGF0ZS53YWxraW5nID0gdGhpcy5hbmltYXRpb24gPT09ICdpZGxlJyB8fCB0aGlzLmFuaW1hdGlvbiA9PT0gJ3dhbGsnO1xyXG5cdFx0XHR0aGlzLnN0YXRlLmp1bXBpbmcgPSB0aGlzLmFuaW1hdGlvbiA9PT0gJ2p1bXAnO1xyXG5cdFx0XHR0aGlzLnN0YXRlLmhpdHRlZCA9IHRoaXMuYW5pbWF0aW9uID09PSAnaGl0JztcclxuXHRcdFx0dGhpcy5zdGF0ZS5hdHRhY2tpbmcgPSB0aGlzLmFuaW1hdGlvbiA9PT0gJ3B1bmNoJyB8fCB0aGlzLmFuaW1hdGlvbiA9PT0gJ2tpY2snO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZnJlZSBtb3ZlbWVudCAodW5sb2NrZWQpXHJcblx0XHRcdGlmKHRoaXMuc3RhdGUud2Fsa2luZykge1xyXG5cdFx0XHRcdHRoaXMudmVsb2NpdHkgPSB0aGlzLnN0YXRlLm1vdmVtZW50LmNsb25lKCkubm9ybWFsaXplKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gcGxheSBhbmltYXRpb25cclxuXHRcdFx0XHRpZih0aGlzLnZlbG9jaXR5LnggfHwgdGhpcy52ZWxvY2l0eS55KSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXkoJ3dhbGsnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXkoJ2lkbGUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGF0dGFja2luZyBvciBoaXR0ZWQgbW92ZW1lbnRcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS5hdHRhY2tpbmcgfHwgdGhpcy5zdGF0ZS5oaXR0ZWQpIHtcclxuXHRcdFx0XHR0aGlzLnZlbG9jaXR5LnNldCh0aGlzLnNjYWxlLngsIDApLm5vcm1hbGl6ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhdHRhY2tpbmcgY29sbGlzaW9uIGluZm9ybWVyXHJcblx0XHRcdGlmKHRoaXMuc3RhdGUuYXR0YWNraW5nICYmIHRoaXMuZnJhbWVUaWNrID4gMikge1xyXG5cdFx0XHRcdHZhciBhY3RvciA9IHRoaXMuZ2V0QWN0b3JIaXRDb2xsaXNpb24odGhpcy5zY2FsZS54KjIsIDApO1xyXG5cdFx0XHRcdGlmKGFjdG9yICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0YWN0b3IuZW1pdFNpZ25hbCgnaGl0JywgdGhpcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgcG9zaXRpb25cclxuXHRcdFx0dmFyIHNwZWVkID0gdGhpcy5nZXRDdXJyZW50U3BlZWQoKTtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi54ICs9IHRoaXMudmVsb2NpdHkueCAqIHNwZWVkICogZGVsdGE7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSA9IE1hdGgubWluKDcwLCBNYXRoLm1heCgwLFxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueSArIHRoaXMudmVsb2NpdHkueSAqIHNwZWVkICogZGVsdGFcclxuXHRcdFx0KSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgd29ybGQgYm91bmRpbmcgYm94LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9XHJcblx0XHQgKi9cclxuXHRcdGdldFdvcmxkQkJveDogZnVuY3Rpb24oeCwgeSkge1xyXG5cdFx0XHR2YXIgX2N4ID0gdGhpcy5iYm94LndpZHRoIC8gMixcclxuXHRcdFx0XHRfY3kgPSB0aGlzLmJib3guaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiBuZXcgUElYSS5SZWN0YW5nbGUoXHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbi54IC0gX2N4ICsgdGhpcy5iYm94LnggKyAoeCB8fCAwKSxcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnkgLSBfY3kgKyB0aGlzLmJib3gueSArICh5IHx8IDApLFxyXG5cdFx0XHRcdHRoaXMuYmJveC53aWR0aCxcclxuXHRcdFx0XHR0aGlzLmJib3guaGVpZ2h0XHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgd29ybGQgYm91bmRpbmcgYm94LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9XHJcblx0XHQgKi9cclxuXHRcdGdldFdvcmxkSGl0QkJveDogZnVuY3Rpb24oeCwgeSkge1xyXG5cdFx0XHR2YXIgX2N4ID0gdGhpcy5oaXRCYm94LndpZHRoIC8gMixcclxuXHRcdFx0XHRfY3kgPSB0aGlzLmhpdEJib3guaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiBuZXcgUElYSS5SZWN0YW5nbGUoXHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbi54IC0gX2N4ICsgdGhpcy5oaXRCYm94LnggKyAoeCB8fCAwKSxcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnkgLSBfY3kgKyB0aGlzLmhpdEJib3gueSArICh5IHx8IDApLFxyXG5cdFx0XHRcdHRoaXMuaGl0QmJveC53aWR0aCxcclxuXHRcdFx0XHR0aGlzLmhpdEJib3guaGVpZ2h0XHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgY29sbGlzaW9uIHdpdGggYWN0b3IuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFNoaWZ0IGFhYmIueCBjb29yZCBieSBnaXZlbiB2YWx1ZS5cclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFNoaWZ0IGFhYmIueSBjb29yZCBieSBnaXZlbiB2YWx1ZS5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J8Qm9vbGVhbn0gQ29sbGlkZWQgYWN0b3Igb3IgRkFMU0UuXHJcblx0XHQgKi9cclxuXHRcdGdldEFjdG9ySGl0Q29sbGlzaW9uOiBmdW5jdGlvbih4LCB5KSB7XHJcblx0XHRcdHZhciBfYmJveCA9IHRoaXMuZ2V0V29ybGRIaXRCQm94KHgsIHkpLFxyXG5cdFx0XHRcdGFjdG9ycyA9IEdhbWUuYXBwLnN0YXRlLmFjdG9ycy5jaGlsZHJlbixcclxuXHRcdFx0XHRhY3RvcjtcclxuXHRcdFx0XHJcblx0XHRcdGZvcih2YXIgYWluZCBpbiBhY3RvcnMpIHtcclxuXHRcdFx0XHRhY3RvciA9IGFjdG9yc1thaW5kXTtcclxuXHRcdFx0XHRpZihhY3RvciA9PT0gdGhpcykge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBhY3Rvci5iYm94ICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdFx0aWYoYWN0b3IuZ2V0V29ybGRCQm94KCkuaW50ZXJzZWN0cyhfYmJveCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGFjdG9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxjdWxhdGVzIGN1cnJlbnQgY2hhcmFjdGVyIHNwZWVkIGJ5IGFjdHVhbCBhbmltYXRpb24uXHJcblx0XHQgKiBEaWZmZXJlbnQgc3BlZWQgYXJlIGVhY2ggc3RhdGVzIGkuZS4gZ3JvdW5kL2FpciBzcGVlZC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge051bWJlcn0gU3BlZWRcclxuXHRcdCAqL1xyXG5cdFx0Z2V0Q3VycmVudFNwZWVkOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuc3BlZWRbdGhpcy5hbmltYXRpb25dIHx8IDA7XHJcblx0XHR9XHJcblx0fSlcclxuXHQuZmluYWwoKTtcclxuXHRcclxuXHQvLyBQcmVsb2FkIGFzc2V0c1xyXG5cdEdhbWUuQWN0b3JzLkNoYXJhY3Rlci5wcmVsb2FkID0gZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRhcHAubG9hZEltYWdlcygnc2hhZG93Jyk7XHJcblx0fTtcclxuXHRcclxuXHRcclxuXHQvKipcclxuXHQgKiBQbGF5ZXIgYWN0b3IuXHJcblx0ICovXHJcblx0R2FtZS5BY3RvcnMuUGxheWVyID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gaW5oZXJpdGUgY3RvciBjYWxsXHJcblx0XHRHYW1lLkFjdG9ycy5DaGFyYWN0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFxyXG5cdFx0Ly8gaW5wdXQgZXZlbnRzIGhvbGRlclxyXG5cdFx0dGhpcy5pbnB1dCA9IHt9O1xyXG5cdFx0XHJcblx0XHQvLyBpbnB1dCBrZXltYXBwaW5nXHJcblx0XHR0aGlzLmtleW1hcCA9IHtcclxuXHRcdFx0cmlnaHQ6ICdyaWdodCcsXHJcblx0XHRcdGxlZnQ6ICdsZWZ0JyxcclxuXHRcdFx0dXA6ICd1cCcsXHJcblx0XHRcdGRvd246ICdkb3duJyxcclxuXHRcdFx0XHJcblx0XHRcdHB1bmNoOiAncCcsXHJcblx0XHRcdGtpY2s6ICdvJyxcclxuXHRcdFx0anVtcDogJ2wnXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvLyBiaW5kIGV2ZW50cyBzaWduYWxzXHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2tleWRvd24nLCB0aGlzLm9uS2V5RXZlbnQpO1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCdrZXl1cCcsIHRoaXMub25LZXlFdmVudCk7XHJcblx0XHRcclxuXHRcdC8vIGJpbmRzIGNvbW1vbiBzaWduYWxzXHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2hpdCcsIHRoaXMub25IaXQpO1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCdkZXN0cm95JywgdGhpcy5vbkRlc3Ryb3kpO1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoR2FtZS5BY3RvcnMuQ2hhcmFjdGVyKVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBwbGF5ZXIgbW92ZW1lbnQgc3RhdGUuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVN0YXRlOiBmdW5jdGlvbiAoZGVsdGEpIHtcclxuXHRcdFx0Ly8gY2xlYXIgbW92ZW1lbnQgc3RhdGVcclxuXHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC5zZXQoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGhhbmRsZSBvbi1ncm91bmQgc3RhdGVcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS53YWxraW5nKSB7XHJcblx0XHRcdFx0Ly8gaGFuZGxlIGF0dGFja2luZyBpbnB1dHNcclxuXHRcdFx0XHRpZih0aGlzLmlucHV0LmF0dGFjaykge1xyXG5cdFx0XHRcdFx0dGhpcy5wbGF5KHRoaXMuaW5wdXQuYXR0YWNrKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gaGFuZGxlIGp1bXBpbmcgaW5wdXRcclxuXHRcdFx0XHRlbHNlIGlmKHRoaXMuaW5wdXQuanVtcCkge1xyXG5cdFx0XHRcdFx0dGhpcy5wbGF5KCdqdW1wJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gaGFuZGxlIGlucHV0cyBmb3IgaG9yaXpvbnRhbCBtb3ZlbWVudFxyXG5cdFx0XHRcdFx0aWYodGhpcy5pbnB1dC5yaWdodCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnggPSAxO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNjYWxlLnggPSAxO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZih0aGlzLmlucHV0LmxlZnQpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC54ID0gLTE7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2NhbGUueCA9IC0xO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGhhbmRsZSBpbnB1dHMgZm9yIHZlcnRpY2FsIG1vdmVtZW50XHJcblx0XHRcdFx0XHRpZih0aGlzLmlucHV0LmRvd24pIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC55ID0gMTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYodGhpcy5pbnB1dC51cCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnkgPSAtMTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNsZWFyIHN0YXRlc1xyXG5cdFx0XHR0aGlzLmlucHV0LmF0dGFjayA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmlucHV0Lmp1bXAgPSBmYWxzZTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogT3ZlcnJpZGVzIGJ5IGFwcGx5aW5nIHNjZW5lIGJvdW5kaW5ncy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlUGh5c2ljczogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0R2FtZS5BY3RvcnMuQ2hhcmFjdGVyLnByb3RvdHlwZS51cGRhdGVQaHlzaWNzLmNhbGwodGhpcywgZGVsdGEpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gbWFrZSBzY2VuZSBib3VuZHNcclxuXHRcdFx0Ly90aGlzLnBvc2l0aW9uLnggPSBNYXRoLm1heCgtMjUwLCBNYXRoLm1pbigyNTAsIHRoaXMucG9zaXRpb24ueCkpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGUga2V5Ym9hcmQgZXZlbnQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7dHlwZX0gZVxyXG5cdFx0ICogQHBhcmFtIHt0eXBlfSBkb3duXHJcblx0XHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG5cdFx0ICovXHJcblx0XHRvbktleUV2ZW50OiBmdW5jdGlvbihrZXksIGRvd24pIHtcclxuXHRcdFx0Ly8gbW92ZW1lbnQga2V5c1xyXG5cdFx0XHRpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5yaWdodCkge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQucmlnaHQgPSBkb3duO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGtleSA9PT0gdGhpcy5rZXltYXAubGVmdCkge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQubGVmdCA9IGRvd247XHJcblx0XHRcdH0gZWxzZSBpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5kb3duKSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5kb3duID0gZG93bjtcclxuXHRcdFx0fSBlbHNlIGlmIChrZXkgPT09IHRoaXMua2V5bWFwLnVwKSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC51cCA9IGRvd247XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChrZXkgPT09IHRoaXMua2V5bWFwLnB1bmNoICYmIGRvd24pIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmF0dGFjayA9ICdwdW5jaCc7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5raWNrICYmIGRvd24pIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmF0dGFjayA9ICdraWNrJztcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGtleSA9PT0gdGhpcy5rZXltYXAuanVtcCAmJiBkb3duKSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5qdW1wID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGUgYW4gaGl0IHNpZ25hbC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IG90aGVyXHJcblx0XHQgKi9cclxuXHRcdG9uSGl0OiBmdW5jdGlvbihvdGhlcikge1xyXG5cdFx0XHRpZighIHRoaXMuc3RhdGUuaGl0dGVkICYmICEgdGhpcy5zdGF0ZS5qdW1waW5nKSB7XHJcblx0XHRcdFx0dGhpcy5zY2FsZS54ID0gLW90aGVyLnNjYWxlLng7XHJcblx0XHRcdFx0dGhpcy5oZWFsdGggLT0gb3RoZXIuc3RyZW5ndGhbb3RoZXIuYW5pbWF0aW9uXSB8fCAxMDtcclxuXHRcdFx0XHR0aGlzLnBsYXkoJ2hpdCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmKHRoaXMuaGVhbHRoIDwgMCkge1xyXG5cdFx0XHRcdFx0R2FtZS5hcHAuc3RhdGUucGxheWVyS2lsbGVkKHRoaXMpO1xyXG5cdFx0XHRcdFx0dGhpcy5kZXN0cm95KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE9uLWRlc3Ryb3kgZXZlbnQgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0b25EZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0R2FtZS5hcHAuc3RhdGUuY2FtZXJhLnVuZm9sbG93KHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8vIFByZWxvYWQgYXNzZXRzXHJcblx0R2FtZS5BY3RvcnMuUGxheWVyLnByZWxvYWQgPSBmdW5jdGlvbihhcHApIHtcclxuXHRcdGFwcC5sb2FkSW1hZ2VzKCdmYXRndXknLCAnaW5kaWNhdG9yJyk7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBQbGF5ZXIgd2l0aCB0b3VjaC1zY3JlZW4gdXNlYWJpbGl0eS5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycy5QbGF5ZXJUb3VjaFNjcmVlbiA9IEJCUS5DbGFzcyhmdW5jdGlvbigpIHtcclxuXHRcdEdhbWUuQWN0b3JzLlBsYXllci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHJcblx0XHQvLyB0b3VjaCBldmVudCBob2xkZXJcclxuXHRcdHRoaXMudG91Y2ggPSB7fTtcclxuXHRcdFxyXG5cdFx0Ly8gYmluZCB0b3VjaC1zY3JlZW4gZXZlbnRzXHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydCk7XHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUpO1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCk7XHJcblx0XHRcclxuXHRcdC8vIGJpbmQgY29tbW9uIGV2ZW50c1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCdkZXN0cm95JywgdGhpcy5kZXN0cm95SW5kaWNhdG9yKTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKEdhbWUuQWN0b3JzLlBsYXllcilcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBPbi10b3VjaCBpbmZvcm1hdGlvbnMgaGFuZGxlci5cclxuXHRcdCAqIFNpbXVsYXRlcyBjb21tb24gaW5wdXQgZXZlbnRzLlxyXG5cdFx0ICovXHJcblx0XHRvblRvdWNoU3RhcnQ6IGZ1bmN0aW9uKGlkLCB4LCB5KSB7XHJcblx0XHRcdHZhciBfc2NyaHcgPSBHYW1lLmFwcC5yZW5kZXJlci53aWR0aCAvIDIsXHJcblx0XHRcdFx0X3NjcmhoID0gR2FtZS5hcHAucmVuZGVyZXIuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHJcblx0XHRcdC8vIG1vdmVtZW50XHJcblx0XHRcdGlmKHggPCBfc2NyaHcpIHtcclxuXHRcdFx0XHRpZighdGhpcy50b3VjaC5tb3ZlKSB7XHJcblx0XHRcdFx0XHR0aGlzLnRvdWNoLm1vdmUgPSB7XHJcblx0XHRcdFx0XHRcdGlkOiBpZCxcclxuXHRcdFx0XHRcdFx0eDogeCxcclxuXHRcdFx0XHRcdFx0eTogeVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIGNyZWF0ZSBpbmRpY2F0b3JcclxuXHRcdFx0XHRcdHRoaXMuaW5kaWNhdG9yID0gbmV3IFBJWEkuU3ByaXRlKEdhbWUuYXBwLnRleCgnaW5kaWNhdG9yJykpO1xyXG5cdFx0XHRcdFx0dGhpcy5pbmRpY2F0b3IuYW5jaG9yID0gbmV3IFBJWEkuUG9pbnQoMC41LCAwLjUpO1xyXG5cdFx0XHRcdFx0dGhpcy5pbmRpY2F0b3IucG9zaXRpb24ueCA9IHg7XHJcblx0XHRcdFx0XHR0aGlzLmluZGljYXRvci5wb3NpdGlvbi55ID0geTtcclxuXHJcblx0XHRcdFx0XHRHYW1lLmFwcC5zdGF0ZS5mb3JlZ3JvdW5kLmFkZENoaWxkKHRoaXMuaW5kaWNhdG9yKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8ganVtcCAmIGF0dGFja1xyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRpZih5IDwgX3NjcmhoKSB7XHJcblx0XHRcdFx0XHR0aGlzLmlucHV0Lmp1bXAgPSB0cnVlO1x0XHRcdFx0XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZih4IDwgX3Njcmh3ICsgX3Njcmh3IC8gMikge1xyXG5cdFx0XHRcdFx0dGhpcy5pbnB1dC5hdHRhY2sgPSAna2ljayc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5pbnB1dC5hdHRhY2sgPSAncHVuY2gnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBPbi10b3VjaCBpbmZvcm1hdGlvbnMgaGFuZGxlci5cclxuXHRcdCAqIFNpbXVsYXRlcyBjb21tb24gaW5wdXQgZXZlbnRzLlxyXG5cdFx0ICovXHJcblx0XHRvblRvdWNoTW92ZTogZnVuY3Rpb24oaWQsIHgsIHkpIHtcclxuXHRcdFx0aWYodGhpcy50b3VjaC5tb3ZlICYmIHRoaXMudG91Y2gubW92ZS5pZCA9PT0gaWQpIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnJpZ2h0ID0geCAtIHRoaXMudG91Y2gubW92ZS54ID4gMTA7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5sZWZ0ICA9IHggLSB0aGlzLnRvdWNoLm1vdmUueCA8IC0xMDtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmRvd24gID0geSAtIHRoaXMudG91Y2gubW92ZS55ID4gMTA7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC51cCAgICA9IHkgLSB0aGlzLnRvdWNoLm1vdmUueSA8IC0xMDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBPbi10b3VjaCBpbmZvcm1hdGlvbnMgaGFuZGxlci5cclxuXHRcdCAqIFNpbXVsYXRlcyBjb21tb24gaW5wdXQgZXZlbnRzLlxyXG5cdFx0ICovXHJcblx0XHRvblRvdWNoRW5kOiBmdW5jdGlvbihpZCwgeCwgeSkge1xyXG5cdFx0XHRpZih0aGlzLnRvdWNoLm1vdmUgJiYgdGhpcy50b3VjaC5tb3ZlLmlkID09PSBpZCkge1xyXG5cdFx0XHRcdHRoaXMudG91Y2gubW92ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQucmlnaHQgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmxlZnQgID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5kb3duICA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQudXAgICAgPSBmYWxzZTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyByZW1vdmUgaW5kaWNhdG9yXHJcblx0XHRcdFx0dGhpcy5kZXN0cm95SW5kaWNhdG9yKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmVtb3ZlcyBpbmRpY2F0b3IgaWYgZXhpc3RzLlxyXG5cdFx0ICovXHJcblx0XHRkZXN0cm95SW5kaWNhdG9yOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYodGhpcy5pbmRpY2F0b3IpIHtcclxuXHRcdFx0XHRHYW1lLmFwcC5zdGF0ZS5mb3JlZ3JvdW5kLnJlbW92ZUNoaWxkKHRoaXMuaW5kaWNhdG9yKTtcclxuXHRcdFx0XHR0aGlzLmluZGljYXRvciA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0XHJcblx0LyoqXHJcblx0ICogRW5lbXkgYWN0b3IuXHJcblx0ICovXHJcblx0R2FtZS5BY3RvcnMuRW5lbXkgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBpbmhlcml0ZSBjdG9yIGNhbGxcclxuXHRcdEdhbWUuQWN0b3JzLkNoYXJhY3Rlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHJcblx0XHQvLyBiaW5kIGFkZGl0aW9uYWwgc2lnbmFsc1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCdoaXQnLCB0aGlzLm9uSGl0KTtcclxuXHRcdFxyXG5cdFx0Ly8gZm9sbG93aW5nIHBsYXllciBvYmplY3RcclxuXHRcdHRoaXMuZm9sbG93ID0gZmFsc2U7XHJcblx0XHR0aGlzLnRpY2sgPSAwO1xyXG5cdFx0XHJcblx0XHQvLyBlbmVteSBiYXNpYyBzdGF0ZXNcclxuXHRcdHRoaXMuaGVhbHRoID0gNTA7XHJcblx0XHR0aGlzLnNwZWVkID0ge1xyXG5cdFx0XHR3YWxrOiAyNSxcclxuXHRcdFx0anVtcDogNDAsXHJcblx0XHRcdGhpdDogLTUwLFxyXG5cdFx0XHRwdW5jaDogMjAsXHJcblx0XHRcdGtpY2s6IDEwXHJcblx0XHR9O1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoR2FtZS5BY3RvcnMuQ2hhcmFjdGVyKVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBlbmVteSBtb3ZlbWVudCBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlU3RhdGU6IGZ1bmN0aW9uIChkZWx0YSkge1xyXG5cdFx0XHRpZih0aGlzLnN0YXRlLndhbGtpbmcpIHtcclxuXHRcdFx0XHQvLyBmaW5kIG5lYXJlc3QgcGxheWVyXHJcblx0XHRcdFx0dmFyIHBsYXllciA9IHRoaXMuZmluZE5lYXJlc3RQbGF5ZXIoKTtcclxuXHJcblx0XHRcdFx0Ly8gcGxheWVyIGZvdW5kXHJcblx0XHRcdFx0aWYocGxheWVyICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0Ly8gY2xlYXIgbW92ZW1lbnQgc3RhdGVcclxuXHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQuc2V0KCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIG1vdmVtZW50XHJcblx0XHRcdFx0XHRpZih0aGlzLmRpc3RhbmNlVG8ocGxheWVyKSA+IDEwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubW92ZVRvKHBsYXllcik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIGlmKHRoaXMudGljay0tIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbGF5KE1hdGgucmFuZG9tKCkgPCAwLjc1ID8gJ3B1bmNoJyA6ICdraWNrJyk7XHJcblx0XHRcdFx0XHRcdHRoaXMudGljayA9IDUgKyAxMCAqIE1hdGgucmFuZG9tKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gZmFjZSBkaXJlY3Rpb25cclxuXHRcdFx0XHRcdHRoaXMuc2NhbGUueCA9IHRoaXMucG9zaXRpb24ueCA+IHBsYXllci5wb3NpdGlvbi54ID8gLTEgOiAxO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIG5lYXJlc3QgcGxheWVyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfEJvb2xlYW59IE5lYXJlc3QgcGxheWVyIG9yIEZBTFNFLlxyXG5cdFx0ICovXHJcblx0XHRmaW5kTmVhcmVzdFBsYXllcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBwbGF5ZXJzID0gR2FtZS5hcHAuc3RhdGUucGxheWVycyxcclxuXHRcdFx0XHRjdXJyZW50RGlzdGFuY2UgPSAxMDAwMDtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlc2V0IGZvbGxvd2luZyBzdGF0ZVxyXG5cdFx0XHQvL3RoaXMuZm9sbG93ID0gZmFsc2U7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBmaW5kIG5lYXJlc3QgcGxheWVyXHJcblx0XHRcdGZvcih2YXIgcGluZCBpbiBwbGF5ZXJzKSB7XHJcblx0XHRcdFx0dmFyIHBsYXllciA9IHBsYXllcnNbcGluZF0sXHJcblx0XHRcdFx0XHRwbGF5ZXJEaXN0YW5jZSA9IHRoaXMuZGlzdGFuY2VUbyhwbGF5ZXIpO1xyXG5cdFx0XHRcdC8vaWYocGxheWVyRGlzdGFuY2UgPCA2MCkgeyAvLyBtaW4gNjAgcGl4ZWxzXHJcblx0XHRcdFx0XHRpZih0aGlzLmZvbGxvdyA9PT0gZmFsc2UgfHwgcGxheWVyRGlzdGFuY2UgPCBjdXJyZW50RGlzdGFuY2UpIHtcclxuXHRcdFx0XHRcdFx0Y3VycmVudERpc3RhbmNlID0gcGxheWVyRGlzdGFuY2U7XHJcblx0XHRcdFx0XHRcdHRoaXMuZm9sbG93ID0gcGxheWVyO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vfVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBwbGF5ZXIgd2VyZSBraWxsZWRcclxuXHRcdFx0aWYodGhpcy5mb2xsb3cgJiYgdGhpcy5mb2xsb3cua2lsbGVkKSB7XHJcblx0XHRcdFx0dGhpcy5mb2xsb3cgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIHRoaXMuZm9sbG93O1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxjdWxhdGVzIGRpc3RhbmNlIHRvIGdpdmVuIGFjdG9yLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gYWN0b3IgT3RoZXIgYWN0b3IuXHJcblx0XHQgKiBAcmV0dXJucyB7TnVtYmVyfSBEaXN0YW5jZSBiZXR3ZWVuIGFjdG9ycy5cclxuXHRcdCAqL1xyXG5cdFx0ZGlzdGFuY2VUbzogZnVuY3Rpb24oYWN0b3IpIHtcclxuXHRcdFx0dmFyIHggPSBhY3Rvci5wb3NpdGlvbi54IC0gdGhpcy5wb3NpdGlvbi54LFxyXG5cdFx0XHRcdHkgPSBhY3Rvci5wb3NpdGlvbi55IC0gdGhpcy5wb3NpdGlvbi55O1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYWxnb3J5dG0gcHl0YWdvbGFzYSBzcXJ0KHheMiArIHleMilcclxuXHRcdFx0cmV0dXJuIE1hdGguc3FydChcclxuXHRcdFx0XHR4KnggKyB5KnlcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTW92ZXMgZW5lbXkgdG93YXJkcyBnaXZlbiBhY3Rvci5cclxuXHRcdCAqIENoYW5nZXMgb25seSB2ZWxvY2l0eSB2ZWN0b3IsIGRvZXMgbm90IHdvcmsgaW1tZWRpYXRlbHkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvciBUYXJnZXQgYWN0b3IuXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gc3BlZWQgTW92ZW1lbnQgc3BlZWQuXHJcblx0XHQgKi9cclxuXHRcdG1vdmVUbzogZnVuY3Rpb24oYWN0b3IsIHNwZWVkKSB7XHJcblx0XHRcdHZhciBkaXN0YW5jZSA9IHRoaXMuZGlzdGFuY2VUbyhhY3Rvcik7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBub3JtYWxpenVqIHdla3RvciBpYSBwb3J1c3ogJ2RvJ1xyXG5cdFx0XHQvLyAobW5vemFjIHByemV6IHdla3RvciBub3JtYWxuZWogYWN0b3IucG9zIC0gdGhpcy5wb3MpXHJcblx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueCA9IChhY3Rvci5wb3NpdGlvbi54IC0gdGhpcy5wb3NpdGlvbi54KS9kaXN0YW5jZTtcclxuXHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC55ID0gKGFjdG9yLnBvc2l0aW9uLnkgLSB0aGlzLnBvc2l0aW9uLnkpL2Rpc3RhbmNlO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGUgYW4gaGl0IHNpZ25hbC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IG90aGVyXHJcblx0XHQgKi9cclxuXHRcdG9uSGl0OiBmdW5jdGlvbihvdGhlcikge1xyXG5cdFx0XHRpZighIHRoaXMuc3RhdGUuaGl0dGVkKSB7XHJcblx0XHRcdFx0dGhpcy5zY2FsZS54ID0gLW90aGVyLnNjYWxlLng7XHJcblx0XHRcdFx0dGhpcy5oZWFsdGggLT0gb3RoZXIuc3RyZW5ndGhbb3RoZXIuYW5pbWF0aW9uXSB8fCAxMDtcclxuXHRcdFx0XHR0aGlzLnBsYXkoJ2hpdCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmKHRoaXMuaGVhbHRoIDw9IDApIHtcclxuXHRcdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8vIFByZWxvYWQgYXNzZXRzXHJcblx0R2FtZS5BY3RvcnMuRW5lbXkucHJlbG9hZCA9IGZ1bmN0aW9uKGFwcCkge1xyXG5cdFx0YXBwLmxvYWRJbWFnZXMoJ2VuZW15Z3V5Jyk7XHJcblx0fTtcclxufSkod2luZG93LkdhbWUgPSB3aW5kb3cuR2FtZSB8fCB7fSwgQkJRLCBQSVhJKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZ2FtZS9hY3RvcnMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcclxuICogY3JlYXR1cmVzLmpzXHJcbiAqIFxyXG4gKiBDcmVhdHVyZXMuIEFuaW1hbHNcclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBEYW5pZWwgXCJTekFQS09cIiBEdWR6aWtvd3NraSA8ZGFuaWVsLnN6YXBrb0BnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0dXJlcyBhbmQgYW5pbWFscyBvYmplY3RzLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEdhbWUgQ29tbW9uIHB1YmxpYyBnYW1lIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKEdhbWUsIEJCUSwgUElYSSkge1xyXG5cclxuXHRHYW1lLkFjdG9ycy5DYXQgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKXtcclxuXHQgICAgR2FtZS5BY3RvcnMuRW5lbXkuY2FsbCh0aGlzLCBcImNhdFwiKTsgLy8gb2JyYXplayBjYXQucG5nXHJcblx0ICAgIFxyXG5cdCAgICB0aGlzLmZyYW1lU2l6ZSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxNiwgMTYpO1xyXG5cdCAgICBcclxuXHQgICAgLy8gZm9sbG93aW5nIHBsYXllciBvYmplY3RcclxuXHRcdHRoaXMuZm9sbG93ID0gZmFsc2U7XHJcblx0XHR0aGlzLnRpY2sgPSAwO1xyXG5cdCAgICBcclxuXHRcdC8vIGNoYXJhY3RlciBiYXNpYyBzdGF0ZXNcclxuXHRcdHRoaXMuaGVhbHRoID0gMTAwMDtcclxuXHRcdHRoaXMuc3RyZW5ndGggPSB7XHJcblx0XHRcdHB1bmNoOiAxMCxcclxuXHRcdFx0a2ljazogMTVcclxuXHRcdH07XHJcblx0XHR0aGlzLnNwZWVkID0ge1xyXG5cdFx0XHR3YWxrOiAzNSxcclxuXHRcdFx0anVtcDogNTAsXHJcblx0XHRcdGhpdDogLTUwLFxyXG5cdFx0XHRwdW5jaDogMjAsXHJcblx0XHRcdGtpY2s6IDEwXHJcblx0XHR9O1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoR2FtZS5BY3RvcnMuRW5lbXkpXHJcblx0LnByb3BlcnRpZXMoe1xyXG5cdH0pXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQW5pbWF0aW9ucyBmcmFtZXMgdG8gdXNlLlxyXG5cdFx0ICovXHJcblx0XHRhbmltYXRpb25zOiB7XHJcblx0XHRcdGlkbGU6IHtcclxuXHRcdFx0XHR0aW1lOiAwLjUsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMywgNCwgNV1cclxuXHRcdFx0fSxcclxuXHRcdFx0d2Fsazoge1xyXG5cdFx0XHRcdHRpbWU6IDAuNSxcclxuXHRcdFx0XHRmcmFtZXM6IFswLCAxLCAwLCAyXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRoaXQ6IHtcclxuXHRcdFx0XHR0aW1lOiAyLFxyXG5cdFx0XHRcdGZyYW1lczogWzAsIDEsIDIsIDMsIDQsIDVdLFxyXG5cdFx0XHRcdG5leHQ6ICdpZGxlJ1xyXG5cdFx0XHR9Ly8sXHJcblx0XHRcdC8vYXR0YWNrOiB7XHJcblx0XHRcdC8vXHR0aW1lOiAwLjcsXHJcblx0XHRcdC8vXHRmcmFtZXM6IFswLCAxLCAwLCAyXVxyXG5cdFx0XHQvL30sXHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHR1cGRhdGVTdGF0ZTogZnVuY3Rpb24gKGRlbHRhKSB7XHJcblx0XHRcdGlmKHRoaXMuc3RhdGUud2Fsa2luZykge1xyXG5cclxuXHRcdFx0XHQvLyBmaW5kIG5lYXJlc3QgcGxheWVyXHJcblx0XHRcdFx0dmFyIHBsYXllciA9IHRoaXMuZmluZE5lYXJlc3RQbGF5ZXIoKTtcclxuXHJcblx0XHRcdFx0Ly8gcGxheWVyIGZvdW5kXHJcblx0XHRcdFx0aWYocGxheWVyICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0Ly8gY2xlYXIgbW92ZW1lbnQgc3RhdGVcclxuXHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQuc2V0KCk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdC8vIG1vdmVtZW50XHJcblx0XHRcdFx0XHRpZih0aGlzLmRpc3RhbmNlVG8ocGxheWVyKSA+IDIwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubW92ZVRvKHBsYXllcik7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYodGhpcy50aWNrLS0gPD0gMCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmFuaW1hdGlvbiA9ICdpZGxlJztcclxuXHRcdFx0XHRcdFx0Ly90aGlzLnRpY2sgPSA1ICsgMTAgKiBNYXRoLnJhbmRvbSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGZhY2UgZGlyZWN0aW9uXHJcblx0XHRcdFx0XHR0aGlzLnNjYWxlLnggPSB0aGlzLnBvc2l0aW9uLnggPiBwbGF5ZXIucG9zaXRpb24ueCA/IC0xIDogMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0R2FtZS5BY3RvcnMuQ2F0LnByZWxvYWQgPSBmdW5jdGlvbihhcHApIHtcclxuXHQgICAgYXBwLmxvYWRJbWFnZXMoJ2NhdCcpO1xyXG5cdH07XHJcblxyXG59KSh3aW5kb3cuR2FtZSA9IHdpbmRvdy5HYW1lIHx8IHt9LCBCQlEsIFBJWEkpO1xyXG5cdCBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9nYW1lL2NyZWF0dXJlcy5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxyXG4gKiBnYW1lLmpzXHJcbiAqIFxyXG4gKiBFbnRyeSBwb2ludCBvZiB0aGUgU2xhc2ggJ24nIFNtYXNoIGdhbWUuXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbih3aW5kb3cpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBPdmVycmlkZXMgUGxheWdyb3VuZCdzIGNvbW1vbiBsb2FkaW5nIHNjcmVlbi5cclxuXHQgKiBVc2VzIFBJWEkgcmVuZGVyZXIgdG8gcmVuZGVyIHRoZSBsb2FkaW5nIHN0YXRlLlxyXG5cdCAqL1xyXG5cdFBMQVlHUk9VTkQuTG9hZGluZ1NjcmVlbiA9IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogVkhTLXRhcGUgbG9nbyBpbWFnZSBhc3NldCBlbmNvZGVkIGFzIFBORyBpbiBiYXNlNjQuXHJcblx0XHQgKi9cclxuXHRcdGxvZ29SYXc6ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQVlDQVlBQUFCS3RQdEVBQUFBKzBsRVFWUll3KzFYMFEzRklBZ3NqUXM0Z0N1NC94eXU0QUNPMFBkRlltekxReXcxVnZtbXloM0hTV0ZqaG5QdTJBYUpHQ053YytGcjRHdEpNTndEcmJYRGdFOHBzWFAzYmZKWUJIeE4vclgxVHE4QUkva29oQUNjVndJN1VlWnp3bnQvVUlaV3Vqem1xM3NBRnp3RlRGb3NkYStFNU9ZUmtJQVBJUUFXV3hKUlM4d1QrNG5SbUN1VXA3WDIxQ1VFeWUwWW5xVzFqTzFhNEttNXZwTXRSVXJOZXR0ZEFWei95RW1SenZCd2k5Q1ZDZWFqTWNRejJBSytWNmRmVXdCbFZ0anB2TnRJeUQ5aXRFeXdTUUV4UnJncTdLNVlpY3dwNEU4WW8zbFR4cHJ5bDNvSWFCN2VNN2hrcjkvaFJjQWlZTzVndS9KSVJsanoydndBTnVlRksxUkNOQ3dBQUFBQVNVVk9SSzVDWUlJPScsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JlYXRlcyBsb2FkZXIgc2NlbmUuXHJcblx0XHQgKi9cclxuXHRcdGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNyZWF0ZSBQaXhpIGxvZ28gc3ByaXRlXHJcblx0XHRcdHRoaXMubG9nbyA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKHRoaXMubG9nb1JhdykpO1xyXG5cdFx0XHR0aGlzLmxvZ28uYW5jaG9yID0gbmV3IFBJWEkuUG9pbnQoMC41LCAxKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNyZWF0ZSBsb2FkZXIgcHJvZ3Jlc3MgYmFyXHJcblx0XHRcdHRoaXMucHJvZ3Jlc3NCYXIgPSBuZXcgUElYSS5HcmFwaGljcygpO1xyXG5cdFx0XHR0aGlzLnByb2dyZXNzQmFyLnBvc2l0aW9uID0gbmV3IFBJWEkuUG9pbnQoMCwgOCk7XHJcblx0XHRcdHRoaXMubG9nby5hZGRDaGlsZCh0aGlzLnByb2dyZXNzQmFyKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGVycm9yIGhhbmRsZXJcclxuXHRcdFx0dGhpcy5hcHAubG9hZGVyLm9uKCdlcnJvcicsIHRoaXMuZXJyb3IsIHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmVwYXJlcyBsb2FkZXIgc3RhdGUuXHJcblx0XHQgKi9cclxuXHRcdGVudGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY2hhbmdlIGJhY2tncm91bmQgY29sb3VyXHJcblx0XHRcdHRoaXMuYXBwLnJlbmRlcmVyLmJhY2tncm91bmRDb2xvciA9IDB4MTAxMDEwO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmVzZXQgcHJvZ3Jlc3MgdmFsdWVcclxuXHRcdFx0dGhpcy5wcm9ncmVzcyA9IDA7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIExvYWRpbmcgc2NlbmUgZG9uZS4gUXVpdHRpbmcuXHJcblx0XHQgKi9cclxuXHRcdGxlYXZlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0xvYWRpbmcgZG9uZS4nKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUHJvY2VzcyB0aGUgbG9hZGVyIHByb2dyZXNzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gZGVsdGEgRGVsdGEgdGltZSBiZXR3ZWVuIGxhc3QgZnJhbWUuXHJcblx0XHQgKi9cclxuXHRcdHN0ZXA6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIHByb2dyZXNzIHN0YXR1c1xyXG5cdFx0XHR0aGlzLnByb2dyZXNzICs9IE1hdGguYWJzKHRoaXMuYXBwLmxvYWRlci5wcm9ncmVzcyAtIHRoaXMucHJvZ3Jlc3MpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8ga2VlcCBjZW50ZXJlZCBwb3NpdGlvblxyXG5cdFx0XHR0aGlzLmxvZ28ucG9zaXRpb24gPSBuZXcgUElYSS5Qb2ludChcclxuXHRcdFx0XHRNYXRoLmZsb29yKHRoaXMuYXBwLnJlbmRlcmVyLndpZHRoIC8gMiksXHJcblx0XHRcdFx0TWF0aC5mbG9vcih0aGlzLmFwcC5yZW5kZXJlci5oZWlnaHQgLyAyKVxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW5kZXJzIGxvYWRlciBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gdXBkYXRlIHByb2dyZXNzIGJhclxyXG5cdFx0XHR2YXIgZyA9IHRoaXMucHJvZ3Jlc3NCYXIsXHJcblx0XHRcdFx0YyA9IHRoaXMucHJvZ3Jlc3M7XHJcblx0XHRcdFxyXG5cdFx0XHRnLmNsZWFyKCk7XHJcblx0XHRcdGcubGluZVN0eWxlKDApO1xyXG5cdFx0XHRnLmJlZ2luRmlsbCgweEZGRkZGRiwgMSk7XHJcblx0XHRcdGcuZHJhd1JlY3QoLTMyLCAtMiwgNjQgKiBjLCA0KTtcclxuXHRcdFx0Zy5lbmRGaWxsKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRnLmJlZ2luRmlsbCgweEZGRkZGRiwgMSk7XHJcblx0XHRcdGcuZHJhd1JlY3QoLTM0LCAtMiwgMSwgNCk7XHJcblx0XHRcdGcuZW5kRmlsbCgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Zy5iZWdpbkZpbGwoMHhGRkZGRkYsIDEpO1xyXG5cdFx0XHRnLmRyYXdSZWN0KDMzLCAtMiwgMSwgNCk7XHJcblx0XHRcdGcuZW5kRmlsbCgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmVuZGVyIGxvYWRlciBzdGFnZVxyXG5cdFx0XHR0aGlzLmFwcC5yZW5kZXJlci5yZW5kZXIodGhpcy5sb2dvKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlcyBsb2FkZXIgZXJyb3IuXHJcblx0XHQgKi9cclxuXHRcdGVycm9yOiBmdW5jdGlvbih1cmwpIHtcclxuXHRcdFx0Ly8gY3JlYXRlIHRleHQgY2hpbGQgbm9kZVxyXG5cdFx0XHR2YXIgdGV4dCA9IG5ldyBQSVhJLlRleHQoJ0Vycm9yIHdoaWxlIGxvYWRpbmdcXG4nICsgdXJsLCB7XHJcblx0XHRcdFx0Zm9udDogJzlweCBDb3VyaWVyJyxcclxuXHRcdFx0XHRmaWxsOiAnI0ZGRkZGRicsXHJcblx0XHRcdFx0YWxpZ246ICdjZW50ZXInXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGV4dC5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDApO1xyXG5cdFx0XHR0ZXh0LnBvc2l0aW9uID0gbmV3IFBJWEkuUG9pbnQoMCwgMTgpO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5sb2dvLmFkZENoaWxkKHRleHQpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogR2FtZSBhcHBsaWNhdGlvbiBpbnN0YW5jZS5cclxuXHQgKiBcclxuXHQgKiBAdHlwZSBQTEFZR1JPVU5ELkFwcGxpY2F0aW9uXHJcblx0ICovXHJcblx0R2FtZS5hcHAgPSBwbGF5Z3JvdW5kKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGFzc2V0cyBwYXRocy5cclxuXHRcdCAqL1xyXG5cdFx0cGF0aHM6IHtcclxuXHRcdFx0YmFzZTogJ2Fzc2V0cy8nLFxyXG5cdFx0XHRpbWFnZXM6ICdpbWFnZXMvJyxcclxuXHRcdFx0c291bmRzOiAnc291bmRzLycsXHJcblx0XHRcdGF0bGFzZXM6ICdhdGxhc2VzLydcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FudmFzIHZpZXdwb3J0IHNjYWxlLXVwLlxyXG5cdFx0ICovXHJcblx0XHRzY2FsZTogMyxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtYW5jZSBkZXRlY3Rvci5cclxuXHRcdCAqL1xyXG5cdFx0cGVyZm9ybWFuY2U6IHtcclxuXHRcdFx0dGlja3M6IDAsXHJcblx0XHRcdGZyYW1lOiAwLFxyXG5cdFx0XHRmcHM6IDBcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbGljYXRpb24gY3JlYXRpb24gZXZlbnQuXHJcblx0XHQgKi9cclxuXHRcdGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNyZWF0ZSBQSVhJIHByb3Blcmx5IHJlbmRlcmVyXHJcblx0XHRcdHRoaXMuY3JlYXRlUmVuZGVyZXIoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNyZWF0ZXMgaW5mby1ib2FyZFxyXG5cdFx0XHRCQlEuY29uc29sZS5zdGF0dXMoXHJcblx0XHRcdFx0dGhpcy5yZW5kZXJlciBpbnN0YW5jZW9mIFBJWEkuV2ViR0xSZW5kZXJlciA/XHJcblx0XHRcdFx0XHQnV2ViR0wnIDogJ0NhbnZhcydcclxuXHRcdFx0KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHBlcmZvcm0gYXNzZXRzIGxvYWRpbmdcclxuXHRcdFx0Ly8gRk9SIERFTU8gUFVSUE9TRVMgT05MWSwgRE8gTk9UIEJBU0UgT04gSVRcclxuXHRcdFx0Y29uc29sZS5sb2coJ0xvYWRpbmcgZ2FtZSBhc3NldHMuLi4nKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGxvYWQgZ2FtZSBhc3NldHNcclxuXHRcdFx0Zm9yKHZhciBpIGluIEdhbWUpIHtcclxuXHRcdFx0XHR2YXIgR2FtZV9DaGlsZCA9IEdhbWVbaV07XHJcblx0XHRcdFx0aWYodHlwZW9mIEdhbWVfQ2hpbGQgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0XHRmb3IodmFyIG4gaW4gR2FtZV9DaGlsZCkge1xyXG5cdFx0XHRcdFx0XHQvLyBpbnZva2UgcHJlbG9hZHMgZm9yIEdhbWUuT2JqZWN0Lk9iamVjdC5wcmVsb2FkXHJcblx0XHRcdFx0XHRcdGlmKHR5cGVvZiBHYW1lX0NoaWxkW25dLnByZWxvYWQgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdFx0XHRHYW1lX0NoaWxkW25dLnByZWxvYWQuY2FsbCh0aGlzLCB0aGlzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBc3NldHMgbG9hZGVyIHJlYWR5IGV2ZW50LlxyXG5cdFx0ICovXHJcblx0XHRyZWFkeTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIHN3aXRjaCB0byBnYW1lIHN0YXRlXHJcblx0XHRcdHRoaXMuc2V0U3RhdGUobmV3IEdhbWUuU3RhdGUuTWVudSgpKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTW92ZSBzcHJpdGVzLlxyXG5cdFx0ICovXHJcblx0XHRzdGVwOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyBkdW1teSBtZXRob2RcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmVuZGVycyBzY2VuZSBmcmFtZS5cclxuXHRcdCAqL1xyXG5cdFx0cmVuZGVyOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyB1cGRhdGUgdGlja3MgYW5kIEZQU1xyXG5cdFx0XHR0aGlzLnBlcmZvcm1hbmNlLmZyYW1lKys7XHJcblx0XHRcdHRoaXMucGVyZm9ybWFuY2UudGlja3MgKz0gZGVsdGE7XHJcblx0XHRcdGlmKHRoaXMucGVyZm9ybWFuY2UudGlja3MgPj0gMSkge1xyXG5cdFx0XHRcdC8vIHVwZGF0ZSBGUFMgc3RhdHVzXHJcblx0XHRcdFx0dGhpcy5wZXJmb3JtYW5jZS5mcHMgPSB0aGlzLnBlcmZvcm1hbmNlLmZyYW1lO1xyXG5cdFx0XHRcdEJCUS5jb25zb2xlLmZwcygnRlBTOiAnICsgdGhpcy5wZXJmb3JtYW5jZS5mcHMpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIHJlc2V0IGNvdW50ZXJzXHJcblx0XHRcdFx0dGhpcy5wZXJmb3JtYW5jZS50aWNrcyA9IDA7XHJcblx0XHRcdFx0dGhpcy5wZXJmb3JtYW5jZS5mcmFtZSA9IDA7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlcyB2aWV3cG9ydCByZXNpemUgZXZlbnQuXHJcblx0XHQgKi9cclxuXHRcdHJlc2l6ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBrZXkgaW5wdXQuXHJcblx0XHQgKi9cclxuXHRcdGtleWRvd246IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdGlmKGV2ZW50LmtleSA9PT0gJ2YxJykge1xyXG5cdFx0XHRcdEJCUS5jb25zb2xlLnRvZ2dsZSgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGUgcG9pbnRlciAobW91c2UvdG91Y2gpIGV2ZW50LlxyXG5cdFx0ICovXHJcblx0XHRwb2ludGVyZG93bjogZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0Ly9CQlEuVXRpbHMuZnVsbHNjcmVlbih0cnVlKTtcclxuXHRcdH1cclxuXHR9KTtcclxufSkod2luZG93KTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZ2FtZS9nYW1lLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXHJcbiAqIHN0YWdlLmpzXHJcbiAqIFxyXG4gKiBBbGwgZ2FtZSBzdGFnZXMgZGVmaW5pdGlvbnMgc3RhY2suXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBHYW1lIHN0YWdlcyBkZWZpbml0aW9ucy5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBHYW1lIENvbW1vbiBwdWJsaWMgZ2FtZSBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7UElYSX0gUGl4aSBQSVhJIHJlbmRlcmluZyBlbmdpbmUgbmFtZXNwYWNlLlxyXG4gKi9cclxuKGZ1bmN0aW9uKEdhbWUsIEJCUSwgUElYSSkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEZhdGFsaXR5IGltYWdlLlxyXG5cdCAqL1xyXG5cdEdhbWUuRmF0YWxpdHkgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBjYWxsIGluaGVyaXRlZCBjdG9yXHJcblx0XHRQSVhJLlNwcml0ZS5jYWxsKHRoaXMsIEdhbWUuYXBwLnRleCgnZmF0YWxpdHknKSk7XHJcblx0XHRcclxuXHRcdC8vIGNoYW5nZSBzcHJpdGUgYW5jaG9yIHRvIGNlbnRlclxyXG5cdFx0dGhpcy5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDAuNSk7XHJcblx0XHR0aGlzLnRpbWVyID0gMTAwO1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoUElYSS5TcHJpdGUpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VudGVyIGZhdGFsaXR5IGltYWdlLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnggPSBHYW1lLmFwcC5yZW5kZXJlci53aWR0aCAvIDI7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSA9IChHYW1lLmFwcC5yZW5kZXJlci5oZWlnaHQgLyAyLjUpIC0gTWF0aC5hYnMoTWF0aC5jb3MoKHRoaXMudGltZXIvMTAwICsgNTApKk1hdGguUEkpICogMTAwICogTWF0aC5zaW4oKHRoaXMudGltZXIvMjAwKSpNYXRoLlBJKSk7XHJcblx0XHRcdFBJWEkuU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmKHRoaXMudGltZXIgPiAwKSB7XHJcblx0XHRcdFx0dGhpcy50aW1lci0tO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogR2FtZSBzdGF0ZXMuXHJcblx0ICovXHJcblx0R2FtZS5TdGF0ZSA9IHt9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIE1lbnUgc3RhdGUgZGVmaW5pdGlvbi5cclxuXHQgKi9cclxuXHRHYW1lLlN0YXRlLk1lbnUgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHRCQlEuU3RhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdHZhciBzcCA9IG5ldyBHYW1lLlN0YXRlLk1lbnUuQnV0dG9uKEdhbWUuYXBwLnRleCgnc2luZ2xlcGxheWVyJykpO1xyXG5cdFx0dmFyIG1wID0gbmV3IEdhbWUuU3RhdGUuTWVudS5CdXR0b24oR2FtZS5hcHAudGV4KCdtdWx0aXBsYXllcicpKTtcclxuXHRcdHZhciBmcyA9IG5ldyBHYW1lLlN0YXRlLk1lbnUuQnV0dG9uKEdhbWUuYXBwLnRleCgnZnVsbHNjcmVlbicpKTtcclxuXHRcdHNwLm9mZnNldC55ID0gLTI1O1xyXG5cdFx0bXAub2Zmc2V0LnkgPSAwO1xyXG5cdFx0ZnMub2Zmc2V0LnkgPSAyNTtcclxuXHRcdFxyXG5cdFx0c3AuY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0R2FtZS5hcHAuc2luZ2xlcGxheWVyID0gdHJ1ZTtcclxuXHRcdFx0R2FtZS5hcHAuc2V0U3RhdGUobmV3IEdhbWUuU3RhdGUuU3RhZ2UoKSk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRtcC5jbGljayA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRHYW1lLmFwcC5zaW5nbGVwbGF5ZXIgPSBmYWxzZTtcclxuXHRcdFx0R2FtZS5hcHAuc2V0U3RhdGUobmV3IEdhbWUuU3RhdGUuU3RhZ2UoKSk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRmcy5jbGljayA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRCQlEuVXRpbHMuZnVsbHNjcmVlbigpO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0c3AuYmluZCgpO1xyXG5cdFx0bXAuYmluZCgpO1xyXG5cdFx0ZnMuYmluZCgpO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZENoaWxkKHNwKTtcclxuXHRcdHRoaXMuYWRkQ2hpbGQobXApO1xyXG5cdFx0dGhpcy5hZGRDaGlsZChmcyk7XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhCQlEuU3RhdGUpO1xyXG5cdFxyXG5cdC8vIENvbW1vbiBtZW51IGJ1dHRvblxyXG5cdEdhbWUuU3RhdGUuTWVudS5CdXR0b24gPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHRQSVhJLlNwcml0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0dGhpcy5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDAuNSk7XHJcblx0XHR0aGlzLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuXHRcdHRoaXMub2Zmc2V0ID0gbmV3IFBJWEkuUG9pbnQoKTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKFBJWEkuU3ByaXRlKVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIEJ1dHRvbiBjbGlja2VkIGhhbmRsZXIuXHJcblx0XHQgKi9cclxuXHRcdGNsaWNrOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gZHVtbXlcclxuXHRcdFx0Y29uc29sZS5sb2coJ2FzZDEnKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQmluZCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLm9uKCdtb3VzZWRvd24nLCB0aGlzLmNsaWNrLmJpbmQodGhpcykpO1xyXG5cdFx0XHR0aGlzLm9uKCd0b3VjaHN0YXJ0JywgdGhpcy5jbGljay5iaW5kKHRoaXMpKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VudGVyIGJ1dHRvbnMuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBfc2NyaHcgPSBHYW1lLmFwcC5yZW5kZXJlci53aWR0aCAvIDIsXHJcblx0XHRcdFx0X3NjcmhoID0gR2FtZS5hcHAucmVuZGVyZXIuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueCA9IF9zY3JodyArIHRoaXMub2Zmc2V0Lng7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSA9IF9zY3JoaCArIHRoaXMub2Zmc2V0Lnk7XHJcblx0XHRcdFBJWEkuU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvLyBQcmVsb2FkIGFzc2V0c1xyXG5cdEdhbWUuU3RhdGUuTWVudS5wcmVsb2FkID0gZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRhcHAubG9hZEltYWdlcygnc2luZ2xlcGxheWVyJywgJ211bHRpcGxheWVyJywgJ2Z1bGxzY3JlZW4nKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENvbW1vbiBzdGFnZSBkZWZpbml0aW9uLlxyXG5cdCAqL1xyXG5cdEdhbWUuU3RhdGUuU3RhZ2UgPSBmdW5jdGlvbigpIHtcclxuXHRcdEJCUS5TdGF0ZS5jYWxsKHRoaXMpO1xyXG5cdFx0XHJcblx0XHR0aGlzLnBsYXllcnMgPSBbXTtcclxuXHRcdHRoaXMudGltZXIgPSAxMDtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgR2FtZS5TdGFnZSBieSBCQlEuU3RhdGUgY2xhc3NcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhHYW1lLlN0YXRlLlN0YWdlLCBCQlEuU3RhdGUsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZXMgZ2FtZSBzdGFnZS5cclxuXHRcdCAqL1xyXG5cdFx0ZW50ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmJhY2tncm91bmQuYWRkQmFja2dyb3VuZCgndG93bnNreScsIHtcclxuXHRcdFx0XHRzY2FsZTogbmV3IFBJWEkuUG9pbnQoLjEsIC4xKVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMuYmFja2dyb3VuZC5hZGRCYWNrZ3JvdW5kKCd0b3duYmcnLCB7XHJcblx0XHRcdFx0c2NhbGU6IG5ldyBQSVhJLlBvaW50KC41LCAxKSxcclxuXHRcdFx0XHRvZmZzZXQ6IG5ldyBQSVhJLlBvaW50KDAsIC0yMDApLFxyXG5cdFx0XHRcdHZ0aWxlZDogZmFsc2UsXHJcblx0XHRcdFx0aHRpbGVkOiB0cnVlXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kLmFkZEJhY2tncm91bmQoJ3Rvd25mZycsIHtcclxuXHRcdFx0XHRzY2FsZTogbmV3IFBJWEkuUG9pbnQoLjY1LCAxKSxcclxuXHRcdFx0XHRvZmZzZXQ6IG5ldyBQSVhJLlBvaW50KDAsIC0yMDApLFxyXG5cdFx0XHRcdHZ0aWxlZDogZmFsc2UsXHJcblx0XHRcdFx0aHRpbGVkOiB0cnVlXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kLmFkZEJhY2tncm91bmQoJ3JvYWQnLCB7XHJcblx0XHRcdFx0c2NhbGU6IG5ldyBQSVhJLlBvaW50KDEsIDEpLFxyXG5cdFx0XHRcdG9mZnNldDogbmV3IFBJWEkuUG9pbnQoMCwgLTIyKSxcclxuXHRcdFx0XHR2dGlsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdGh0aWxlZDogdHJ1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBjaGFyYSA9IG5ldyBHYW1lLkFjdG9ycy5QbGF5ZXJUb3VjaFNjcmVlbignZmF0Z3V5Jyk7XHJcblx0XHRcdGNoYXJhLnBvc2l0aW9uLnggPSA2MDtcclxuXHRcdFx0dGhpcy5hY3RvcnMuYWRkQ2hpbGQoY2hhcmEpO1xyXG5cdFx0XHR0aGlzLmNhbWVyYS5mb2xsb3coY2hhcmEpO1xyXG5cdFx0XHR0aGlzLnBsYXllcnMucHVzaChjaGFyYSk7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgY2F0ID0gbmV3IEdhbWUuQWN0b3JzLkNhdCgnY2F0Jyk7XHJcblx0XHRcdGNhdC5wb3NpdGlvbi54ID0gNDAwO1xyXG5cdFx0XHR0aGlzLmFjdG9ycy5hZGRDaGlsZChjYXQpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoIUdhbWUuYXBwLnNpbmdsZXBsYXllcikge1xyXG5cdFx0XHRcdGNoYXJhID0gbmV3IEdhbWUuQWN0b3JzLlBsYXllcignZmF0Z3V5Jyk7XHJcblx0XHRcdFx0Y2hhcmEucG9zaXRpb24ueCA9IDEwMDtcclxuXHRcdFx0XHRjaGFyYS5rZXltYXAgPSB7XHJcblx0XHRcdFx0XHRyaWdodDogJ2QnLFxyXG5cdFx0XHRcdFx0bGVmdDogJ2EnLFxyXG5cdFx0XHRcdFx0ZG93bjogJ3MnLFxyXG5cdFx0XHRcdFx0dXA6ICd3JyxcclxuXHJcblx0XHRcdFx0XHRwdW5jaDogJ3QnLFxyXG5cdFx0XHRcdFx0a2ljazogJ3knLFxyXG5cdFx0XHRcdFx0anVtcDogJ2cnXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0aGlzLmNhbWVyYS5mb2xsb3coY2hhcmEpO1xyXG5cdFx0XHRcdHRoaXMuYWN0b3JzLmFkZENoaWxkKGNoYXJhKTtcclxuXHRcdFx0XHR0aGlzLnBsYXllcnMucHVzaChjaGFyYSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vdmFyIGVuZW15ID0gbmV3IEdhbWUuQWN0b3JzLkVuZW15KCdlbmVteWd1eScpO1xyXG5cdFx0XHQvL3RoaXMuYWN0b3JzLmFkZENoaWxkKGVuZW15KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogT3ZlcnJpZGVzIHN0YXRlIHN0ZXAuXHJcblx0XHQgKi9cclxuXHRcdHN0ZXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRCQlEuU3RhdGUucHJvdG90eXBlLnN0ZXAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNyZWF0ZSBlbmVtaWVzIGR1cm5pbmcgdGltZVxyXG5cdFx0XHRpZih0aGlzLnBsYXllcnMubGVuZ3RoID4gMCAmJiB0aGlzLnRpbWVyLS0gPCAwKSB7XHJcblx0XHRcdFx0dGhpcy50aW1lciA9IDgwICsgMjAwICogTWF0aC5yYW5kb20oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2YXIgZW5lbXkgPSBuZXcgR2FtZS5BY3RvcnMuRW5lbXkoJ2VuZW15Z3V5Jyk7XHJcblx0XHRcdFx0ZW5lbXkucG9zaXRpb24ueCA9IChNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxKSo0MDA7XHJcblx0XHRcdFx0ZW5lbXkucG9zaXRpb24ueSA9IE1hdGgucmFuZG9tKCkqMTAwO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGVuZW15LnBvc2l0aW9uLnggLT0gdGhpcy5jYW1lcmEuZ2V0Q2VudGVyKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dGhpcy5hY3RvcnMuYWRkQ2hpbGQoZW5lbXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEtleWRvd24gZXZlbnQgaGFuZGxlLlxyXG5cdFx0ICovXHJcblx0XHRrZXlkb3duOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHRcdHBsYXllci5lbnF1ZXVlRXZlbnQoJ2tleWRvd24nLCBlLmtleSwgdHJ1ZSwgZSk7XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBcclxuXHRcdCAqL1xyXG5cdFx0a2V5dXA6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgna2V5dXAnLCBlLmtleSwgZmFsc2UsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHRvdWNoc3RhcnQ6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgndG91Y2hzdGFydCcsIGUuaWRlbnRpZmllciwgZS54LCBlLnksIGZhbHNlLCBlKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHR0b3VjaG1vdmU6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgndG91Y2htb3ZlJywgZS5pZGVudGlmaWVyLCBlLngsIGUueSwgZmFsc2UsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHRcdHBsYXllci5lbnF1ZXVlRXZlbnQoJ3RvdWNoZW5kJywgZS5pZGVudGlmaWVyLCBlLngsIGUueSwgZmFsc2UsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHBsYXllcktpbGxlZDogZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdHZhciBpbmQgPSB0aGlzLnBsYXllcnMuaW5kZXhPZihwbGF5ZXIpO1xyXG5cdFx0XHRpZihpbmQgIT09IC0xKSB7XHJcblx0XHRcdFx0dGhpcy5wbGF5ZXJzLnNwbGljZShpbmQsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBmYXRhbGl0eSBtZXNzYWdlXHJcblx0XHRcdGlmKHRoaXMucGxheWVycy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdHRoaXMuZm9yZWdyb3VuZC5hZGRDaGlsZChuZXcgR2FtZS5GYXRhbGl0eSgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFsbCBnYW1lIHN0YWdlcyBkZWZpbml0aW9ucy5cclxuXHQgKi9cclxuXHRHYW1lLlN0YWdlcyA9IHt9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENvbW1vbiBwcmVsb2FkIGFzc2V0cy5cclxuXHQgKi9cclxuXHRHYW1lLlN0YWdlcy5fID0ge1xyXG5cdFx0cHJlbG9hZDogZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRcdGFwcC5sb2FkSW1hZ2VzKCdmYXRhbGl0eScpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogRmlyc3Qgc3RhZ2UgLSBFdmlsIFRvd24uXHJcblx0ICovXHJcblx0R2FtZS5TdGFnZXMudG93biA9IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGdhbWUgcHJlbG9hZCBmdW5jdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0cHJlbG9hZDogZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRcdGFwcC5sb2FkSW1hZ2VzKCdyb2FkJywgJ3Rvd25za3knLCAndG93bmJnJywgJ3Rvd25mZycpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBTdGFnZSBhcHBlYXJhbmNlIHBlcmZzLlxyXG5cdFx0ICovXHJcblx0XHRhcHBlYXJhbmNlOiB7XHJcblx0XHRcdGdyb3VuZDogJ3JvYWQnLFxyXG5cdFx0XHRwYXJhbGxheDogW1xyXG5cdFx0XHRcdHsgdGV4dHVyZTogJ3Rvd25za3knLCB2c2NhbGU6IDEsIGhzY2FsZTogMSB9XHJcblx0XHRcdF1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogR2FtZXBsYXkgc2VjdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdHNlY3Rpb25zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHR3YXZlczogW1xyXG5cdFx0XHRcdFx0WydTa2luSGVhZCcsJ1NraW5IZWFkJywnU2tpbkhlYWQnXVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fVxyXG5cdFx0XSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZnRlci13aW4gbmV4dCBzdGFnZS5cclxuXHRcdCAqL1xyXG5cdFx0bmV4dDogJ3B1YidcclxuXHR9O1xyXG59KSh3aW5kb3cuR2FtZSA9IHdpbmRvdy5HYW1lIHx8IHt9LCBCQlEsIFBJWEkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9nYW1lL3N0YWdlcy5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9