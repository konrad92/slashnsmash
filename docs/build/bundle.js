!function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var e={};return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,i,e){Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="/build/",i(i.s=8)}([function(t,i){!function(t){"use strict";t.Utils={assign:Object.assign||function(t,i){for(var e,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(e in i)t[e]=i[e]}},extends:function(i,e,n){t.Utils.assign(i.prototype=Object.create(e.prototype),{constructor:i},n)},fullscreen:function(t){if("undefined"==typeof t||t){var i=document.body,e=i.requestFullScreen||i.webkitRequestFullScreen||i.mozRequestFullScreen||i.msRequestFullScreen;e&&e.call(i)}else{var i=document.body,n=i.closeFullScreen||i.webkitCloseFullScreen||i.mozCloseFullScreen||i.msCloseFullScreen;n&&n.call(i)}}},window.Class=t.Class=function(i){return"undefined"==typeof i.type&&(i.type=i,i.prototype={constructor:i}),i.extends=function(t){return"function"!=typeof t?(console.error("Extending class by non-class object is unallowed"),this):(this.type.prototype=Object.create(t.prototype),this.type.prototype.constructor=this.type,this)},i.properties=function(t){return Object.defineProperties(this.type.prototype,t),this},i.scope=function(i){return t.Utils.assign(this.type.prototype,i),this},i.final=function(){return delete this.type.scope,delete this.type.properties,delete this.type.extends,delete this.type.type,this},i},t.DOM=function(i){return new t.DOM.Element(i)},t.DOM.Element=function(t){this.context=t},t.DOM.Element.prototype={constructor:t.DOM,on:function(t,i){return this.context.addEventListener?this.context.addEventListener.apply(this.context,arguments):console.error("No event binding functionality found!"),this},css:function(i){return t.Utils.assign(this.context.style,i),this},append:function(i){for(var e in arguments)i=arguments[e],this.context.appendChild(i instanceof t.DOM.Element?i.context:i);return this},appendTo:function(i){return i instanceof t.DOM.Element?i.context.appendChild(this.context):i.appendChild(this.context),this},id:function(t){return this.context.id=t,this},class:function(t){return this.context.className=t,this},text:function(t){return this.context.textContent=t,this},html:function(t){return this.context.innerHTML=t,this},done:function(t){return"undefined"!=typeof t&&this.appendTo(t),this.context}}}(window.BBQ=window.BBQ||{})},function(t,i){!function(t){"use strict";t.console=function(){var i=[t.DOM(document.createElement("span")).css({marginRight:"8px"}).context,t.DOM(document.createElement("span")).text("---").context],e=t.DOM(document.createElement("div")).append(i[0],i[1]).context,n=t.DOM(document.createElement("ul")).context,s=t.DOM(document.createElement("div")).id("game-logger").css({display:"none"}).append(e,n).done(document.body);return{showOnReady:!0,status:function(t){return i[0].textContent=t,this},fps:function(t){return i[1].textContent=t,this},log:function(i){return n.childNodes.length>5&&n.removeChild(n.childNodes[0]),t.DOM(document.createElement("li")).text(i).done(n)},show:function(){return s.style.display="block",this},hide:function(){return s.style.display="none",this},toggle:function(){return"none"===s.style.display?this.show():this.hide()}}}(),document.addEventListener("DOMContentLoaded",function(i){t.console.showOnReady&&t.console.show()},!1),window.console||(window.console={log:function(){},info:function(){},warn:function(){},error:function(){}});var i={log:window.console.log,info:window.console.info,warn:window.console.warn,error:window.console.error};t.Utils.assign(window.console,{log:function(e){i.log.apply(this,arguments),t.console.log(""+e)},info:function(e){i.info.apply(this,arguments),t.console.log(""+e).style.color="#c0c0ff"},warn:function(e){i.warn.apply(this,arguments),t.console.log(""+e).style.color="#ffff80"},error:function(e){i.error.apply(this,arguments),t.console.log(""+e).style.color="#f03030"}})}(window.BBQ=window.BBQ||{})},function(t,i){!function(t,i,e){"use strict";e.SCALE_MODES.DEFAULT=e.SCALE_MODES.NEAREST,t.Utils.assign(e.DEFAULT_RENDER_OPTIONS,{autoResize:!0});var n={getAssetEntry:i.Application.prototype.getAssetEntry};t.Utils.assign(i.Application.prototype,{createRenderer:function(t){console.log("Creating PIXI renderer..."),this.renderer=e.autoDetectRenderer(window.innerWidth,window.innerHeight,Object.assign({roundPixels:!0},t)),"number"==typeof this.scale&&(window.addEventListener("resize",this.keepAspect.bind(this),!1),this.keepAspect());var i=this.container||document.body;i.appendChild(this.renderer.view)},keepAspect:function(){window.innerWidth<768?this.scale=2:this.scale=4;var t=window.innerWidth%this.scale,i=window.innerHeight%this.scale,e=window.innerWidth+(this.scale-t),n=window.innerHeight+(this.scale-i);this.renderer.resize(e/this.scale,n/this.scale),this.renderer.view.style.width=e+"px",this.renderer.view.style.height=n+"px"},tex:function(t,i){var n=t;return"string"==typeof t&&(n=this.images[t]),n instanceof Image?"undefined"==typeof i||i===!0?e.Texture.fromImage(n.src):new e.Texture(e.BaseTexture.fromImage(n.src)):(console.error("Image '"+t+"' not recognized",n),null)},getAssetEntry:function(t,i,e){if(/^http(|s):\/\/.+/i.test(t)){var s=t.split("/").pop().split(".")[0],o=t.split(".").pop();return{key:s,url:t,path:t,ext:o}}return n.getAssetEntry.apply(this,arguments)}}),t.Utils.assign(e.Point.prototype,{set:function(t,i){return this.x=t||0,this.y=i||0,this},mul:function(t){return this.x=this.x*t||0,this.y=this.y*t||0,this},div:function(t){return this.x=this.x/t||0,this.y=this.y/t||0,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.div(this.length())}}),t.Utils.assign(e.Rectangle.prototype,{intersects:function(t){return this.x+this.width>=t.x&&this.x<=t.x+t.width&&this.y+this.height>=t.y&&this.y<=t.y+t.height}})}(window.BBQ=window.BBQ||{},PLAYGROUND,PIXI)},function(t,i){!function(t,i){"use strict";t.Actor=function(){i.Sprite.apply(this,arguments),this.signals=[],this.events=[],this.killed=!1},t.Utils.extends(t.Actor,i.Sprite,{constructor:t.Actor,emitSignal:function(t){var i=this.signals[t],e=Array.prototype.slice.call(arguments,1);return"undefined"!=typeof i&&i.length>0&&i.forEach(function(t){t.callback.apply(t.context,e)}),this},bindSignal:function(t,i,e){return this.signals[t]=this.signals[t]||[],this.signals[t].push({callback:i,context:e||this}),this},unbindSignal:function(t,i){var e=this.signals[t];return"undefined"!=typeof e&&e.length>0&&(this.signals[t]=e.filter(function(t){return!(t.callback===i)})),this},clearSignal:function(t){return delete this.signals[t],this},enqueueEvent:function(t){return this.events.push({name:t,args:Array.prototype.slice.call(arguments,1)}),this},dequeueEvent:function(){if(0===this.events.length)return!1;var t=this.events[0];return this.events=this.events.slice(1),t},update:function(t){for(var i;(i=this.dequeueEvent())!==!1;)this.emitSignal.apply(this,Array.prototype.concat.apply([i.name],i.args))},destroy:function(){this.parent&&this.parent.toDelete&&(this.parent.toDelete.push(this),this.killed=!0)}}),t.AnimatedActor=function(){t.Actor.apply(this,arguments)},t.Utils.extends(t.AnimatedActor,t.Actor,{animations:{idle:{time:1,frames:[0]}},frameTick:0,frameIndex:0,animation:"idle",play:function(t,i){(t!==this.animation||i)&&(this.frameTick=this.frameIndex=0,this.animation=t,this.emitSignal("animationStart",this.animation))},update:function(i){t.Actor.prototype.update.call(this,i);var e=this.animation;"string"==typeof e&&(e=this.animations[e]),"object"==typeof e&&(this.frameTick+=i*e.frames.length/e.time,this.frameTick>=e.frames.length&&(this.frameTick-=e.frames.length,this.emitSignal("animationEnd",this.animation),e.next&&this.play(e.next)),this.frameIndex=e.frames[Math.floor(this.frameTick)])}}),t.Camera=function(t){i.Container.call(this),this.renderer=t},t.Utils.extends(t.Camera,i.Container,{updateTransform:function(){var t=this.renderer.width/2,e=this.renderer.height/2;this.position.x+=t,this.position.y+=e,i.Container.prototype.updateTransform.call(this),this.position.x-=t,this.position.y-=e}}),t.FollowCamera=function(i,e,n){t.Camera.call(this,i),this.position.x=e||0,this.position.y=n||0},t.Utils.extends(t.FollowCamera,t.Camera,{followed:[],follow:function(t){this.followed.indexOf(t)===-1&&this.followed.push(t)},unfollow:function(t){var i=this.followed.indexOf(t);i!==-1&&this.followed.splice(i,1)},update:function(t){this.followed.length>0&&(this.position.x=this.getCenter())},getCenter:function(){if(this.followed.length>0){var t=0;for(var i in this.followed){var e=this.followed[i];t-=e.position.x}return t/this.followed.length}return 0}}),t.ParallaxBackground=function(t){i.Container.call(this),this.camera=t},t.Utils.extends(t.ParallaxBackground,i.Container,{addBackground:function(e,n){n=t.Utils.assign({htiled:!0,vtiled:!0},n),"string"==typeof e&&(e=Game.app.images[e]);var s=new i.extras.TilingSprite(Game.app.tex(e),n.htiled?this.camera.renderer.width:e.width,n.vtiled?this.camera.renderer.height:e.height);return s.parallaxScale=n.scale||new i.Point(0,0),s.parallaxOffset=n.offset||new i.Point(0,0),s.htiled=n.htiled,s.vtiled=n.vtiled,this.addChild(s)},updateTransform:function(t){var e=this.camera;this.children.forEach(function(t){t.htiled?(t.width=e.renderer.width,t.tilePosition.x=t.width/2-t.texture.width/2,t.tilePosition.x+=t.parallaxOffset.x,t.tilePosition.x+=e.x*t.parallaxScale.x):(t.position.x=t.parallaxOffset.x-e.renderer.width/2,t.position.x+=e.x*t.parallaxScale.x),t.vtiled?(t.height=e.renderer.height,t.tilePosition.y=t.height/2-t.texture.height/2,t.tilePosition.y+=t.parallaxOffset.y,t.tilePosition.y+=e.y*t.parallaxScale.y):(t.position.y=t.parallaxOffset.y+e.renderer.height/2,t.position.y+=e.y*t.parallaxScale.y)}),i.Container.prototype.updateTransform.call(this)}}),t.State=function(){i.Container.call(this)},t.Utils.extends(t.State,i.Container,{constructor:t.State,create:function(){this.camera=new t.FollowCamera(this.app.renderer),this.background=new t.ParallaxBackground(this.camera),this.actors=new i.Container,this.actors.toDelete=[],this.camera.addChild(this.actors),this.foreground=new i.Container,this.addChild(this.background),this.addChild(this.camera),this.addChild(this.foreground)},step:function(t){this.actors.toDelete.forEach(function(t){t&&(t.emitSignal("destroy"),this.actors.removeChild(t))},this),this.actors.children.sort(this.sortActorsFunc),this.performLayer(this.actors,"update",t,this.app),this.camera.update(t)},render:function(){this.app.renderer.render(this)},performLayer:function(t,i){var e=Array.prototype.slice.call(arguments,2);return t.children.forEach(function(t){var n=t[i];"function"==typeof n&&n.apply(t,e)},this),this},sortActorsFunc:function(t,i){return t.position.y<i.position.y?-1:t.position.y>i.position.y?1:0}})}(window.BBQ=window.BBQ||{},PIXI)},function(t,i){!function(t,i,e){"use strict";t.Actors={},t.Actors.Character=i.Class(function(n){i.AnimatedActor.call(this),"string"==typeof n&&(n=t.app.images[n]),this.texture=t.app.tex("shadow"),this.anchor.x=this.anchor.y=.5,this.body=new e.Sprite(t.app.tex(n,!1)),this.body.anchor.x=.5,this.body.anchor.y=1,this.addChild(this.body),this.frameSize=new e.Rectangle(0,0,16,28),this.state={movement:new e.Point},this.velocity=new e.Point,this.bbox=new e.Rectangle(0,0,16,8),this.hitBbox=new e.Rectangle(0,0,4,10),this.health=100,this.strength={punch:10,kick:15},this.speed={walk:35,jump:50,hit:-50,punch:20,kick:10}}).extends(i.AnimatedActor).properties({frameSize:{get:function(){return this.body.texture.crop},set:function(t){this.body.texture.trim=t.clone(),this.body.texture.crop=t.clone()}}}).scope({animations:{idle:{time:1,frames:[0]},walk:{time:.42,frames:[0,1,0,2]},jump:{time:.5,frames:[3,4],next:"idle"},hit:{time:.35,frames:[5],next:"idle"},punch:{time:.3,frames:[6,7,8,8,8],next:"idle"},kick:{time:.4,frames:[9,10,11,11,11],next:"idle"}},update:function(t){i.AnimatedActor.prototype.update.call(this,t),this.updateAnimFrame(),"jump"===this.animation?this.body.y=16*-Math.sin(this.frameTick/2*Math.PI):"hit"===this.animation?this.body.y=8*-Math.sin(this.frameTick*Math.PI):"kick"===this.animation&&(this.body.y=8*-Math.sin(this.frameTick/5*Math.PI)),"function"==typeof this.updateState&&this.updateState(t),this.updatePhysics(t)},updateAnimFrame:function(){this.body.texture.crop.x=Math.floor(this.frameIndex%3)*this.frameSize.width,this.body.texture.crop.y=Math.floor(this.frameIndex/3)*this.frameSize.height,this.body.texture._updateUvs()},updatePhysics:function(t){if(this.state.walking="idle"===this.animation||"walk"===this.animation,this.state.jumping="jump"===this.animation,this.state.hitted="hit"===this.animation,this.state.attacking="punch"===this.animation||"kick"===this.animation,this.state.walking&&(this.velocity=this.state.movement.clone().normalize(),this.velocity.x||this.velocity.y?this.play("walk"):this.play("idle")),(this.state.attacking||this.state.hitted)&&this.velocity.set(this.scale.x,0).normalize(),this.state.attacking&&this.frameTick>2){var i=this.getActorHitCollision(2*this.scale.x,0);i!==!1&&i.emitSignal("hit",this)}var e=this.getCurrentSpeed();this.position.x+=this.velocity.x*e*t,this.position.y=Math.min(70,Math.max(0,this.position.y+this.velocity.y*e*t))},getWorldBBox:function(t,i){var n=this.bbox.width/2,s=this.bbox.height/2;return new e.Rectangle(this.position.x-n+this.bbox.x+(t||0),this.position.y-s+this.bbox.y+(i||0),this.bbox.width,this.bbox.height)},getWorldHitBBox:function(t,i){var n=this.hitBbox.width/2,s=this.hitBbox.height/2;return new e.Rectangle(this.position.x-n+this.hitBbox.x+(t||0),this.position.y-s+this.hitBbox.y+(i||0),this.hitBbox.width,this.hitBbox.height)},getActorHitCollision:function(i,e){var n,s=this.getWorldHitBBox(i,e),o=t.app.state.actors.children;for(var a in o)if(n=o[a],n!==this&&"undefined"!=typeof n.bbox&&n.getWorldBBox().intersects(s))return n;return!1},getCurrentSpeed:function(){return this.speed[this.animation]||0}}).final(),t.Actors.Character.preload=function(t){t.loadImages("shadow")},t.Actors.Player=i.Class(function(){t.Actors.Character.apply(this,arguments),this.input={},this.keymap={right:"right",left:"left",up:"up",down:"down",punch:"p",kick:"o",jump:"l"},this.bindSignal("keydown",this.onKeyEvent),this.bindSignal("keyup",this.onKeyEvent),this.bindSignal("hit",this.onHit),this.bindSignal("destroy",this.onDestroy)}).extends(t.Actors.Character).scope({updateState:function(t){this.state.movement.set(),this.state.walking&&(this.input.attack?this.play(this.input.attack):this.input.jump?this.play("jump"):(this.input.right?(this.state.movement.x=1,this.scale.x=1):this.input.left&&(this.state.movement.x=-1,this.scale.x=-1),this.input.down?this.state.movement.y=1:this.input.up&&(this.state.movement.y=-1))),this.input.attack=!1,this.input.jump=!1},updatePhysics:function(i){t.Actors.Character.prototype.updatePhysics.call(this,i)},onKeyEvent:function(t,i){t===this.keymap.right?this.input.right=i:t===this.keymap.left?this.input.left=i:t===this.keymap.down?this.input.down=i:t===this.keymap.up&&(this.input.up=i),t===this.keymap.punch&&i?this.input.attack="punch":t===this.keymap.kick&&i&&(this.input.attack="kick"),t===this.keymap.jump&&i&&(this.input.jump=!0)},onHit:function(i){this.state.hitted||this.state.jumping||(this.scale.x=-i.scale.x,this.health-=i.strength[i.animation]||10,this.play("hit"),this.health<0&&(t.app.state.playerKilled(this),this.destroy()))},onDestroy:function(){t.app.state.camera.unfollow(this)}}),t.Actors.Player.preload=function(t){t.loadImages("fatguy","indicator")},t.Actors.PlayerTouchScreen=i.Class(function(){t.Actors.Player.apply(this,arguments),this.touch={},this.bindSignal("touchstart",this.onTouchStart),this.bindSignal("touchmove",this.onTouchMove),this.bindSignal("touchend",this.onTouchEnd),this.bindSignal("destroy",this.destroyIndicator)}).extends(t.Actors.Player).scope({onTouchStart:function(i,n,s){var o=t.app.renderer.width/2,a=t.app.renderer.height/2;n<o?this.touch.move||(this.touch.move={id:i,x:n,y:s},this.indicator=new e.Sprite(t.app.tex("indicator")),this.indicator.anchor=new e.Point(.5,.5),this.indicator.position.x=n,this.indicator.position.y=s,t.app.state.foreground.addChild(this.indicator)):s<a?this.input.jump=!0:n<o+o/2?this.input.attack="kick":this.input.attack="punch"},onTouchMove:function(t,i,e){this.touch.move&&this.touch.move.id===t&&(this.input.right=i-this.touch.move.x>10,this.input.left=i-this.touch.move.x<-10,this.input.down=e-this.touch.move.y>10,this.input.up=e-this.touch.move.y<-10)},onTouchEnd:function(t,i,e){this.touch.move&&this.touch.move.id===t&&(this.touch.move=!1,this.input.right=!1,this.input.left=!1,this.input.down=!1,this.input.up=!1,this.destroyIndicator())},destroyIndicator:function(){this.indicator&&(t.app.state.foreground.removeChild(this.indicator),this.indicator=!1)}}),t.Actors.Enemy=i.Class(function(){t.Actors.Character.apply(this,arguments),this.bindSignal("hit",this.onHit),this.follow=!1,this.tick=0,this.health=50,this.speed={walk:25,jump:40,hit:-50,punch:20,kick:10}}).extends(t.Actors.Character).scope({updateState:function(t){if(this.state.walking){var i=this.findNearestPlayer();i!==!1&&(this.state.movement.set(),this.distanceTo(i)>10?this.moveTo(i):this.tick--<=0&&(this.play(Math.random()<.75?"punch":"kick"),this.tick=5+10*Math.random()),this.scale.x=this.position.x>i.position.x?-1:1)}},findNearestPlayer:function(){var i=t.app.state.players,e=1e4;for(var n in i){var s=i[n],o=this.distanceTo(s);(this.follow===!1||o<e)&&(e=o,this.follow=s)}return this.follow&&this.follow.killed&&(this.follow=!1),this.follow},distanceTo:function(t){var i=t.position.x-this.position.x,e=t.position.y-this.position.y;return Math.sqrt(i*i+e*e)},moveTo:function(t,i){var e=this.distanceTo(t);this.state.movement.x=(t.position.x-this.position.x)/e,this.state.movement.y=(t.position.y-this.position.y)/e},onHit:function(t){this.state.hitted||(this.scale.x=-t.scale.x,this.health-=t.strength[t.animation]||10,this.play("hit"),this.health<=0&&this.destroy())}}),t.Actors.Enemy.preload=function(t){t.loadImages("enemyguy")}}(window.Game=window.Game||{},BBQ,PIXI)},function(t,i){!function(t,i,e){t.Actors.Cat=i.Class(function(){t.Actors.Enemy.call(this,"cat"),this.frameSize=new e.Rectangle(0,0,16,16),this.follow=!1,this.tick=0,this.health=1e3,this.strength={punch:10,kick:15},this.speed={walk:35,jump:50,hit:-50,punch:20,kick:10}}).extends(t.Actors.Enemy).properties({}).scope({animations:{idle:{time:.5,frames:[3,4,5]},walk:{time:.5,frames:[0,1,0,2]},hit:{time:2,frames:[0,1,2,3,4,5],next:"idle"}},updateState:function(t){if(this.state.walking){var i=this.findNearestPlayer();i!==!1&&(this.state.movement.set(),this.distanceTo(i)>20?this.moveTo(i):this.tick--<=0&&(this.animation="idle"),this.scale.x=this.position.x>i.position.x?-1:1)}}}),t.Actors.Cat.preload=function(t){t.loadImages("cat")}}(window.Game=window.Game||{},BBQ,PIXI)},function(t,i){!function(t){"use strict";PLAYGROUND.LoadingScreen={logoRaw:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAYCAYAAABKtPtEAAAA+0lEQVRYw+1X0Q3FIAgsjQs4gCu4/xyu4ACO0PdFYmzLQyw1Vvmmyh3HSWFjhnPu2AaJGCNwc+Fr4GtJMNwDrbXDgE8psXP3bfJYBHxN/rX1Tq8AI/kohACcVwI7UeZzwnt/UIZWujzmq3sAFzwFTFosda+E5OYRkIAPIQAWWxJRS8wT+4nRmCuUp7X21CUEye0YnqW1jO1a4Km5vpMtRUrNettdAVz/yEmRzvBwi9CVCeajMcQz2AK+V6dfUwBlVtjpvNtIyD9itEywSQExRrgq7K5Yicwp4E8Yo3lTxpryl3oIaB7eM7hkr9/hRcAiYO5gu/JIRljz2vwANueFK1RCNCwAAAAASUVORK5CYII=",create:function(){this.logo=new PIXI.Sprite(PIXI.Texture.fromImage(this.logoRaw)),this.logo.anchor=new PIXI.Point(.5,1),this.progressBar=new PIXI.Graphics,this.progressBar.position=new PIXI.Point(0,8),this.logo.addChild(this.progressBar),this.app.loader.on("error",this.error,this)},enter:function(){this.app.renderer.backgroundColor=1052688,this.progress=0},leave:function(){console.log("Loading done.")},step:function(t){this.progress+=Math.abs(this.app.loader.progress-this.progress),this.logo.position=new PIXI.Point(Math.floor(this.app.renderer.width/2),Math.floor(this.app.renderer.height/2))},render:function(){var t=this.progressBar,i=this.progress;t.clear(),t.lineStyle(0),t.beginFill(16777215,1),t.drawRect(-32,-2,64*i,4),t.endFill(),t.beginFill(16777215,1),t.drawRect(-34,-2,1,4),t.endFill(),t.beginFill(16777215,1),t.drawRect(33,-2,1,4),t.endFill(),this.app.renderer.render(this.logo)},error:function(t){var i=new PIXI.Text("Error while loading\n"+t,{font:"9px Courier",fill:"#FFFFFF",align:"center"});i.anchor=new PIXI.Point(.5,0),i.position=new PIXI.Point(0,18),this.logo.addChild(i)}},Game.app=playground({paths:{base:"assets/",images:"images/",sounds:"sounds/",atlases:"atlases/"},scale:3,performance:{ticks:0,frame:0,fps:0},create:function(){this.createRenderer(),BBQ.console.status(this.renderer instanceof PIXI.WebGLRenderer?"WebGL":"Canvas"),console.log("Loading game assets...");for(var t in Game){var i=Game[t];if("object"==typeof i)for(var e in i)"function"==typeof i[e].preload&&i[e].preload.call(this,this)}},ready:function(){this.setState(new Game.State.Menu)},step:function(t){},render:function(t){this.performance.frame++,this.performance.ticks+=t,this.performance.ticks>=1&&(this.performance.fps=this.performance.frame,BBQ.console.fps("FPS: "+this.performance.fps),this.performance.ticks=0,this.performance.frame=0)},resize:function(){},keydown:function(t){if("f1"===t.key)return BBQ.console.toggle(),!1},pointerdown:function(t){}})}(window)},function(t,i){!function(t,i,e){"use strict";t.Fatality=i.Class(function(){e.Sprite.call(this,t.app.tex("fatality")),this.anchor=new e.Point(.5,.5),this.timer=100}).extends(e.Sprite).scope({updateTransform:function(){this.position.x=t.app.renderer.width/2,this.position.y=t.app.renderer.height/2.5-Math.abs(100*Math.cos((this.timer/100+50)*Math.PI)*Math.sin(this.timer/200*Math.PI)),e.Sprite.prototype.updateTransform.call(this),this.timer>0&&this.timer--}}),t.State={},t.State.Menu=i.Class(function(){i.State.apply(this,arguments);var e=new t.State.Menu.Button(t.app.tex("singleplayer")),n=new t.State.Menu.Button(t.app.tex("multiplayer")),s=new t.State.Menu.Button(t.app.tex("fullscreen"));e.offset.y=-25,n.offset.y=0,s.offset.y=25,e.click=function(){t.app.singleplayer=!0,t.app.setState(new t.State.Stage)},n.click=function(){t.app.singleplayer=!1,t.app.setState(new t.State.Stage)},s.click=function(){i.Utils.fullscreen()},e.bind(),n.bind(),s.bind(),this.addChild(e),this.addChild(n),this.addChild(s)}).extends(i.State),t.State.Menu.Button=i.Class(function(){e.Sprite.apply(this,arguments),this.anchor=new e.Point(.5,.5),this.interactive=!0,this.offset=new e.Point}).extends(e.Sprite).scope({click:function(){console.log("asd1")},bind:function(){this.on("mousedown",this.click.bind(this)),this.on("touchstart",this.click.bind(this))},updateTransform:function(){var i=t.app.renderer.width/2,n=t.app.renderer.height/2;this.position.x=i+this.offset.x,this.position.y=n+this.offset.y,e.Sprite.prototype.updateTransform.call(this)}}),t.State.Menu.preload=function(t){t.loadImages("singleplayer","multiplayer","fullscreen")},t.State.Stage=function(){i.State.call(this),this.players=[],this.timer=10},i.Utils.extends(t.State.Stage,i.State,{enter:function(){this.background.addBackground("townsky",{scale:new e.Point(.1,.1)}),this.background.addBackground("townbg",{scale:new e.Point(.5,1),offset:new e.Point(0,-200),vtiled:!1,htiled:!0}),this.background.addBackground("townfg",{scale:new e.Point(.65,1),offset:new e.Point(0,-200),vtiled:!1,htiled:!0}),this.background.addBackground("road",{scale:new e.Point(1,1),offset:new e.Point(0,-22),vtiled:!1,htiled:!0});var i=new t.Actors.PlayerTouchScreen("fatguy");i.position.x=60,this.actors.addChild(i),this.camera.follow(i),this.players.push(i);var n=new t.Actors.Cat("cat");n.position.x=400,this.actors.addChild(n),t.app.singleplayer||(i=new t.Actors.Player("fatguy"),i.position.x=100,i.keymap={right:"d",left:"a",down:"s",up:"w",punch:"t",kick:"y",jump:"g"},this.camera.follow(i),this.actors.addChild(i),this.players.push(i))},step:function(){if(i.State.prototype.step.apply(this,arguments),this.players.length>0&&this.timer--<0){this.timer=80+200*Math.random();var e=new t.Actors.Enemy("enemyguy");e.position.x=400*(Math.random()<.5?-1:1),e.position.y=100*Math.random(),e.position.x-=this.camera.getCenter(),this.actors.addChild(e)}},keydown:function(t){this.players.forEach(function(i){i.enqueueEvent("keydown",t.key,!0,t)},this)},keyup:function(t){this.players.forEach(function(i){i.enqueueEvent("keyup",t.key,!1,t)},this)},touchstart:function(t){this.players.forEach(function(i){i.enqueueEvent("touchstart",t.identifier,t.x,t.y,!1,t)},this)},touchmove:function(t){this.players.forEach(function(i){i.enqueueEvent("touchmove",t.identifier,t.x,t.y,!1,t)},this)},touchend:function(t){this.players.forEach(function(i){i.enqueueEvent("touchend",t.identifier,t.x,t.y,!1,t)},this)},playerKilled:function(i){var e=this.players.indexOf(i);e!==-1&&this.players.splice(e,1),this.players.length<=0&&this.foreground.addChild(new t.Fatality)}}),t.Stages={},t.Stages._={preload:function(t){t.loadImages("fatality")}},t.Stages.town={preload:function(t){t.loadImages("road","townsky","townbg","townfg")},appearance:{ground:"road",parallax:[{texture:"townsky",vscale:1,hscale:1}]},sections:[{waves:[["SkinHead","SkinHead","SkinHead"]]}],next:"pub"}}(window.Game=window.Game||{},BBQ,PIXI)},function(t,i,e){"use strict";var n=e(0),s=(e.n(n),e(1)),o=(e.n(s),e(2)),a=(e.n(o),e(3)),r=(e.n(a),e(4)),h=(e.n(r),e(5)),c=(e.n(h),e(7)),l=(e.n(c),e(6));e.n(l)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBiOTU1YzJiMjU1MTk4N2VjYzVkMCIsIndlYnBhY2s6Ly8vLi9zcmMvYmJxL2JicS1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9iYnEvYmJxLWNvbnNvbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JicS9iYnEtcGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmJxL2JicS1zdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9hY3RvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvY3JlYXR1cmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUvc3RhZ2VzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwidmFsdWUiLCJkIiwibmFtZSIsImdldHRlciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwibyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkJCUSIsIlV0aWxzIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwicHJvcCIsImxlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImV4dGVuZHMiLCJjbGFzc2EiLCJjbGFzc2IiLCJwcm90byIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiZnVsbHNjcmVlbiIsImVuYWJsZSIsImJvZHkiLCJkb2N1bWVudCIsInJlcXVlc3RGdWxsc2NyZWVuIiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbFNjcmVlbiIsImNsb3NlRnVsbHNjcmVlbiIsImNsb3NlRnVsbFNjcmVlbiIsIndlYmtpdENsb3NlRnVsbFNjcmVlbiIsIm1vekNsb3NlRnVsbFNjcmVlbiIsIm1zQ2xvc2VGdWxsU2NyZWVuIiwid2luZG93IiwiQ2xhc3MiLCJjdG9yIiwidHlwZSIsImV4dGVuZGVkIiwiY29uc29sZSIsImVycm9yIiwidGhpcyIsInByb3BlcnRpZXMiLCJwcm9wcyIsImRlZmluZVByb3BlcnRpZXMiLCJzY29wZSIsImZpbmFsIiwiRE9NIiwiZWxlbWVudCIsIkVsZW1lbnQiLCJjb250ZXh0Iiwib24iLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBseSIsImNzcyIsInN0eWxlIiwiYXBwZW5kIiwibm9kZSIsImFwcGVuZENoaWxkIiwiYXBwZW5kVG8iLCJpZCIsImlkTmFtZSIsImNsYXNzIiwiY2xhc3NOYW1lIiwidGV4dCIsImNvbnRlbnQiLCJ0ZXh0Q29udGVudCIsImh0bWwiLCJpbm5lckhUTUwiLCJkb25lIiwic3ViaW5mbyIsImNyZWF0ZUVsZW1lbnQiLCJtYXJnaW5SaWdodCIsImluZm9iYXIiLCJsb2dzIiwiY29udGFpbmVyIiwiZGlzcGxheSIsInNob3dPblJlYWR5Iiwic3RhdHVzIiwiZnBzIiwibG9nIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwic2hvdyIsImhpZGUiLCJ0b2dnbGUiLCJldmVudCIsImluZm8iLCJ3YXJuIiwiX3N1cGVyIiwiY29sb3IiLCJQTEFZR1JPVU5EIiwiUElYSSIsIlNDQUxFX01PREVTIiwiREVGQVVMVCIsIk5FQVJFU1QiLCJERUZBVUxUX1JFTkRFUl9PUFRJT05TIiwiYXV0b1Jlc2l6ZSIsImdldEFzc2V0RW50cnkiLCJBcHBsaWNhdGlvbiIsImNyZWF0ZVJlbmRlcmVyIiwib3B0aW9ucyIsInJlbmRlcmVyIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwicm91bmRQaXhlbHMiLCJzY2FsZSIsImtlZXBBc3BlY3QiLCJiaW5kIiwidmlldyIsInByb3BXaWR0aCIsInByb3BIZWlnaHQiLCJuZXdXaWR0aCIsIm5ld0hlaWdodCIsInJlc2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwidGV4IiwiaW1hZ2UiLCJzaGFyZWQiLCJpbWFnZUluc3QiLCJpbWFnZXMiLCJJbWFnZSIsIlRleHR1cmUiLCJmcm9tSW1hZ2UiLCJzcmMiLCJCYXNlVGV4dHVyZSIsInBhdGgiLCJmb2xkZXIiLCJkZWZhdWx0RXh0ZW5zaW9uIiwidGVzdCIsImtleSIsInNwbGl0IiwicG9wIiwiZXh0IiwidXJsIiwiUG9pbnQiLCJzZXQiLCJ4IiwieSIsIm11bCIsInNjYWxhciIsImRpdiIsIk1hdGgiLCJzcXJ0Iiwibm9ybWFsaXplIiwiUmVjdGFuZ2xlIiwiaW50ZXJzZWN0cyIsInJlY3QiLCJBY3RvciIsIlNwcml0ZSIsInNpZ25hbHMiLCJldmVudHMiLCJraWxsZWQiLCJlbWl0U2lnbmFsIiwic2lnbmFsIiwic2xpY2VkQXJndW1lbnRzIiwiQXJyYXkiLCJzbGljZSIsImZvckVhY2giLCJiaW5kU2lnbmFsIiwicHVzaCIsInVuYmluZFNpZ25hbCIsImZpbHRlciIsImNsZWFyU2lnbmFsIiwiZW5xdWV1ZUV2ZW50IiwiYXJncyIsImRlcXVldWVFdmVudCIsInVwZGF0ZSIsImRlbHRhIiwiY29uY2F0IiwiZGVzdHJveSIsInBhcmVudCIsInRvRGVsZXRlIiwiQW5pbWF0ZWRBY3RvciIsImFuaW1hdGlvbnMiLCJpZGxlIiwidGltZSIsImZyYW1lcyIsImZyYW1lVGljayIsImZyYW1lSW5kZXgiLCJhbmltYXRpb24iLCJwbGF5IiwicmVzdGFydCIsIm5leHQiLCJmbG9vciIsIkNhbWVyYSIsIkNvbnRhaW5lciIsInVwZGF0ZVRyYW5zZm9ybSIsIl9jeCIsIl9jeSIsInBvc2l0aW9uIiwiRm9sbG93Q2FtZXJhIiwiZm9sbG93ZWQiLCJmb2xsb3ciLCJhY3RvciIsImluZGV4T2YiLCJ1bmZvbGxvdyIsImluZGV4Iiwic3BsaWNlIiwiZ2V0Q2VudGVyIiwiX3giLCJQYXJhbGxheEJhY2tncm91bmQiLCJjYW1lcmEiLCJhZGRCYWNrZ3JvdW5kIiwiaHRpbGVkIiwidnRpbGVkIiwiR2FtZSIsImFwcCIsImJnIiwiZXh0cmFzIiwiVGlsaW5nU3ByaXRlIiwicGFyYWxsYXhTY2FsZSIsInBhcmFsbGF4T2Zmc2V0Iiwib2Zmc2V0IiwiYWRkQ2hpbGQiLCJjaGlsZHJlbiIsInRpbGVQb3NpdGlvbiIsInRleHR1cmUiLCJTdGF0ZSIsImJhY2tncm91bmQiLCJhY3RvcnMiLCJmb3JlZ3JvdW5kIiwic3RlcCIsInNvcnQiLCJzb3J0QWN0b3JzRnVuYyIsInBlcmZvcm1MYXllciIsInJlbmRlciIsImxheWVyIiwiYWN0aW9uIiwiYWN0b3JGdW5jIiwiYWN0b3IxIiwiYWN0b3IyIiwiQWN0b3JzIiwiQ2hhcmFjdGVyIiwiYW5jaG9yIiwiZnJhbWVTaXplIiwic3RhdGUiLCJtb3ZlbWVudCIsInZlbG9jaXR5IiwiYmJveCIsImhpdEJib3giLCJoZWFsdGgiLCJzdHJlbmd0aCIsInB1bmNoIiwia2ljayIsInNwZWVkIiwid2FsayIsImp1bXAiLCJoaXQiLCJjcm9wIiwidHJpbSIsImNsb25lIiwidXBkYXRlQW5pbUZyYW1lIiwic2luIiwiUEkiLCJ1cGRhdGVTdGF0ZSIsInVwZGF0ZVBoeXNpY3MiLCJfdXBkYXRlVXZzIiwid2Fsa2luZyIsImp1bXBpbmciLCJoaXR0ZWQiLCJhdHRhY2tpbmciLCJnZXRBY3RvckhpdENvbGxpc2lvbiIsImdldEN1cnJlbnRTcGVlZCIsIm1pbiIsIm1heCIsImdldFdvcmxkQkJveCIsImdldFdvcmxkSGl0QkJveCIsIl9iYm94IiwiYWluZCIsInByZWxvYWQiLCJsb2FkSW1hZ2VzIiwiUGxheWVyIiwiaW5wdXQiLCJrZXltYXAiLCJyaWdodCIsImxlZnQiLCJ1cCIsImRvd24iLCJvbktleUV2ZW50Iiwib25IaXQiLCJvbkRlc3Ryb3kiLCJhdHRhY2siLCJvdGhlciIsInBsYXllcktpbGxlZCIsIlBsYXllclRvdWNoU2NyZWVuIiwidG91Y2giLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJkZXN0cm95SW5kaWNhdG9yIiwiX3Njcmh3IiwiX3NjcmhoIiwibW92ZSIsImluZGljYXRvciIsIkVuZW15IiwidGljayIsInBsYXllciIsImZpbmROZWFyZXN0UGxheWVyIiwiZGlzdGFuY2VUbyIsIm1vdmVUbyIsInJhbmRvbSIsInBsYXllcnMiLCJjdXJyZW50RGlzdGFuY2UiLCJwaW5kIiwicGxheWVyRGlzdGFuY2UiLCJkaXN0YW5jZSIsIkNhdCIsIkxvYWRpbmdTY3JlZW4iLCJsb2dvUmF3IiwibG9nbyIsInByb2dyZXNzQmFyIiwiR3JhcGhpY3MiLCJsb2FkZXIiLCJlbnRlciIsImJhY2tncm91bmRDb2xvciIsInByb2dyZXNzIiwibGVhdmUiLCJhYnMiLCJnIiwiY2xlYXIiLCJsaW5lU3R5bGUiLCJiZWdpbkZpbGwiLCJkcmF3UmVjdCIsImVuZEZpbGwiLCJUZXh0IiwiZm9udCIsImZpbGwiLCJhbGlnbiIsInBsYXlncm91bmQiLCJwYXRocyIsImJhc2UiLCJzb3VuZHMiLCJhdGxhc2VzIiwicGVyZm9ybWFuY2UiLCJ0aWNrcyIsImZyYW1lIiwiV2ViR0xSZW5kZXJlciIsIkdhbWVfQ2hpbGQiLCJyZWFkeSIsInNldFN0YXRlIiwiTWVudSIsImtleWRvd24iLCJwb2ludGVyZG93biIsIkZhdGFsaXR5IiwidGltZXIiLCJjb3MiLCJzcCIsIkJ1dHRvbiIsIm1wIiwiZnMiLCJjbGljayIsInNpbmdsZXBsYXllciIsIlN0YWdlIiwiaW50ZXJhY3RpdmUiLCJjaGFyYSIsImNhdCIsImVuZW15IiwiZSIsImtleXVwIiwidG91Y2hzdGFydCIsImlkZW50aWZpZXIiLCJ0b3VjaG1vdmUiLCJ0b3VjaGVuZCIsImluZCIsIlN0YWdlcyIsIl8iLCJ0b3duIiwiYXBwZWFyYW5jZSIsImdyb3VuZCIsInBhcmFsbGF4IiwidnNjYWxlIiwiaHNjYWxlIiwic2VjdGlvbnMiLCJ3YXZlcyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9iYnFfYmJxX2Jhc2VfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9iYnFfYmJxX2NvbnNvbGVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9iYnFfYmJxX3BpeGlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19iYnFfYmJxX3N0YXRlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfZ2FtZV9hY3RvcnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9nYW1lX2NyZWF0dXJlc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2dhbWVfc3RhZ2VzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZ2FtZV9nYW1lX18iXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBNkRBLE9BakNBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBSyxFQUFBLFNBQUFLLEdBQTJDLE1BQUFBLElBRzNDVixFQUFBVyxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FDLE9BQUFDLGVBQUFaLEVBQUFTLEdBQ0FJLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTCxLQUtBYixFQUFBbUIsRUFBQSxTQUFBZixHQUNBLEdBQUFTLEdBQUFULEtBQUFnQixXQUNBLFdBQTJCLE1BQUFoQixHQUFBLFNBQzNCLFdBQWlDLE1BQUFBLEdBRWpDLE9BREFKLEdBQUFXLEVBQUFFLEVBQUEsSUFBQUEsR0FD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RStYLEdBQ2pDbFosRUFBb0IsSUFFakVvWixHQURxRHBaLEVBQW9CbUIsRUFBRWdZLEdBQzdCblosRUFBb0IsSUFFbEVxWixHQURzRHJaLEVBQW9CbUIsRUFBRWlZLEdBQ2hDcFosRUFBb0IsSUFFaEVzWixHQURvRHRaLEVBQW9CbUIsRUFBRWtZLEdBQzNCclosRUFBb0IsSUFFbkV1WixHQUR1RHZaLEVBQW9CbUIsRUFBRW1ZLEdBQ2pDdFosRUFBb0IsSUFFaEV3WixHQURvRHhaLEVBQW9CbUIsRUFBRW9ZLEdBQ2hDdlosRUFBb0IsR0FDWkEsR0FBb0JtQixFQUFFcVkiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb3J5IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vcnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9idWlsZC9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKiBcclxuICogYmJxLWJhc2UuanNcclxuICogXHJcbiAqIEJCUSBlbmdpbmUgY29yZSBmdW5jdGlvbmFsaXR5LlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICogXHJcbiAqIENoYW5nZWxvZzpcclxuICogKDI2LjAxLjIwMTYpXHJcbiAqXHRcdC0gRG9kYcWCZW0gbm93eSB1dGlsaXR5IGRsYSBqxJl6eWthIEpTIC0gQkJRLkNsYXNzXHJcbiAqICgzMC4xMi4yMDE1KVxyXG4gKlx0XHQtIEJCUS5VbmlsaXMuZnVsbHNjcmVlbigpIHVtb8W8bGl3aWEgcHJ6ZWrFm2NpZSB3IHRyeWIgcGXFgm5vZWtyYW5vd3lcclxuICovXHJcblxyXG4vKipcclxuICogQkJRIENvcmUgTW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihCQlEpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBVc2VmdWwgY29tbW9uIHV0aWxpdGllcy5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMgPSB7XHJcblx0XHQvKipcclxuXHRcdCAqIEFzc2lnbnMgdHdvIG9yIG1vcmUgb2JqZWN0cyBpbnRvIHRhcmdldCBvbmUuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSAuLi5zb3VyY2VcclxuXHRcdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGFyZ2V0IGNoYWluaW5nIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRhc3NpZ246IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odGFyZ2V0LCBzb3VyY2UpIHtcclxuXHRcdFx0Zm9yKHZhciBpID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcHJvcDsgaSA8IGxlbjsgaSsrKSB7XHJcblx0XHRcdFx0c291cmNlID0gYXJndW1lbnRzW2ldO1xyXG5cdFx0XHRcdGZvcihwcm9wIGluIHNvdXJjZSkge1xyXG5cdFx0XHRcdFx0dGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEV4dGVuZHMgY2xhc3NlcyBiZXR3ZWVuIHByb3RvdHlwZXMuXHJcblx0XHQgKiBBdXRvbWF0ZXMgY29uc3RydWN0b3IgcmVhc3NpZ24uXHJcblx0XHQgKiBcclxuXHRcdCAqIEBkZXByZWNhdGVkIEZ1bmN0aW9uYWxpdHkgZGVwcmVjYXRlZCwgY2hlY2tvdXQgZm9yIEJCUS5DbGFzcyBpbnN0ZWFkXHJcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbGFzc2EgQ2xhc3MgdG8gcHJlcGFyZS5cclxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNsYXNzYiBFeHRlbmRzIGZyb20gdGhpcyBjbGFzcy5cclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBQcm90b3R5cGUgbmV3IGFzc2lnbnMuXHJcblx0XHQgKi9cclxuXHRcdGV4dGVuZHM6IGZ1bmN0aW9uKGNsYXNzYSwgY2xhc3NiLCBwcm90bykge1xyXG5cdFx0XHRCQlEuVXRpbHMuYXNzaWduKFxyXG5cdFx0XHRcdGNsYXNzYS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGNsYXNzYi5wcm90b3R5cGUpLCB7XHJcblx0XHRcdFx0XHRjb25zdHJ1Y3RvcjogY2xhc3NhXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRwcm90b1xyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbmFibGVzL2Rpc2FibGVzIGZ1bGxzY3JlZW4gZmVhdHVyZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCb29sZWFufSBlbmFibGUgRW5hYmxlIGZ1bGxzY3JlZW4uXHJcblx0XHQgKi9cclxuXHRcdGZ1bGxzY3JlZW46IGZ1bmN0aW9uKGVuYWJsZSkge1xyXG5cdFx0XHQvLyByZXF1ZXN0IGZ1bGxzY3JlZW5cclxuXHRcdFx0aWYodHlwZW9mIGVuYWJsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZW5hYmxlKSB7XHJcblx0XHRcdFx0dmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxyXG5cdFx0XHRcdFx0cmVxdWVzdEZ1bGxzY3JlZW4gPSBib2R5LnJlcXVlc3RGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym9keS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJvZHkubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRib2R5Lm1zUmVxdWVzdEZ1bGxTY3JlZW47XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gaW52b2tlIHJlcXVlc3RcclxuXHRcdFx0XHRpZihyZXF1ZXN0RnVsbHNjcmVlbikge1xyXG5cdFx0XHRcdFx0cmVxdWVzdEZ1bGxzY3JlZW4uY2FsbChib2R5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY2xvc2UgZnVsbHNjcmVlblxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHR2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXHJcblx0XHRcdFx0XHRjbG9zZUZ1bGxzY3JlZW4gPSBib2R5LmNsb3NlRnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQgIGJvZHkud2Via2l0Q2xvc2VGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdCAgYm9keS5tb3pDbG9zZUZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICBib2R5Lm1zQ2xvc2VGdWxsU2NyZWVuO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIGludm9rZSByZXF1ZXN0XHJcblx0XHRcdFx0aWYoY2xvc2VGdWxsc2NyZWVuKSB7XHJcblx0XHRcdFx0XHRjbG9zZUZ1bGxzY3JlZW4uY2FsbChib2R5KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENsYXNzIGJ1aWxkZXIgdXRpbGl0eS5cclxuXHQgKiBTaW1wbGUgdXNhZ2U6XHJcblx0ICogTXlDbGFzcyA9IENsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdCAqICAgICAvLyB0aGlzIGlzIG15IGNvbnN0cnVjdG9yXHJcblx0ICogICAgIHRoaXMuZm9vID0gMTtcclxuXHQgKiB9KVxyXG5cdCAqIC5leHRlbmRzKEV4dGVuZGVkQ2xhc3MpXHJcblx0ICogLnByb3BldGllcyh7XHJcblx0ICogICAgIC8vIHRoaXMgaXMgbXkgb3duIGNsYXNzIHByb3BlcnR5XHJcblx0ICogICAgIGZvb3Byb3A6IHtcclxuXHQgKiAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcblx0ICogICAgICAgICAgICAgcmV0dXJuIDEyMztcclxuXHQgKiAgICAgICAgIH1cclxuXHQgKiAgICAgfVxyXG5cdCAqIH0pXHJcblx0ICogLnNjb3BlKHtcclxuXHQgKiAgICAgLy8gdGhpcyBpcyBteSBjbGFzcyBib2R5XHJcblx0ICogICAgIGJhcjogZnVuY3Rpb24oKSB7XHJcblx0ICogICAgICAgICByZXR1cm4gdGhpcy5mb28rKztcclxuXHQgKiAgICAgfSxcclxuXHQgKiAgICAgcGVlazogZnVuY3Rpb24oKSB7XHJcblx0ICogICAgICAgICByZXR1cm4gdGhpcy5mb287XHJcblx0ICogICAgIH1cclxuXHQgKiB9KTtcclxuXHQgKiBcclxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2xhc3MgYnVpbGRlci5cclxuXHQgKi9cclxuXHR3aW5kb3cuQ2xhc3MgPSBCQlEuQ2xhc3MgPSBmdW5jdGlvbihjdG9yKSB7XHJcblx0XHRpZih0eXBlb2YgY3Rvci50eXBlID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHQvLyBzdG9yZSBjbGFzcyB0eXBlXHJcblx0XHRcdGN0b3IudHlwZSA9IGN0b3I7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZWRlZmluZSBjbGFzcyBwcm90b3R5cGVcclxuXHRcdFx0Y3Rvci5wcm90b3R5cGUgPSB7XHJcblx0XHRcdFx0Y29uc3RydWN0b3I6IGN0b3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBbGxvd3MgZXh0ZW5kaW5nIGNsYXNzIGJ5IGFub3RoZXIgb25lLlxyXG5cdFx0ICogU3VwcG9ydHMgc2luZ2xlIGluaGVyaXRhbmNlLlxyXG5cdFx0ICogSW5oZXJpdGFuY2UgcmVtb3ZlcyBvbGQgcHJvdG90eXBlIHZhbHVlcy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZXh0ZW5kZWQgQ2xhc3MgdG8gZXh0ZW5kLlxyXG5cdFx0ICogQHJldHVybiB7RnVuY3Rpb259IENoYWluaW5nICp0aGlzKiBjbGFzcyBidWlsZGVyLlxyXG5cdFx0ICovXHJcblx0XHRjdG9yLmV4dGVuZHMgPSBmdW5jdGlvbihleHRlbmRlZCkge1xyXG5cdFx0XHRpZih0eXBlb2YgZXh0ZW5kZWQgIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdFeHRlbmRpbmcgY2xhc3MgYnkgbm9uLWNsYXNzIG9iamVjdCBpcyB1bmFsbG93ZWQnKTtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlIGNsYXNzIGluaGVyaXRhbmNlXHJcblx0XHRcdHRoaXMudHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGV4dGVuZGVkLnByb3RvdHlwZSk7XHJcblx0XHRcdHRoaXMudHlwZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB0aGlzLnR5cGU7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBEZWZpbmUgcHJvcGVydGllcyBmb3IgY2xhc3MuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBQcm9wZXJ0aWVzIHNwZWNpZmllZCBvYmplY3QuXHJcblx0XHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2hhaW5pbmcgKnRoaXMqIGNsYXNzIGJ1aWxkZXIuXHJcblx0XHQgKi9cclxuXHRcdGN0b3IucHJvcGVydGllcyA9IGZ1bmN0aW9uKHByb3BzKSB7XHJcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMudHlwZS5wcm90b3R5cGUsIHByb3BzKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGx5IHNjb3BlIGJvZHkgdG8gdGhlIGNsYXNzIHByb3RvdHlwZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHNjb3BlIFNjb3BlIG9iamVjdCB0byBhcHBseSBhcyBjbGFzcyBwcm90b3R5cGUuXHJcblx0XHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2hhaW5pbmcgKnRoaXMqIGNsYXNzIGJ1aWxkZXIuXHJcblx0XHQgKi9cclxuXHRcdGN0b3Iuc2NvcGUgPSBmdW5jdGlvbihzY29wZSkge1xyXG5cdFx0XHRCQlEuVXRpbHMuYXNzaWduKHRoaXMudHlwZS5wcm90b3R5cGUsIHNjb3BlKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE1ha2UgY2xhc3MgZmluYWwuXHJcblx0XHQgKiBEaXNhYmxlcyBjbGFzcyBidWlsZGVyIGZ1bmN0aW9uYWxpdHkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBDaGFpbmluZyAqdGhpcyogd2l0aG91dCBjbGFzcyBidWlsZGVyLlxyXG5cdFx0ICovXHJcblx0XHRjdG9yLmZpbmFsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnR5cGUuc2NvcGU7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnR5cGUucHJvcGVydGllcztcclxuXHRcdFx0ZGVsZXRlIHRoaXMudHlwZS5leHRlbmRzO1xyXG5cdFx0XHRkZWxldGUgdGhpcy50eXBlLnR5cGU7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gcmV0dXJucyBjbGFzcyBidWlsZGVyXHJcblx0XHRyZXR1cm4gY3RvcjtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENyZWF0ZXMgRE9NIG1vZGlmaWVyLlxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgU2luZ2xlIERPTSBlbGVtZW50LlxyXG5cdCAqIEByZXR1cm5zIHtCQlEuRE9NLkVsZW1lbnR9IEVsZW1lbnQgQkJRIG1vZGlmaWVyLlxyXG5cdCAqL1xyXG5cdEJCUS5ET00gPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHRyZXR1cm4gbmV3IEJCUS5ET00uRWxlbWVudChlbGVtZW50KTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIERPTSBlbGVtZW50IG1vZGlmaWVyIHV0aWxpdHkgY2xhc3MuXHJcblx0ICogXHJcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGV4dFxyXG5cdCAqL1xyXG5cdEJCUS5ET00uRWxlbWVudCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHRcdHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcblx0fTtcclxuXHRcclxuXHQvLyBCQlEuRE9NLkVsZW1lbnQgY2xhc3MgcHJvdG90eXBlXHJcblx0QkJRLkRPTS5FbGVtZW50LnByb3RvdHlwZSA9IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGN0b3IuXHJcblx0XHQgKi9cclxuXHRcdGNvbnN0cnVjdG9yOiBCQlEuRE9NLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEJpbmRzIGV2ZW50IHRvIHRoZSBhc3NpZ25lZCBlbGVtZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBcclxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0b246IGZ1bmN0aW9uKHR5cGUsIGNhbGxiYWNrKSB7XHJcblx0XHRcdGlmKHRoaXMuY29udGV4dC5hZGRFdmVudExpc3RlbmVyKSB7XHJcblx0XHRcdFx0dGhpcy5jb250ZXh0LmFkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcy5jb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdC8vIG91cHMsIGZ1bmN0aW9uIG5vdCByZWNvcmduaXplZFxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ05vIGV2ZW50IGJpbmRpbmcgZnVuY3Rpb25hbGl0eSBmb3VuZCEnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFzc2lnbnMgZ2l2ZW4gQ1NTIHByb3BlcnRpZXMgdG8gSFRNTCBlbGVtZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQ1NTIHByb3BlcnRpZXMuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0Y3NzOiBmdW5jdGlvbihwcm9wcykge1xyXG5cdFx0XHRCQlEuVXRpbHMuYXNzaWduKHRoaXMuY29udGV4dC5zdHlsZSwgcHJvcHMpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyBIVE1MIGVsZW1lbnQgaW50byAqdGhpcyouXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgSFRNTCBlbGVtZW50IHRvIGFwcGVuZC5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRhcHBlbmQ6IGZ1bmN0aW9uKG5vZGUpIHtcclxuXHRcdFx0Zm9yKHZhciBpIGluIGFyZ3VtZW50cykge1xyXG5cdFx0XHRcdG5vZGUgPSBhcmd1bWVudHNbaV07IC8vIHJlLWFzc2lnblxyXG5cdFx0XHRcdHRoaXMuY29udGV4dC5hcHBlbmRDaGlsZChcclxuXHRcdFx0XHRcdG5vZGUgaW5zdGFuY2VvZiBCQlEuRE9NLkVsZW1lbnQgP1xyXG5cdFx0XHRcdFx0XHRub2RlLmNvbnRleHQgOiBub2RlXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyAqdGhpcyogZWxlbWVudCBpbnRvIHNwZWNpZmllZCBlbGVtZW50IGFzIHRhcmdldC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IFRhcmdldCBIVE1MIGVsZW1lbnQuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0YXBwZW5kVG86IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0XHRpZih0YXJnZXQgaW5zdGFuY2VvZiBCQlEuRE9NLkVsZW1lbnQpIHtcclxuXHRcdFx0XHR0YXJnZXQuY29udGV4dC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2VzICp0aGlzKiBlbGVtZW50IGlkIGF0dHJpYnV0ZSB2YWx1ZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGlkTmFtZSBFbGVtZW50IG5ldyBpZCB2YWx1ZS5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRpZDogZnVuY3Rpb24oaWROYW1lKSB7XHJcblx0XHRcdHRoaXMuY29udGV4dC5pZCA9IGlkTmFtZTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZXMgKnRoaXMqIGVsZW1lbnQgY2xhc3MgYXR0cmlidXRlIHZhbHVlLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lIEVsZW1lbnQgbmV3IGNsYXNzIG5hbWUuXHJcblx0XHQgKiBAcmV0dXJuIHtCQlEuRE9NLkVsZW1lbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0Y2xhc3M6IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xyXG5cdFx0XHR0aGlzLmNvbnRleHQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hhbmdlcyAqdGhpcyogZWxlbWVudCdzIHRleHQgY29udGVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgSFRNTCBlbnRyaWVzIGFzIHN0cmluZy5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHR0ZXh0OiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdHRoaXMuY29udGV4dC50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2VzICp0aGlzKiBlbGVtZW50J3MgY29udGVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnQgSFRNTCBlbnRyaWVzIGFzIHN0cmluZy5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRodG1sOiBmdW5jdGlvbihjb250ZW50KSB7XHJcblx0XHRcdHRoaXMuY29udGV4dC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyBlbGVtZW50IGludG8gZ2l2ZW4gdGFyZ2V0IChpZiBzcGVjaWZpZWQpLCBhbmQgcmV0dXJuc1xyXG5cdFx0ICogRE9NIHJhdyAqdGhpcyogSFRNTCBlbGVtZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fEJCUS5ET00uRWxlbWVudH0gdGFyZ2V0IFRhcmdldCBIVE1MIGVsZW1lbnQuXHJcblx0XHQgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gUmF3IEhUTUwgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0ZG9uZTogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHRcdGlmKHR5cGVvZiB0YXJnZXQgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0dGhpcy5hcHBlbmRUbyh0YXJnZXQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzLmNvbnRleHQ7XHJcblx0XHR9XHJcblx0fTtcclxufSkod2luZG93LkJCUSA9IHdpbmRvdy5CQlEgfHwge30pO1xyXG5cclxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyogXHJcbiAqIGJicS1jb25zb2xlLmpzXHJcbiAqIFxyXG4gKiBCQlEgbW9kdWxlIGZvciBleHRlbmQgY29uc29sZS5sb2cgYnkgY3VzdG9taXplZCBvbi1zY3JlZW4gbG9nZ2VyLlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogQkJRIENvbnNvbGUgTW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihCQlEpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBCQlEgb24tc2NyZWVuIGNvbnNvbGUgbWFuYWdlci5cclxuXHQgKi9cclxuXHRCQlEuY29uc29sZSA9IChmdW5jdGlvbigpIHtcclxuXHRcdC8vIGNyZWF0ZXMgc3RhdHVzIGVsZW1lbnRzXHJcblx0XHR2YXIgc3ViaW5mbyA9IFtcclxuXHRcdFx0QkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpXHJcblx0XHRcdFx0LmNzcyh7bWFyZ2luUmlnaHQ6ICc4cHgnfSlcclxuXHRcdFx0XHQuY29udGV4dCxcclxuXHRcdFx0QkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpXHJcblx0XHRcdFx0LnRleHQoJy0tLScpXHJcblx0XHRcdFx0LmNvbnRleHRcclxuXHRcdF07XHJcblx0XHRcclxuXHRcdC8vIGNyZWF0ZXMgY29tbW9uIGluZm9iYXJcclxuXHRcdHZhciBpbmZvYmFyID0gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcclxuXHRcdFx0LmFwcGVuZChzdWJpbmZvWzBdLCBzdWJpbmZvWzFdKVxyXG5cdFx0XHQuY29udGV4dDtcclxuXHRcdFxyXG5cdFx0Ly8gY3JlYXRlcyBsb2dzIGNvbnRhaW5lclxyXG5cdFx0dmFyIGxvZ3MgPSBCQlEuRE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJykpXHJcblx0XHRcdC5jb250ZXh0O1xyXG5cdFx0XHJcblx0XHQvLyBjcmVhdGVzIGNvbnRhaW5lciBlbGVtZW50IGFuZCBhcHBlbmRzIHRvIGJvZHlcclxuXHRcdHZhciBjb250YWluZXIgPSBCQlEuRE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxyXG5cdFx0XHQuaWQoJ2dhbWUtbG9nZ2VyJylcclxuXHRcdFx0LmNzcyh7ZGlzcGxheTogJ25vbmUnfSlcclxuXHRcdFx0LmFwcGVuZChpbmZvYmFyLCBsb2dzKVxyXG5cdFx0XHQuZG9uZShkb2N1bWVudC5ib2R5KTtcclxuXHRcdFxyXG5cdFx0Ly8gcHVibGljIHNjb3BlXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU2hvd3MgY29uc29sZSBjb250YWluZXIgd2hlbiBkb2N1bWVudCdzIHJlYWR5LlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0c2hvd09uUmVhZHk6IHRydWUsXHJcblx0XHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ2hhbmdlcyBzdGF0aWMgc3RhdHVzIGNvbnRlbnQuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBOZXcgY29udGVudC5cclxuXHRcdFx0ICogQHJldHVybiB7T2JqZWN0fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0XHRzdWJpbmZvWzBdLnRleHRDb250ZW50ID0gY29udGVudDtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHRcdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDaGFuZ2VzIGR5bmFtaWMgc3RhdHVzIGNvbnRlbnQuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBOZXcgY29udGVudC5cclxuXHRcdFx0ICogQHJldHVybiB7T2JqZWN0fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRmcHM6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0XHRzdWJpbmZvWzFdLnRleHRDb250ZW50ID0gY29udGVudDtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHRcdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDcmVhdGVzIG5ldyBlbnRyeSBpbnRvIGxvZ3MgY29udGFpbmVyLlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRcclxuXHRcdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fSBBZGRlZCBsb2cgZW50cnkuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRsb2c6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0XHQvLyByZW1vdmUgZWxlbWVudCBmcm9tIHRvcFxyXG5cdFx0XHRcdGlmKGxvZ3MuY2hpbGROb2Rlcy5sZW5ndGggPiA1KSB7XHJcblx0XHRcdFx0XHRsb2dzLnJlbW92ZUNoaWxkKGxvZ3MuY2hpbGROb2Rlc1swXSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBhcHBlbmRzIGxvZ3MgZWxlbWVudFxyXG5cdFx0XHRcdHJldHVybiBCQlEuRE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJykpXHJcblx0XHRcdFx0XHQudGV4dChjb250ZW50KS5kb25lKGxvZ3MpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTaG93cyBjb25zb2xlIGNvbnRhaW5lci5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0c2hvdzogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEhpZGVzIGNvbnNvbGUgY29udGFpbmVyLlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHJldHVybiB7T2JqZWN0fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRoaWRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBUb2dnbGVzIGNvbnNvbGUgdmlzaWJpbGl0eS5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0dG9nZ2xlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/XHJcblx0XHRcdFx0XHR0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogU2hvd3MgY29uc29sZSBvbi1zY3JlZW4gY29udGFpbmVyIG9uLURPTS1jb250ZW50LWxvYWQuXHJcblx0ICovXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdGlmKEJCUS5jb25zb2xlLnNob3dPblJlYWR5KSB7XHJcblx0XHRcdEJCUS5jb25zb2xlLnNob3coKTtcclxuXHRcdH1cclxuXHR9LCBmYWxzZSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogTWFrZXMgY29uc29sZSBpbnN0YW5jZSBpZiBub3QgYWxyZWFkeSBleGlzdHMuXHJcblx0ICovXHJcblx0aWYoIXdpbmRvdy5jb25zb2xlKSB7XHJcblx0XHR3aW5kb3cuY29uc29sZSA9IHtcclxuXHRcdFx0bG9nOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRpbmZvOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHR3YXJuOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogU3RvcmVzIG9sZCBDb25zb2xlIGZ1bmN0aW9uYWxpdHkuXHJcblx0ICovXHJcblx0dmFyIF9zdXBlciA9IHtcclxuXHRcdGxvZzogd2luZG93LmNvbnNvbGUubG9nLFxyXG5cdFx0aW5mbzogd2luZG93LmNvbnNvbGUuaW5mbyxcclxuXHRcdHdhcm46IHdpbmRvdy5jb25zb2xlLndhcm4sXHJcblx0XHRlcnJvcjogd2luZG93LmNvbnNvbGUuZXJyb3JcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEV4dGVuZHMgbmF0aXZlIENvbnNvbGUgZnVuY3Rpb25hbGl0eS5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMuYXNzaWduKHdpbmRvdy5jb25zb2xlLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIExvZ3MgbmV3IHZhbHVlIGludG8gYm90aCBjb25zb2xlcyAtIG5hdGl2ZSBhbmQgb24tc2NyZWVuLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge01peGVkfSB2YWx1ZSBBbnkgdmFsdWUgdG9TdHJpbmctYWJsZS5cclxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gT24tc2NyZWVuIGNvbnNvbGUgZW50cnkgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0bG9nOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRfc3VwZXIubG9nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdEJCUS5jb25zb2xlLmxvZygnJyArIHZhbHVlKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTG9ncyBuZXcgdmFsdWUgaW50byBib3RoIGNvbnNvbGVzIC0gbmF0aXZlIGFuZCBvbi1zY3JlZW4uXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlIEFueSB2YWx1ZSB0b1N0cmluZy1hYmxlLlxyXG5cdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fSBPbi1zY3JlZW4gY29uc29sZSBlbnRyeSBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRpbmZvOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRfc3VwZXIuaW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRCQlEuY29uc29sZS5sb2coJycgKyB2YWx1ZSkuc3R5bGUuY29sb3IgPSAnI2MwYzBmZic7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIExvZ3MgbmV3IHZhbHVlIGludG8gYm90aCBjb25zb2xlcyAtIG5hdGl2ZSBhbmQgb24tc2NyZWVuLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge01peGVkfSB2YWx1ZSBBbnkgdmFsdWUgdG9TdHJpbmctYWJsZS5cclxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gT24tc2NyZWVuIGNvbnNvbGUgZW50cnkgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0d2FybjogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLndhcm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0QkJRLmNvbnNvbGUubG9nKCcnICsgdmFsdWUpLnN0eWxlLmNvbG9yID0gJyNmZmZmODAnO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2dzIG5ldyB2YWx1ZSBpbnRvIGJvdGggY29uc29sZXMgLSBuYXRpdmUgYW5kIG9uLXNjcmVlbi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgQW55IHZhbHVlIHRvU3RyaW5nLWFibGUuXHJcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IE9uLXNjcmVlbiBjb25zb2xlIGVudHJ5IGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdGVycm9yOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRfc3VwZXIuZXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0QkJRLmNvbnNvbGUubG9nKCcnICsgdmFsdWUpLnN0eWxlLmNvbG9yID0gJyNmMDMwMzAnO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSh3aW5kb3cuQkJRID0gd2luZG93LkJCUSB8fCB7fSk7XHJcblxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qIFxyXG4gKiBiYnEtcGl4aS5qc1xyXG4gKiBcclxuICogQkJRIHJlbmRlcmVyIGV4dGVuc2lvbiBmb3IgcGxheWdyb3VuZCBiYXNlZCBvbiBQaXhpIFdlYkdMLlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogQkJRIFJlbmRlcmluZyBNb2R1bGUuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gQkJRIEVuZ2luZSBwdWJsaWMgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge1BJWEl9IFBpeGkgUElYSSByZW5kZXJpbmcgZW5naW5lIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihCQlEsIFBMQVlHUk9VTkQsIFBJWEkpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvLyBkaXNhYmxlcyBsaW5lYXIgaW50ZXJwb2x0aW9uIGJ5IGRlZmF1bHRcclxuXHRQSVhJLlNDQUxFX01PREVTLkRFRkFVTFQgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XHJcblx0XHJcblx0Ly8gcmUtZGVmaW5lIGRlZmF1bHQgcmVuZGVyZXIgb3B0aW9uc1xyXG5cdEJCUS5VdGlscy5hc3NpZ24oUElYSS5ERUZBVUxUX1JFTkRFUl9PUFRJT05TLCB7XHJcblx0XHQvL2NsZWFyQmVmb3JlUmVuZGVyOiBmYWxzZSxcclxuXHRcdGF1dG9SZXNpemU6IHRydWVcclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBTdG9yZXMgb2xkIHVzYWJsZSBtZXRob2RzLlxyXG5cdCAqL1xyXG5cdHZhciBfc3VwZXIgPSB7XHJcblx0XHRnZXRBc3NldEVudHJ5OiBQTEFZR1JPVU5ELkFwcGxpY2F0aW9uLnByb3RvdHlwZS5nZXRBc3NldEVudHJ5XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBFeHRlbmRzIFBMQVlHUk9VTkQuQXBwbGljYXRpb24gYnkgcmVuZGVyZXIuXHJcblx0ICovXHJcblx0QkJRLlV0aWxzLmFzc2lnbihQTEFZR1JPVU5ELkFwcGxpY2F0aW9uLnByb3RvdHlwZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBc3NpZ25zIGFuIG5ldyBQaXhpIHJlbmRlcmVyIHRvIFByb3RvdHlwZS5BcHBsaWNhdGlvbiBpbnN0YW5jZS5cclxuXHRcdCAqIENyZWF0ZXMgV2ViR0wgb25lIG9yIHVzZXMgZmFsbGJhY2sgQ2FudmFzIHJlbmRlcmVyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBQSVhJIHJlbmRlcmVyIG9wdGlvbnMuXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5TeXN0ZW1SZW5kZXJlcn0gUHJvcGVybHkgZGV0ZWN0ZWQgcmVuZGVyZXIuXHJcblx0XHQgKi9cclxuXHRcdGNyZWF0ZVJlbmRlcmVyOiBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHRcdC8vIGNyZWF0ZWQgbmV3IHJlbmRlcmVyXHJcblx0XHRcdGNvbnNvbGUubG9nKCdDcmVhdGluZyBQSVhJIHJlbmRlcmVyLi4uJyk7XHJcblx0XHRcdHRoaXMucmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcihcclxuXHRcdFx0XHR3aW5kb3cuaW5uZXJXaWR0aCxcclxuXHRcdFx0XHR3aW5kb3cuaW5uZXJIZWlnaHQsXHJcblx0XHRcdFx0T2JqZWN0LmFzc2lnbih7XHJcblx0XHRcdFx0XHRyb3VuZFBpeGVsczogdHJ1ZVxyXG5cdFx0XHRcdH0sIG9wdGlvbnMpXHJcblx0XHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBrZWVwIGFzcGVjdCByYXRpbyAoaWYgc3BlY2lmaWVkKVxyXG5cdFx0XHRpZih0eXBlb2YgdGhpcy5zY2FsZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdFx0XHQvLyBiaW5kIHdpbmRvdyByZXNpemUgZXZlbnRcclxuXHRcdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdCdyZXNpemUnLCB0aGlzLmtlZXBBc3BlY3QuYmluZCh0aGlzKSwgZmFsc2VcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdHRoaXMua2VlcEFzcGVjdCgpOyAvL3J1bi1vbi1mbHlcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYWRkIHJlbmRlcmVyIHZpZXcgdG8gdGhlIERPTSBlbGVtZW50XHJcblx0XHRcdHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciB8fCBkb2N1bWVudC5ib2R5O1xyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci52aWV3KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogS2VlcHMgY2FudmFzIHZpZXcgYXNwZWN0LlxyXG5cdFx0ICovXHJcblx0XHRrZWVwQXNwZWN0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY2hhbmdlIHNjYWxlIHNpemVcclxuXHRcdFx0aWYod2luZG93LmlubmVyV2lkdGggPCA3NjgpIHtcclxuXHRcdFx0XHR0aGlzLnNjYWxlID0gMjtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnNjYWxlID0gNDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHByb3BXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICUgdGhpcy5zY2FsZTtcclxuXHRcdFx0dmFyIHByb3BIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgJSB0aGlzLnNjYWxlO1xyXG5cdFx0XHR2YXIgbmV3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArICh0aGlzLnNjYWxlIC0gcHJvcFdpZHRoKTtcclxuXHRcdFx0dmFyIG5ld0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICh0aGlzLnNjYWxlIC0gcHJvcEhlaWdodCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZXNpemUgY2FudmFzIGVsZW1lbnRcclxuXHRcdFx0dGhpcy5yZW5kZXJlci5yZXNpemUoXHJcblx0XHRcdFx0bmV3V2lkdGggLyB0aGlzLnNjYWxlLFxyXG5cdFx0XHRcdG5ld0hlaWdodCAvIHRoaXMuc2NhbGVcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIHNjYWxlLXVwIGNhbnZhcyBlbGVtZW50IHZpYSBDU1MgdHJhbnNmb3JtIHByb3BlcnR5XHJcblx0XHRcdHRoaXMucmVuZGVyZXIudmlldy5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgJ3B4JztcclxuXHRcdFx0dGhpcy5yZW5kZXJlci52aWV3LnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodCArICdweCc7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZXMgdGV4dHVyZSBmcm9tIGltYWdlLlxyXG5cdFx0ICogVXNlcyBzaGFyZWQgdGV4dHVyZSBpbnN0YW5jZSBieSBkZWZhdWx0LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0ltYWdlfFN0cmluZ30gaW1hZ2UgSW1hZ2UgSlMgaW5zdGFuY2Ugb3IgaW1hZ2UgbmFtZS5cclxuXHRcdCAqIEBwYXJhbSB7Qm9vbGVhbn0gc2hhcmVkIFVzZSBzaGFyZWQgKGNhY2hlZCkgdGV4dHVyZSBpbnN0YW5jZS5cclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlRleHR1cmV9IFBpeGkgdGV4dHVyZSBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0dGV4OiBmdW5jdGlvbihpbWFnZSwgc2hhcmVkKSB7XHJcblx0XHRcdHZhciBpbWFnZUluc3QgPSBpbWFnZTtcclxuXHRcdFx0aWYodHlwZW9mIGltYWdlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdGltYWdlSW5zdCA9IHRoaXMuaW1hZ2VzW2ltYWdlXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZighKGltYWdlSW5zdCBpbnN0YW5jZW9mIEltYWdlKSkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0ltYWdlIFxcJycgKyBpbWFnZSArICdcXCcgbm90IHJlY29nbml6ZWQnLCBpbWFnZUluc3QpO1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNyZWF0ZSBzaGFyZWQgdGV4dHVyZVxyXG5cdFx0XHRpZih0eXBlb2Ygc2hhcmVkID09PSAndW5kZWZpbmVkJyB8fCBzaGFyZWQgPT09IHRydWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gUElYSS5UZXh0dXJlLmZyb21JbWFnZShpbWFnZUluc3Quc3JjKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBjcmVhdGUgbmV3IHRleHR1cmUgKndpdGggc2hhcmVkIGJhc2UgdGV4dHVyZVxyXG5cdFx0XHRyZXR1cm4gbmV3IFBJWEkuVGV4dHVyZShcclxuXHRcdFx0XHRQSVhJLkJhc2VUZXh0dXJlLmZyb21JbWFnZShpbWFnZUluc3Quc3JjKVxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBbGxvd3MgaW1hZ2VzIGxvYWRpbmcgZnJvbSBleHRlcm5hbCBzZXJ2ZXJzLlxyXG5cdFx0ICogUmVxdWlyZXMgYWxsb3dlZCBDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyBwb2xpY3kgdG8gd29yay5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IHBhdGggVVJMIG9yIHJlbGF0aXZlIGFzc2V0IHBhdGguXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gZm9sZGVyIEFzc2V0cyBzdG9yaW5nIGZvbGRlci5cclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBkZWZhdWx0RXh0ZW5zaW9uIERlZmF1bHQgYXNzZXQgZXh0ZW5zaW9uLlxyXG5cdFx0ICogQHJldHVybnMge09iamVjdH0gQXNzZXQgZW50cnkgb2JqZWN0LlxyXG5cdFx0ICovXHJcblx0XHRnZXRBc3NldEVudHJ5OiBmdW5jdGlvbihwYXRoLCBmb2xkZXIsIGRlZmF1bHRFeHRlbnNpb24pIHtcclxuXHRcdFx0Ly8gY2hlY2sgaWYgYXNzZXQgaXMgZnJvbSBleHRlcm5hbCBzZXJ2ZXJcclxuXHRcdFx0aWYoL15odHRwKHxzKTpcXC9cXC8uKy9pLnRlc3QocGF0aCkpIHtcclxuXHRcdFx0XHR2YXIga2V5ID0gcGF0aC5zcGxpdCgnLycpLnBvcCgpLnNwbGl0KCcuJylbMF0sXHJcblx0XHRcdFx0XHRleHQgPSBwYXRoLnNwbGl0KCcuJykucG9wKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdGtleToga2V5LFxyXG5cdFx0XHRcdFx0dXJsOiBwYXRoLFxyXG5cdFx0XHRcdFx0cGF0aDogcGF0aCxcclxuXHRcdFx0XHRcdGV4dDogZXh0XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdXNlIG9sZCBtZXRob2RcclxuXHRcdFx0cmV0dXJuIF9zdXBlci5nZXRBc3NldEVudHJ5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQWRkcyBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkgaW50byBQSVhJLlBvaW50IGNsYXNzLlxyXG5cdCAqL1xyXG5cdEJCUS5VdGlscy5hc3NpZ24oUElYSS5Qb2ludC5wcm90b3R5cGUsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogT3ZlcnJpZGUgdmVjdG9yIHZhbHVlcy5cclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlBvaW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdHNldDogZnVuY3Rpb24oeCwgeSkge1xyXG5cdFx0XHR0aGlzLnggPSB4IHx8IDA7XHJcblx0XHRcdHRoaXMueSA9IHkgfHwgMDtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE11bHRpcGxpZXMgdmVjdG9yIGJ5IGEgc2NhbGFyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRtdWw6IGZ1bmN0aW9uKHNjYWxhcikge1xyXG5cdFx0XHR0aGlzLnggPSAodGhpcy54ICogc2NhbGFyKSB8fCAwO1xyXG5cdFx0XHR0aGlzLnkgPSAodGhpcy55ICogc2NhbGFyKSB8fCAwO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRGl2aWRlcyB2ZWN0b3IgYnkgYSBzY2FsYXIuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlBvaW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGRpdjogZnVuY3Rpb24oc2NhbGFyKSB7XHJcblx0XHRcdHRoaXMueCA9ICh0aGlzLnggLyBzY2FsYXIpIHx8IDA7XHJcblx0XHRcdHRoaXMueSA9ICh0aGlzLnkgLyBzY2FsYXIpIHx8IDA7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxjdWxhdGVzIGxlbmd0aCBvZiB0aGUgdmVjdG9yLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7TnVtYmVyfSBWZWN0b3IgbGVuZ3RoLlxyXG5cdFx0ICovXHJcblx0XHRsZW5ndGg6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gTWF0aC5zcXJ0KFxyXG5cdFx0XHRcdHRoaXMueCAqIHRoaXMueCArXHJcblx0XHRcdFx0dGhpcy55ICogdGhpcy55XHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE5vcm1hbGl6ZXMgdmVjdG9yLlxyXG5cdFx0ICogTWFrZXMgbm9ybWFsaXphdGlvbiBvbiBpdHNlbGYuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlBvaW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdG5vcm1hbGl6ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmRpdih0aGlzLmxlbmd0aCgpKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBBZGRzIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl0eSBpbnRvIFBJWEkuUmVjdGFuZ2xlIGNsYXNzLlxyXG5cdCAqL1xyXG5cdEJCUS5VdGlscy5hc3NpZ24oUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIERldGVybWluZXMgaW50ZXJzZWN0aW9uIGJldHdlZW4gcmVjdGFuZ2xlcy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdFxyXG5cdFx0ICogQHJldHVybnMge0Jvb2xlYW59XHJcblx0XHQgKi9cclxuXHRcdGludGVyc2VjdHM6IGZ1bmN0aW9uKHJlY3QpIHtcclxuXHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHQodGhpcy54ICsgdGhpcy53aWR0aCA+PSByZWN0LnggJiYgdGhpcy54IDw9IHJlY3QueCArIHJlY3Qud2lkdGgpICYmXHJcblx0XHRcdFx0KHRoaXMueSArIHRoaXMuaGVpZ2h0ID49IHJlY3QueSAmJiB0aGlzLnkgPD0gcmVjdC55ICsgcmVjdC5oZWlnaHQpXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn0pKHdpbmRvdy5CQlEgPSB3aW5kb3cuQkJRIHx8IHt9LCBQTEFZR1JPVU5ELCBQSVhJKTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKiBcclxuICogYmJxLXN0YWdlLmpzXHJcbiAqIFxyXG4gKiBCQlEgZ2FtZXBsYXkgc3RhdGUgbWFjaGluZSBzdGF0ZXMuXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDb21tb24gZ2FtZXBsYXkgc3RhdGUgbW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oQkJRLCBQSVhJKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ3JlYXRlcyBhY3RvciBpbnN0YW5jZS5cclxuXHQgKi9cclxuXHRCQlEuQWN0b3IgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRhbmNlIGN0b3JcclxuXHRcdFBJWEkuU3ByaXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcclxuXHRcdC8vIHNpZ25hbHMgc2V0XHJcblx0XHR0aGlzLnNpZ25hbHMgPSBbXTtcclxuXHRcdFxyXG5cdFx0Ly8gZXZlbnRzIHNldFxyXG5cdFx0dGhpcy5ldmVudHMgPSBbXTtcclxuXHRcdFxyXG5cdFx0Ly8gd2V0aGVyIGFjdG9yIGlzIG5vLW1vcmUgbGl2ZVxyXG5cdFx0dGhpcy5raWxsZWQgPSBmYWxzZTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLkFjdG9yIGJ5IFBJWEkuU3ByaXRlIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLkFjdG9yLCBQSVhJLlNwcml0ZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21tb24gY3Rvci5cclxuXHRcdCAqL1xyXG5cdFx0Y29uc3RydWN0b3I6IEJCUS5BY3RvcixcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbWl0cyBhY3RvcidzIGRlZmluZWQgc2lnbmFsLlxyXG5cdFx0ICogQWxsb3dzIG9wdGlvbmFsIGFyZ3VtZW50cyBhcHBseWluZyBmb3Igc2lnbmFsIGNhbGwuXHJcblx0XHQgKiBFeGFtcGxlOlxyXG5cdFx0ICpcdGFjdG9yLmVtaXQoJ2RhbWFnZScsIDEwKTtcclxuXHRcdCAqIFxyXG5cdFx0ICogU2lnbmFscyBjYWxsJ3MgKnRoaXMqIGNvbnRleHQgaXMgdGhlIGFjdG9yIGluc3RhbmNlLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbmFsIFNpZ25hbCBuYW1lIHRvIGVtaXQuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGVtaXRTaWduYWw6IGZ1bmN0aW9uKHNpZ25hbCkge1xyXG5cdFx0XHR2YXIgc2lnbmFscyA9IHRoaXMuc2lnbmFsc1tzaWduYWxdLFxyXG5cdFx0XHRcdHNsaWNlZEFyZ3VtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblx0XHRcdGlmKHR5cGVvZiBzaWduYWxzICE9PSAndW5kZWZpbmVkJyAmJiBzaWduYWxzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRzaWduYWxzLmZvckVhY2goZnVuY3Rpb24ocykge1xyXG5cdFx0XHRcdFx0cy5jYWxsYmFjay5hcHBseShzLmNvbnRleHQsIHNsaWNlZEFyZ3VtZW50cyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEJpbmRzIGFub3RoZXIgc2lnbmFsIGNhbGxiYWNrLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbmFsIFNpZ25hbCBuYW1lIGZvciBiaW5kLlxyXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgU2lnbmFsIGNhbGxiYWNrIHRvIGFwcGVuZC5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0YmluZFNpZ25hbDogZnVuY3Rpb24oc2lnbmFsLCBjYWxsYmFjaywgY29udGV4dCkge1xyXG5cdFx0XHR0aGlzLnNpZ25hbHNbc2lnbmFsXSA9IHRoaXMuc2lnbmFsc1tzaWduYWxdIHx8IFtdO1xyXG5cdFx0XHR0aGlzLnNpZ25hbHNbc2lnbmFsXS5wdXNoKHtcclxuXHRcdFx0XHRjYWxsYmFjazogY2FsbGJhY2ssXHJcblx0XHRcdFx0Y29udGV4dDogY29udGV4dCB8fCB0aGlzXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVW5iaW5kcyBzaWduYWwgY2FsbGJhY2suXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBzaWduYWwgU2lnbmFsIG5hbWUgdG8gdW5iaW5kLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3Rvcn0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHR1bmJpbmRTaWduYWw6IGZ1bmN0aW9uKHNpZ25hbCwgY2FsbGJhY2spIHtcclxuXHRcdFx0dmFyIHNpZ25hbHMgPSB0aGlzLnNpZ25hbHNbc2lnbmFsXSwgaW5kZXggPSAtMTtcclxuXHRcdFx0aWYodHlwZW9mIHNpZ25hbHMgIT09ICd1bmRlZmluZWQnICYmIHNpZ25hbHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdHRoaXMuc2lnbmFsc1tzaWduYWxdID0gc2lnbmFscy5maWx0ZXIoZnVuY3Rpb24ocykge1xyXG5cdFx0XHRcdFx0cmV0dXJuICEocy5jYWxsYmFjayA9PT0gY2FsbGJhY2spO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGVhcnMgYWxsIGJpbmRlZCBzaWduYWxzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2lnbmFsIFNpZ25hbCBuYW1lIHRvIGNsZWFyLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3Rvcn0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRjbGVhclNpZ25hbDogZnVuY3Rpb24oc2lnbmFsKSB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnNpZ25hbHNbc2lnbmFsXTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEVucXVldWVzIGV2ZW50IGludG8gZXZlbnRzIGFycmF5LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgRXZlbnQgbmFtZSAoc2lnbmFsKS5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0ZW5xdWV1ZUV2ZW50OiBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHR0aGlzLmV2ZW50cy5wdXNoKHtcclxuXHRcdFx0XHRuYW1lOiBldmVudCxcclxuXHRcdFx0XHRhcmdzOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRGVxdWV1ZXMgZXZlbnQgZnJvbSBldmVudHMgYXJyYXkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtPYmplY3R8Qm9vbGVhbn0gRmlyc3QgZXZlbnQsIEZMQVNFIGlmIG5vIG1vcmUgZXZlbnRzIHJlbWFpbmluZy5cclxuXHRcdCAqL1xyXG5cdFx0ZGVxdWV1ZUV2ZW50OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYodGhpcy5ldmVudHMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGdldCBldmVudCBmcm9tIGJlZ2lubmluZ1xyXG5cdFx0XHR2YXIgZXZlbnQgPSB0aGlzLmV2ZW50c1swXTtcclxuXHRcdFx0Ly8gcmVtb3ZlIGV2ZW50IGZyb20gYmVnaW5uaWdcclxuXHRcdFx0dGhpcy5ldmVudHMgPSB0aGlzLmV2ZW50cy5zbGljZSgxKTtcclxuXHRcdFx0Ly90aGlzLmV2ZW50cy5zaGlmdCgpO1xyXG5cdFx0XHQvLyByZXR1cm4gdGhlIGNhdGNoZWQgZXZlbnRcclxuXHRcdFx0cmV0dXJuIGV2ZW50O1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBFbnJvbGwgcmVtYWluaW5nIGV2ZW50cy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhIEZyYW1lIGRlbHRhIHRpbWUuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0dmFyIGV2ZW50O1xyXG5cdFx0XHR3aGlsZSgoZXZlbnQgPSB0aGlzLmRlcXVldWVFdmVudCgpKSAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHQvLyBlbWl0cyBldmVudCBzaWduYWxcclxuXHRcdFx0XHR0aGlzLmVtaXRTaWduYWwuYXBwbHkodGhpcyxcclxuXHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW2V2ZW50Lm5hbWVdLCBldmVudC5hcmdzKVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogU2lnbiBhY3RvciB0byBkZXN0cm95LlxyXG5cdFx0ICovXHJcblx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQudG9EZWxldGUpIHtcclxuXHRcdFx0XHR0aGlzLnBhcmVudC50b0RlbGV0ZS5wdXNoKHRoaXMpO1xyXG5cdFx0XHRcdHRoaXMua2lsbGVkID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEJhc2ljIGFuaW1hdGVkIGFjdG9yLlxyXG5cdCAqL1xyXG5cdEJCUS5BbmltYXRlZEFjdG9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBpbmhlcml0ZWQgY3RvciBjYWxsXHJcblx0XHRCQlEuQWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLkFuaW1hdGVkQWN0b3IgYnkgQkJRLkFjdG9yIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLkFuaW1hdGVkQWN0b3IsIEJCUS5BY3Rvciwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBbmltYXRpb24gZnJhbWVzIHRvIHVzZS5cclxuXHRcdCAqL1xyXG5cdFx0YW5pbWF0aW9uczoge1xyXG5cdFx0XHRpZGxlOiB7XHJcblx0XHRcdFx0dGltZTogMSxcclxuXHRcdFx0XHRmcmFtZXM6IFswXVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEN1cnJlbnQgZnJhbWUgdGljay5cclxuXHRcdCAqL1xyXG5cdFx0ZnJhbWVUaWNrOiAwLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEN1cnJlbnQgZnJhbWUgaW5kZXguXHJcblx0XHQgKi9cclxuXHRcdGZyYW1lSW5kZXg6IDAsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ3VycmVudCBwbGF5aW5nIGFuaW1hdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0YW5pbWF0aW9uOiAnaWRsZScsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUGxheSBnaXZlbiBhbmltYXRpb24uXHJcblx0XHQgKi9cclxuXHRcdHBsYXk6IGZ1bmN0aW9uKGFuaW1hdGlvbiwgcmVzdGFydCkge1xyXG5cdFx0XHRpZihhbmltYXRpb24gPT09IHRoaXMuYW5pbWF0aW9uICYmICFyZXN0YXJ0KSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZXNldCBhbmltYXRpb24gZnJhbWUgY291bnRlcnNcclxuXHRcdFx0dGhpcy5mcmFtZVRpY2sgPSB0aGlzLmZyYW1lSW5kZXggPSAwO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gc2V0IGFuaW1hdGlvblxyXG5cdFx0XHR0aGlzLmFuaW1hdGlvbiA9IGFuaW1hdGlvbjtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGFuaW1hdGlvbiBzdGFydCBzaWduYWxcclxuXHRcdFx0dGhpcy5lbWl0U2lnbmFsKCdhbmltYXRpb25TdGFydCcsIHRoaXMuYW5pbWF0aW9uKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBhbmltYXRpb24gZnJhbWUuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gaW5oZXJpdGVkIHN1cGVyIG1ldGhvZCBjYWxsXHJcblx0XHRcdEJCUS5BY3Rvci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcywgZGVsdGEpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZmV0Y2ggZm9yIGFuaW1hdGlvblxyXG5cdFx0XHR2YXIgYW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb247XHJcblx0XHRcdGlmKHR5cGVvZiBhbmltYXRpb24gPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0YW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zW2FuaW1hdGlvbl07XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGFuaW1hdGlvbiByZXF1aXJlcyBhbmltYXRpb24gb2JqZWN0XHJcblx0XHRcdGlmKHR5cGVvZiBhbmltYXRpb24gIT09ICdvYmplY3QnKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjb250aW51ZSBhbmltYXRpb24gZnJhbWVcclxuXHRcdFx0dGhpcy5mcmFtZVRpY2sgKz0gKGRlbHRhICogYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGgpIC8gYW5pbWF0aW9uLnRpbWU7XHJcblx0XHRcdGlmKHRoaXMuZnJhbWVUaWNrID49IGFuaW1hdGlvbi5mcmFtZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0dGhpcy5mcmFtZVRpY2sgLT0gYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGg7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gYW5pbWF0aW9uIGVuZCBzaWduYWxcclxuXHRcdFx0XHR0aGlzLmVtaXRTaWduYWwoJ2FuaW1hdGlvbkVuZCcsIHRoaXMuYW5pbWF0aW9uKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBzZXQgbmV4dCBhbmltYXRpb25cclxuXHRcdFx0XHRpZihhbmltYXRpb24ubmV4dCkge1xyXG5cdFx0XHRcdFx0dGhpcy5wbGF5KGFuaW1hdGlvbi5uZXh0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGRldGVybWluZSBmcmFtZSBpbmRleFxyXG5cdFx0XHR0aGlzLmZyYW1lSW5kZXggPSBhbmltYXRpb24uZnJhbWVzW01hdGguZmxvb3IodGhpcy5mcmFtZVRpY2spXTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBCYXNpYyBjYW1lcmEgZm9yIHJlbmRlcmluZyBmcm9tIGNlbnRlcmVkIGF4aXMuXHJcblx0ICovXHJcblx0QkJRLkNhbWVyYSA9IGZ1bmN0aW9uKHJlbmRlcmVyKSB7XHJcblx0XHQvLyBpbmhlcml0ZWQgY3RvciBjYWxsXHJcblx0XHRQSVhJLkNvbnRhaW5lci5jYWxsKHRoaXMpO1xyXG5cdFx0XHJcblx0XHQvLyByZW5kZXJlciBzZXR1cFxyXG5cdFx0dGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBCQlEuQ2VudGVyZWRDb250YWluZXJcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuQ2FtZXJhLCBQSVhJLkNvbnRhaW5lciwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmUtcmVuZGVyIHVwZGF0ZSB0cmFuc2Zvcm0uXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBfY3ggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC8gMixcclxuXHRcdFx0XHRfY3kgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAvIDI7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjZW50ZXIgY2FtZXJhIHBvc2l0aW9uXHJcblx0XHRcdHRoaXMucG9zaXRpb24ueCArPSBfY3g7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSArPSBfY3k7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgdHJhbnNmb3Jtc1xyXG5cdFx0XHRQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZS1wb3NpdGlvbiBjZW50ZXJlZCBjYW1lcmFcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi54IC09IF9jeDtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi55IC09IF9jeTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBTdGF0ZSBjYW1lcmEgbWFuaXB1bGF0aW9uIGNsYXNzLlxyXG5cdCAqL1xyXG5cdEJCUS5Gb2xsb3dDYW1lcmEgPSBmdW5jdGlvbihyZW5kZXJlciwgeCwgeSkge1xyXG5cdFx0Ly8gaW5oZXJpdGVkIGN0b3IgY2FsbFxyXG5cdFx0QkJRLkNhbWVyYS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcclxuXHRcdFxyXG5cdFx0Ly8gc2V0dXAgcG9zaXRpb25cclxuXHRcdHRoaXMucG9zaXRpb24ueCA9IHggfHwgMDtcclxuXHRcdHRoaXMucG9zaXRpb24ueSA9IHkgfHwgMDtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLkNhbWVyYSBieSBCQlEuQ2FtZXJhIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLkZvbGxvd0NhbWVyYSwgQkJRLkNhbWVyYSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDYW1lcmEgZm9sbG93cyBnaXZlbiBhY3RvcnMgc2V0LlxyXG5cdFx0ICovXHJcblx0XHRmb2xsb3dlZDogW10sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQWRkIGFjdG9yIHRvIGZvbGxvdyBzZXQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvciBBY3RvciB1bmlxdWUgaW5zdGFuY2UgdG8gYWRkLlxyXG5cdFx0ICovXHJcblx0XHRmb2xsb3c6IGZ1bmN0aW9uKGFjdG9yKSB7XHJcblx0XHRcdGlmKHRoaXMuZm9sbG93ZWQuaW5kZXhPZihhY3RvcikgPT09IC0xKSB7XHJcblx0XHRcdFx0dGhpcy5mb2xsb3dlZC5wdXNoKGFjdG9yKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmUgYWN0b3IgZnJvbSBmb2xsb3cgc2V0LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gYWN0b3IgQWN0b3IgaW5zdGFuY2UgdG8gcmVtb3ZlLlxyXG5cdFx0ICovXHJcblx0XHR1bmZvbGxvdzogZnVuY3Rpb24oYWN0b3IpIHtcclxuXHRcdFx0dmFyIGluZGV4ID0gdGhpcy5mb2xsb3dlZC5pbmRleE9mKGFjdG9yKTtcclxuXHRcdFx0aWYoaW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0dGhpcy5mb2xsb3dlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBjYW1lcmEgcG9zaXRpb24uXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZTogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gZm9sbG93IGFjdG9yc1xyXG5cdFx0XHRpZih0aGlzLmZvbGxvd2VkLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHQvLyBmb2xsb3cgY2FtZXJhIHRvIGFsbCBwbGF5ZXJzLlxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueCA9IHRoaXMuZ2V0Q2VudGVyKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBjZW50ZXIgb2YgdGhlIGZvbGxvd2luZyBvYmplY3RzLlxyXG5cdFx0ICovXHJcblx0XHRnZXRDZW50ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBmb2xsb3cgYWN0b3JzXHJcblx0XHRcdGlmKHRoaXMuZm9sbG93ZWQubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vIGdldCBwb3NpdGlvbnMgb2YgYWxsIGFjdG9yc1xyXG5cdFx0XHRcdHZhciBfeCA9IDA7XHJcblx0XHRcdFx0Zm9yKHZhciBpIGluIHRoaXMuZm9sbG93ZWQpIHtcclxuXHRcdFx0XHRcdHZhciBhY3RvciA9IHRoaXMuZm9sbG93ZWRbaV07XHJcblx0XHRcdFx0XHRfeCAtPSBhY3Rvci5wb3NpdGlvbi54O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgY2VudGVyZWQgcG9zaXRpb24gb2YgYWN0b3JzXHJcblx0XHRcdFx0cmV0dXJuIF94IC8gdGhpcy5mb2xsb3dlZC5sZW5ndGg7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFsbG93cyBtYWtlIHBhcmFsbGF4IGJhY2tncm91bmRzLlxyXG5cdCAqL1xyXG5cdEJCUS5QYXJhbGxheEJhY2tncm91bmQgPSBmdW5jdGlvbihjYW1lcmEpIHtcclxuXHRcdC8vIGluaGVyaXRlZCBjdG9yIGNhbGxcclxuXHRcdFBJWEkuQ29udGFpbmVyLmNhbGwodGhpcyk7XHJcblx0XHRcclxuXHRcdC8vIHN0b3JlIGFzc2lnbmVkIGNhbWVyYVxyXG5cdFx0dGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5QYXJhbGxheEJhY2tncm91bmQgYnkgUElYSS5Db250YWluZXJcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuUGFyYWxsYXhCYWNrZ3JvdW5kLCBQSVhJLkNvbnRhaW5lciwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIG5ldyBwYXJhbGxheCBiYWNrZ3JvdW5kIGxheWVyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0ltYWdlfFN0cmluZ30gaW1hZ2UgSW1hZ2UgRE9NIGluc3RhbmNlIG9yIHRoZSBpbWFnZSBuYW1lLlxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29tbW9uIHBhcmFsbGF4IGJhY2tncm91bmQgb3B0aW9ucy5cclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9XHJcblx0XHQgKi9cclxuXHRcdGFkZEJhY2tncm91bmQ6IGZ1bmN0aW9uKGltYWdlLCBvcHRpb25zKSB7XHJcblx0XHRcdG9wdGlvbnMgPSBCQlEuVXRpbHMuYXNzaWduKHtcclxuXHRcdFx0XHRodGlsZWQ6IHRydWUsXHJcblx0XHRcdFx0dnRpbGVkOiB0cnVlXHJcblx0XHRcdH0sIG9wdGlvbnMpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZmluZCBpbWFnZSBieSBuYW1lXHJcblx0XHRcdGlmKHR5cGVvZiBpbWFnZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRpbWFnZSA9IEdhbWUuYXBwLmltYWdlc1tpbWFnZV07XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNyZWF0ZSBiZyBpbnN0YW5jZVxyXG5cdFx0XHR2YXIgYmcgPSBuZXcgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlKFxyXG5cdFx0XHRcdEdhbWUuYXBwLnRleChpbWFnZSksXHJcblx0XHRcdFx0b3B0aW9ucy5odGlsZWQgPyB0aGlzLmNhbWVyYS5yZW5kZXJlci53aWR0aCA6IGltYWdlLndpZHRoLFxyXG5cdFx0XHRcdG9wdGlvbnMudnRpbGVkID8gdGhpcy5jYW1lcmEucmVuZGVyZXIuaGVpZ2h0IDogaW1hZ2UuaGVpZ2h0XHJcblx0XHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBwYXJhbGxheCBiYWNrZ3JvdW5kIHNldHRpbmdzXHJcblx0XHRcdGJnLnBhcmFsbGF4U2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IG5ldyBQSVhJLlBvaW50KDAsIDApO1xyXG5cdFx0XHRiZy5wYXJhbGxheE9mZnNldCA9IG9wdGlvbnMub2Zmc2V0IHx8IG5ldyBQSVhJLlBvaW50KDAsIDApO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdGlsaW5nIG9wdGlvbnNcclxuXHRcdFx0YmcuaHRpbGVkID0gb3B0aW9ucy5odGlsZWQ7XHJcblx0XHRcdGJnLnZ0aWxlZCA9IG9wdGlvbnMudnRpbGVkO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYXBwZW5kIGJhY2tncm91bmQgYXMgcGFyYWxsYXggbGF5ZXJcclxuXHRcdFx0cmV0dXJuIHRoaXMuYWRkQ2hpbGQoYmcpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0dXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHR2YXIgY2FtZXJhID0gdGhpcy5jYW1lcmE7XHJcblx0XHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihiZykge1xyXG5cdFx0XHRcdC8vIGgtdGlsZWRcclxuXHRcdFx0XHRpZihiZy5odGlsZWQpIHtcclxuXHRcdFx0XHRcdC8vIHJlc2l6ZSBiZ1xyXG5cdFx0XHRcdFx0Ymcud2lkdGggPSBjYW1lcmEucmVuZGVyZXIud2lkdGg7XHJcblx0XHRcdFx0XHQvLyBjZW50ZXItdXAgcGFyYWxsYXggYmFja2dyb3VuZFxyXG5cdFx0XHRcdFx0YmcudGlsZVBvc2l0aW9uLnggPSBiZy53aWR0aCAvIDIgLSBiZy50ZXh0dXJlLndpZHRoIC8gMjtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IGJnIG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi54ICs9IGJnLnBhcmFsbGF4T2Zmc2V0Lng7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBwYXJhbGxheCBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueCArPSBjYW1lcmEueCAqIGJnLnBhcmFsbGF4U2NhbGUueDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyByZS1wb3NpdGlvbiBiYWNrZ3JvdW5kIGJ5IG9mZnNldFxyXG5cdFx0XHRcdFx0YmcucG9zaXRpb24ueCA9IGJnLnBhcmFsbGF4T2Zmc2V0LnggLSBjYW1lcmEucmVuZGVyZXIud2lkdGggLyAyO1xyXG5cdFx0XHRcdFx0Ly8gYXBwbHkgcGFyYWxsYXggb2Zmc2V0c1xyXG5cdFx0XHRcdFx0YmcucG9zaXRpb24ueCArPSBjYW1lcmEueCAqIGJnLnBhcmFsbGF4U2NhbGUueDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gdi10aWxlZFxyXG5cdFx0XHRcdGlmKGJnLnZ0aWxlZCkge1xyXG5cdFx0XHRcdFx0Ly8gcmVzaXplIGJnXHJcblx0XHRcdFx0XHRiZy5oZWlnaHQgPSBjYW1lcmEucmVuZGVyZXIuaGVpZ2h0O1xyXG5cdFx0XHRcdFx0Ly8gY2VudGVyLXVwIHBhcmFsbGF4IGJhY2tncm91bmRcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi55ID0gYmcuaGVpZ2h0IC8gMiAtIGJnLnRleHR1cmUuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IGJnIG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi55ICs9IGJnLnBhcmFsbGF4T2Zmc2V0Lnk7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBwYXJhbGxheCBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueSArPSBjYW1lcmEueSAqIGJnLnBhcmFsbGF4U2NhbGUueTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyByZS1wb3NpdGlvbiBiYWNrZ3JvdW5kIGJ5IG9mZnNldFxyXG5cdFx0XHRcdFx0YmcucG9zaXRpb24ueSA9IGJnLnBhcmFsbGF4T2Zmc2V0LnkgKyBjYW1lcmEucmVuZGVyZXIuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IHBhcmFsbGF4IG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnBvc2l0aW9uLnkgKz0gY2FtZXJhLnkgKiBiZy5wYXJhbGxheFNjYWxlLnk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNvbW1vbiB0cmFuc2Zvcm0gdXBkYXRlXHJcblx0XHRcdFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBHYW1lIHN0YXRlIG1hbmlwdWxhdGluZyBjbGFzcy5cclxuXHQgKi9cclxuXHRCQlEuU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRhbmNlIGN0b3JcclxuXHRcdFBJWEkuQ29udGFpbmVyLmNhbGwodGhpcyk7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5TdGF0ZSBieSBQSVhJLkNvbnRhaW5lciBjbGFzc1xyXG5cdEJCUS5VdGlscy5leHRlbmRzKEJCUS5TdGF0ZSwgUElYSS5Db250YWluZXIsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGN0b3IuXHJcblx0XHQgKi9cclxuXHRcdGNvbnN0cnVjdG9yOiBCQlEuU3RhdGUsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZXMgc3RhdGUgc2NlbmUgYmVmb3JlIGZpcnN0IHVzZS5cclxuXHRcdCAqL1xyXG5cdFx0Y3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY2FtZXJhIGluc3RhbmNlXHJcblx0XHRcdHRoaXMuY2FtZXJhID0gbmV3IEJCUS5Gb2xsb3dDYW1lcmEodGhpcy5hcHAucmVuZGVyZXIpO1xyXG5cclxuXHRcdFx0Ly8gdGhlIGJhY2tncm91bmQgbGF5ZXJzXHJcblx0XHRcdHRoaXMuYmFja2dyb3VuZCA9IG5ldyBCQlEuUGFyYWxsYXhCYWNrZ3JvdW5kKHRoaXMuY2FtZXJhKTtcclxuXHJcblx0XHRcdC8vIGNyZWF0ZSBjb21tb24gYWN0b3JzIGxheWVyXHJcblx0XHRcdHRoaXMuYWN0b3JzID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcblx0XHRcdHRoaXMuYWN0b3JzLnRvRGVsZXRlID0gW107IC8vIGRlbGV0ZSByZW1haW5pbmcgbGlzdFxyXG5cdFx0XHR0aGlzLmNhbWVyYS5hZGRDaGlsZCh0aGlzLmFjdG9ycyk7XHJcblxyXG5cdFx0XHQvLyB0aGUgZm9yZWdyb3VuZCBvYmplY3RzIGNvbnRhaW5lclxyXG5cdFx0XHR0aGlzLmZvcmVncm91bmQgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcblx0XHRcdC8vIGFkZCBsYXllcnMgYnkgcmlnaHQgb3JkZXJcclxuXHRcdFx0dGhpcy5hZGRDaGlsZCh0aGlzLmJhY2tncm91bmQpO1xyXG5cdFx0XHR0aGlzLmFkZENoaWxkKHRoaXMuY2FtZXJhKTtcclxuXHRcdFx0dGhpcy5hZGRDaGlsZCh0aGlzLmZvcmVncm91bmQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGZyYW1lIG9mIHN0YWdlIGxheWVycy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtGbG9hdH0gZGVsdGEgU3RhZ2UgdXBkYXRlIHRpbWUgdG8gYXBwbHkuXHJcblx0XHQgKi9cclxuXHRcdHN0ZXA6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIHBlcmZvcm0gYWN0b3JzIGRlbGV0aW5nXHJcblx0XHRcdHRoaXMuYWN0b3JzLnRvRGVsZXRlLmZvckVhY2goZnVuY3Rpb24oYWN0b3IpIHtcclxuXHRcdFx0XHRpZihhY3Rvcikge1xyXG5cdFx0XHRcdFx0YWN0b3IuZW1pdFNpZ25hbCgnZGVzdHJveScpO1xyXG5cdFx0XHRcdFx0dGhpcy5hY3RvcnMucmVtb3ZlQ2hpbGQoYWN0b3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBzb3J0IGFjdG9ycyBkZXB0aFxyXG5cdFx0XHR0aGlzLmFjdG9ycy5jaGlsZHJlbi5zb3J0KHRoaXMuc29ydEFjdG9yc0Z1bmMpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcGVyZm9ybSB1cGRhdGUgYWN0b3JzIGxheWVyc1xyXG5cdFx0XHR0aGlzLnBlcmZvcm1MYXllcih0aGlzLmFjdG9ycywgJ3VwZGF0ZScsIGRlbHRhLCB0aGlzLmFwcCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgY2FtZXJhXHJcblx0XHRcdHRoaXMuY2FtZXJhLnVwZGF0ZShkZWx0YSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJlbmRlcnMgc3RhZ2Ugb250byBzY3JlZW4uXHJcblx0XHQgKi9cclxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIHJlbmRlcnMgc3RhZ2UgZ2FtZXBsYXlcclxuXHRcdFx0dGhpcy5hcHAucmVuZGVyZXIucmVuZGVyKHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhY3Rpb24gZm9yIHNpbmdsZSBsYXllciBhY3RvcnMuXHJcblx0XHQgKiBBbGxvd3Mgb3B0aW9uYWwgYXJndW1lbnRzIGFwcGx5aW5nIGZvciBhY3Rpb24gY2FsbC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gbGF5ZXIgQWN0b3JzIGxheWVyIGNvbnRhaW5lci5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuU3RhZ2V9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0cGVyZm9ybUxheWVyOiBmdW5jdGlvbihsYXllciwgYWN0aW9uKSB7XHJcblx0XHRcdHZhciBzbGljZWRBcmd1bWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG5cdFx0XHRsYXllci5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGFjdG9yKSB7XHJcblx0XHRcdFx0dmFyIGFjdG9yRnVuYyA9IGFjdG9yW2FjdGlvbl07XHJcblx0XHRcdFx0aWYodHlwZW9mIGFjdG9yRnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0YWN0b3JGdW5jLmFwcGx5KGFjdG9yLCBzbGljZWRBcmd1bWVudHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBHZW5lcmFsIGFjdG9ycyBzb3J0aW5nIGZ1bmN0aW9uLlxyXG5cdFx0ICogU29ydHMgYWN0b3JzIGRlcHRoIGJ5IFkgcG9zaXRpb24gcHJvcGVydHkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvcjEgTGVmdCBhY3Rvci5cclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvcjIgUmlnaHQgYWN0b3IuXHJcblx0XHQgKiBAcmV0dXJucyB7TnVtYmVyfSBDb21wYXJzaW9uIHJlc3VsdC5cclxuXHRcdCAqL1xyXG5cdFx0c29ydEFjdG9yc0Z1bmM6IGZ1bmN0aW9uKGFjdG9yMSwgYWN0b3IyKSB7XHJcblx0XHRcdGlmKGFjdG9yMS5wb3NpdGlvbi55IDwgYWN0b3IyLnBvc2l0aW9uLnkpIHtcclxuXHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZihhY3RvcjEucG9zaXRpb24ueSA+IGFjdG9yMi5wb3NpdGlvbi55KSB7XHJcblx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIDA7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxufSkod2luZG93LkJCUSA9IHdpbmRvdy5CQlEgfHwge30sIFBJWEkpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKlxyXG4gKiBhY3RvcnMuanNcclxuICogXHJcbiAqIEdhbWUgYWxsIGFjdG9ycy5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEdhbWUgYWN0b3JzIG9iamVjdHMuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gR2FtZSBDb21tb24gcHVibGljIGdhbWUgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gQkJRIEVuZ2luZSBwdWJsaWMgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge1BJWEl9IFBpeGkgUElYSSByZW5kZXJpbmcgZW5naW5lIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihHYW1lLCBCQlEsIFBJWEkpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBHYW1lIGFjdG9ycy5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycyA9IHt9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEZpcnN0IHN0YWdlIC0gRXZpbCBUb3duLlxyXG5cdCAqL1xyXG5cdEdhbWUuQWN0b3JzLkNoYXJhY3RlciA9IEJCUS5DbGFzcyhmdW5jdGlvbihpbWFnZSkge1xyXG5cdFx0Ly8gaW5oZXJpdGVkIGN0b3JcclxuXHRcdEJCUS5BbmltYXRlZEFjdG9yLmNhbGwodGhpcyk7XHJcblx0XHRcclxuXHRcdC8vIGZpbmQgaW1hZ2UgYnkgbmFtZVxyXG5cdFx0aWYodHlwZW9mIGltYWdlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRpbWFnZSA9IEdhbWUuYXBwLmltYWdlc1tpbWFnZV07XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIHNldHVwIHNoYWRvdyB0ZXh0dXJlXHJcblx0XHR0aGlzLnRleHR1cmUgPSBHYW1lLmFwcC50ZXgoJ3NoYWRvdycpO1xyXG5cdFx0dGhpcy5hbmNob3IueCA9IHRoaXMuYW5jaG9yLnkgPSAwLjU7XHJcblx0XHRcclxuXHRcdC8vIGFkZCBib2R5IGNoaWxkXHJcblx0XHR0aGlzLmJvZHkgPSBuZXcgUElYSS5TcHJpdGUoR2FtZS5hcHAudGV4KGltYWdlLCBmYWxzZSkpO1xyXG5cdFx0dGhpcy5ib2R5LmFuY2hvci54ID0gMC41O1xyXG5cdFx0dGhpcy5ib2R5LmFuY2hvci55ID0gMTtcclxuXHRcdC8vdGhpcy5ib2R5LnRleHR1cmUudHJpbS53aWR0aCA9IHRoaXMuZnJhbWVTaXplLndpZHRoO1xyXG5cdFx0Ly90aGlzLmJvZHkudGV4dHVyZS50cmltLmhlaWdodCA9IHRoaXMuZnJhbWVTaXplLmhlaWdodDtcclxuXHRcdC8vdGhpcy5ib2R5LnRleHR1cmUudHJpbSA9IHRoaXMuZnJhbWVTaXplLmNsb25lKCk7XHJcblx0XHQvL3RoaXMuYm9keS50ZXh0dXJlLmNyb3AgPSB0aGlzLmZyYW1lU2l6ZS5jbG9uZSgpO1xyXG5cdFx0dGhpcy5hZGRDaGlsZCh0aGlzLmJvZHkpO1xyXG5cdFx0XHJcblx0XHQvLyBjYWxjdWxhdGUgdGV4dHVyZSBmcmFtZSBzaXplXHJcblx0XHR0aGlzLmZyYW1lU2l6ZSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxNiwgMjgpO1xyXG5cdFx0XHJcblx0XHQvLyBzdGF0ZXNcclxuXHRcdHRoaXMuc3RhdGUgPSB7XHJcblx0XHRcdG1vdmVtZW50OiBuZXcgUElYSS5Qb2ludCgpXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvLyBtb3ZlbWVudCB2ZWxvY2l0eVxyXG5cdFx0dGhpcy52ZWxvY2l0eSA9IG5ldyBQSVhJLlBvaW50KCk7XHJcblx0XHRcclxuXHRcdC8vIGNvbGxpc2lvbiBib3VuZGluZyBib3hcclxuXHRcdHRoaXMuYmJveCA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxNiwgOCk7XHJcblx0XHR0aGlzLmhpdEJib3ggPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgNCwgMTApO1xyXG5cdFx0XHJcblx0XHQvLyBjaGFyYWN0ZXIgYmFzaWMgc3RhdGVzXHJcblx0XHR0aGlzLmhlYWx0aCA9IDEwMDtcclxuXHRcdHRoaXMuc3RyZW5ndGggPSB7XHJcblx0XHRcdHB1bmNoOiAxMCxcclxuXHRcdFx0a2ljazogMTVcclxuXHRcdH07XHJcblx0XHR0aGlzLnNwZWVkID0ge1xyXG5cdFx0XHR3YWxrOiAzNSxcclxuXHRcdFx0anVtcDogNTAsXHJcblx0XHRcdGhpdDogLTUwLFxyXG5cdFx0XHRwdW5jaDogMjAsXHJcblx0XHRcdGtpY2s6IDEwXHJcblx0XHR9O1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoQkJRLkFuaW1hdGVkQWN0b3IpXHJcblx0LnByb3BlcnRpZXMoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBGcmFtZSBzaXplIGFzIFBJWEkuUmVjdGFuZ2xlXHJcblx0XHQgKi9cclxuXHRcdGZyYW1lU2l6ZToge1xyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmJvZHkudGV4dHVyZS5jcm9wO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0dGhpcy5ib2R5LnRleHR1cmUudHJpbSA9IHZhbHVlLmNsb25lKCk7XHJcblx0XHRcdFx0dGhpcy5ib2R5LnRleHR1cmUuY3JvcCA9IHZhbHVlLmNsb25lKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIEFuaW1hdGlvbnMgZnJhbWVzIHRvIHVzZS5cclxuXHRcdCAqL1xyXG5cdFx0YW5pbWF0aW9uczoge1xyXG5cdFx0XHRpZGxlOiB7XHJcblx0XHRcdFx0dGltZTogMSxcclxuXHRcdFx0XHRmcmFtZXM6IFswXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR3YWxrOiB7XHJcblx0XHRcdFx0dGltZTogMC40MixcclxuXHRcdFx0XHRmcmFtZXM6IFswLCAxLCAwLCAyXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRqdW1wOiB7XHJcblx0XHRcdFx0dGltZTogLjUsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMywgNF0sXHJcblx0XHRcdFx0bmV4dDogJ2lkbGUnXHJcblx0XHRcdH0sXHJcblx0XHRcdGhpdDoge1xyXG5cdFx0XHRcdHRpbWU6IC4zNSxcclxuXHRcdFx0XHRmcmFtZXM6IFs1XSxcclxuXHRcdFx0XHRuZXh0OiAnaWRsZSdcclxuXHRcdFx0fSxcclxuXHRcdFx0cHVuY2g6IHsgLy8gYXR0YWNrIGFuaW1hdGlvblxyXG5cdFx0XHRcdHRpbWU6IC4zLFxyXG5cdFx0XHRcdGZyYW1lczogWzYsNyw4LDgsOF0sXHJcblx0XHRcdFx0bmV4dDogJ2lkbGUnXHJcblx0XHRcdH0sXHJcblx0XHRcdGtpY2s6IHsgLy8gYXR0YWNrIGFuaW1hdGlvblxyXG5cdFx0XHRcdHRpbWU6IC40LFxyXG5cdFx0XHRcdGZyYW1lczogWzksMTAsMTEsMTEsMTFdLFxyXG5cdFx0XHRcdG5leHQ6ICdpZGxlJ1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBjaGFyYWN0ZXIgc3RhdGVzLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGU6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIGluaGVyaXRlZCBzdXBlciBtZXRob2QgY2FsbFxyXG5cdFx0XHRCQlEuQW5pbWF0ZWRBY3Rvci5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcywgZGVsdGEpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdXBkYXRlIGFuaW1hdGlvbiBmcmFtZVxyXG5cdFx0XHR0aGlzLnVwZGF0ZUFuaW1GcmFtZSgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8ganVtcC9oaXQva2ljayBhbmltYXRpb24gaGVpZ2h0XHJcblx0XHRcdGlmKHRoaXMuYW5pbWF0aW9uID09PSAnanVtcCcpIHtcclxuXHRcdFx0XHR0aGlzLmJvZHkueSA9IC1NYXRoLnNpbigodGhpcy5mcmFtZVRpY2svMikgKiBNYXRoLlBJKSAqIDE2O1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYodGhpcy5hbmltYXRpb24gPT09ICdoaXQnKSB7XHJcblx0XHRcdFx0dGhpcy5ib2R5LnkgPSAtTWF0aC5zaW4oKHRoaXMuZnJhbWVUaWNrKSAqIE1hdGguUEkpICogODtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmKHRoaXMuYW5pbWF0aW9uID09PSAna2ljaycpIHtcclxuXHRcdFx0XHR0aGlzLmJvZHkueSA9IC1NYXRoLnNpbigodGhpcy5mcmFtZVRpY2svNSkgKiBNYXRoLlBJKSAqIDg7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBzdGF0ZVxyXG5cdFx0XHRpZih0eXBlb2YgdGhpcy51cGRhdGVTdGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlU3RhdGUoZGVsdGEpOyAvLyBleGVjIG9ubHkgaWYgZXhpc3RzXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdXBkYXRlIHBoeXNpY3NcclxuXHRcdFx0dGhpcy51cGRhdGVQaHlzaWNzKGRlbHRhKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBhbmltYXRpb24gZnJhbWUgYnkgdGV4dHVyZSBjcm9wcGluZy5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlQW5pbUZyYW1lOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY3JvcCB0ZXh0dXJlIGJ5IGZyYW1lIGluZGV4XHJcblx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLmNyb3AueCA9IE1hdGguZmxvb3IodGhpcy5mcmFtZUluZGV4ICUgMykgKiB0aGlzLmZyYW1lU2l6ZS53aWR0aDtcclxuXHRcdFx0dGhpcy5ib2R5LnRleHR1cmUuY3JvcC55ID0gTWF0aC5mbG9vcih0aGlzLmZyYW1lSW5kZXggLyAzKSAqIHRoaXMuZnJhbWVTaXplLmhlaWdodDtcclxuXHRcdFx0dGhpcy5ib2R5LnRleHR1cmUuX3VwZGF0ZVV2cygpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGNoYXJhY3RlciBwaHlzaWMuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVBoeXNpY3M6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdHRoaXMuc3RhdGUud2Fsa2luZyA9IHRoaXMuYW5pbWF0aW9uID09PSAnaWRsZScgfHwgdGhpcy5hbmltYXRpb24gPT09ICd3YWxrJztcclxuXHRcdFx0dGhpcy5zdGF0ZS5qdW1waW5nID0gdGhpcy5hbmltYXRpb24gPT09ICdqdW1wJztcclxuXHRcdFx0dGhpcy5zdGF0ZS5oaXR0ZWQgPSB0aGlzLmFuaW1hdGlvbiA9PT0gJ2hpdCc7XHJcblx0XHRcdHRoaXMuc3RhdGUuYXR0YWNraW5nID0gdGhpcy5hbmltYXRpb24gPT09ICdwdW5jaCcgfHwgdGhpcy5hbmltYXRpb24gPT09ICdraWNrJztcclxuXHRcdFx0XHJcblx0XHRcdC8vIGZyZWUgbW92ZW1lbnQgKHVubG9ja2VkKVxyXG5cdFx0XHRpZih0aGlzLnN0YXRlLndhbGtpbmcpIHtcclxuXHRcdFx0XHR0aGlzLnZlbG9jaXR5ID0gdGhpcy5zdGF0ZS5tb3ZlbWVudC5jbG9uZSgpLm5vcm1hbGl6ZSgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIHBsYXkgYW5pbWF0aW9uXHJcblx0XHRcdFx0aWYodGhpcy52ZWxvY2l0eS54IHx8IHRoaXMudmVsb2NpdHkueSkge1xyXG5cdFx0XHRcdFx0dGhpcy5wbGF5KCd3YWxrJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5wbGF5KCdpZGxlJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhdHRhY2tpbmcgb3IgaGl0dGVkIG1vdmVtZW50XHJcblx0XHRcdGlmKHRoaXMuc3RhdGUuYXR0YWNraW5nIHx8IHRoaXMuc3RhdGUuaGl0dGVkKSB7XHJcblx0XHRcdFx0dGhpcy52ZWxvY2l0eS5zZXQodGhpcy5zY2FsZS54LCAwKS5ub3JtYWxpemUoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYXR0YWNraW5nIGNvbGxpc2lvbiBpbmZvcm1lclxyXG5cdFx0XHRpZih0aGlzLnN0YXRlLmF0dGFja2luZyAmJiB0aGlzLmZyYW1lVGljayA+IDIpIHtcclxuXHRcdFx0XHR2YXIgYWN0b3IgPSB0aGlzLmdldEFjdG9ySGl0Q29sbGlzaW9uKHRoaXMuc2NhbGUueCoyLCAwKTtcclxuXHRcdFx0XHRpZihhY3RvciAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdGFjdG9yLmVtaXRTaWduYWwoJ2hpdCcsIHRoaXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gdXBkYXRlIHBvc2l0aW9uXHJcblx0XHRcdHZhciBzcGVlZCA9IHRoaXMuZ2V0Q3VycmVudFNwZWVkKCk7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnZlbG9jaXR5LnggKiBzcGVlZCAqIGRlbHRhO1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnkgPSBNYXRoLm1pbig3MCwgTWF0aC5tYXgoMCxcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnZlbG9jaXR5LnkgKiBzcGVlZCAqIGRlbHRhXHJcblx0XHRcdCkpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHdvcmxkIGJvdW5kaW5nIGJveC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfVxyXG5cdFx0ICovXHJcblx0XHRnZXRXb3JsZEJCb3g6IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHRcdFx0dmFyIF9jeCA9IHRoaXMuYmJveC53aWR0aCAvIDIsXHJcblx0XHRcdFx0X2N5ID0gdGhpcy5iYm94LmhlaWdodCAvIDI7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gbmV3IFBJWEkuUmVjdGFuZ2xlKFxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueCAtIF9jeCArIHRoaXMuYmJveC54ICsgKHggfHwgMCksXHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbi55IC0gX2N5ICsgdGhpcy5iYm94LnkgKyAoeSB8fCAwKSxcclxuXHRcdFx0XHR0aGlzLmJib3gud2lkdGgsXHJcblx0XHRcdFx0dGhpcy5iYm94LmhlaWdodFxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHdvcmxkIGJvdW5kaW5nIGJveC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfVxyXG5cdFx0ICovXHJcblx0XHRnZXRXb3JsZEhpdEJCb3g6IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHRcdFx0dmFyIF9jeCA9IHRoaXMuaGl0QmJveC53aWR0aCAvIDIsXHJcblx0XHRcdFx0X2N5ID0gdGhpcy5oaXRCYm94LmhlaWdodCAvIDI7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gbmV3IFBJWEkuUmVjdGFuZ2xlKFxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueCAtIF9jeCArIHRoaXMuaGl0QmJveC54ICsgKHggfHwgMCksXHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbi55IC0gX2N5ICsgdGhpcy5oaXRCYm94LnkgKyAoeSB8fCAwKSxcclxuXHRcdFx0XHR0aGlzLmhpdEJib3gud2lkdGgsXHJcblx0XHRcdFx0dGhpcy5oaXRCYm94LmhlaWdodFxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIGNvbGxpc2lvbiB3aXRoIGFjdG9yLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0geCBTaGlmdCBhYWJiLnggY29vcmQgYnkgZ2l2ZW4gdmFsdWUuXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0geSBTaGlmdCBhYWJiLnkgY29vcmQgYnkgZ2l2ZW4gdmFsdWUuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfEJvb2xlYW59IENvbGxpZGVkIGFjdG9yIG9yIEZBTFNFLlxyXG5cdFx0ICovXHJcblx0XHRnZXRBY3RvckhpdENvbGxpc2lvbjogZnVuY3Rpb24oeCwgeSkge1xyXG5cdFx0XHR2YXIgX2Jib3ggPSB0aGlzLmdldFdvcmxkSGl0QkJveCh4LCB5KSxcclxuXHRcdFx0XHRhY3RvcnMgPSBHYW1lLmFwcC5zdGF0ZS5hY3RvcnMuY2hpbGRyZW4sXHJcblx0XHRcdFx0YWN0b3I7XHJcblx0XHRcdFxyXG5cdFx0XHRmb3IodmFyIGFpbmQgaW4gYWN0b3JzKSB7XHJcblx0XHRcdFx0YWN0b3IgPSBhY3RvcnNbYWluZF07XHJcblx0XHRcdFx0aWYoYWN0b3IgPT09IHRoaXMpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZih0eXBlb2YgYWN0b3IuYmJveCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdGlmKGFjdG9yLmdldFdvcmxkQkJveCgpLmludGVyc2VjdHMoX2Jib3gpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhY3RvcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBjdXJyZW50IGNoYXJhY3RlciBzcGVlZCBieSBhY3R1YWwgYW5pbWF0aW9uLlxyXG5cdFx0ICogRGlmZmVyZW50IHNwZWVkIGFyZSBlYWNoIHN0YXRlcyBpLmUuIGdyb3VuZC9haXIgc3BlZWQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFNwZWVkXHJcblx0XHQgKi9cclxuXHRcdGdldEN1cnJlbnRTcGVlZDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnNwZWVkW3RoaXMuYW5pbWF0aW9uXSB8fCAwO1xyXG5cdFx0fVxyXG5cdH0pXHJcblx0LmZpbmFsKCk7XHJcblx0XHJcblx0Ly8gUHJlbG9hZCBhc3NldHNcclxuXHRHYW1lLkFjdG9ycy5DaGFyYWN0ZXIucHJlbG9hZCA9IGZ1bmN0aW9uKGFwcCkge1xyXG5cdFx0YXBwLmxvYWRJbWFnZXMoJ3NoYWRvdycpO1xyXG5cdH07XHJcblx0XHJcblx0XHJcblx0LyoqXHJcblx0ICogUGxheWVyIGFjdG9yLlxyXG5cdCAqL1xyXG5cdEdhbWUuQWN0b3JzLlBsYXllciA9IEJCUS5DbGFzcyhmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRlIGN0b3IgY2FsbFxyXG5cdFx0R2FtZS5BY3RvcnMuQ2hhcmFjdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcclxuXHRcdC8vIGlucHV0IGV2ZW50cyBob2xkZXJcclxuXHRcdHRoaXMuaW5wdXQgPSB7fTtcclxuXHRcdFxyXG5cdFx0Ly8gaW5wdXQga2V5bWFwcGluZ1xyXG5cdFx0dGhpcy5rZXltYXAgPSB7XHJcblx0XHRcdHJpZ2h0OiAncmlnaHQnLFxyXG5cdFx0XHRsZWZ0OiAnbGVmdCcsXHJcblx0XHRcdHVwOiAndXAnLFxyXG5cdFx0XHRkb3duOiAnZG93bicsXHJcblx0XHRcdFxyXG5cdFx0XHRwdW5jaDogJ3AnLFxyXG5cdFx0XHRraWNrOiAnbycsXHJcblx0XHRcdGp1bXA6ICdsJ1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gYmluZCBldmVudHMgc2lnbmFsc1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCdrZXlkb3duJywgdGhpcy5vbktleUV2ZW50KTtcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgna2V5dXAnLCB0aGlzLm9uS2V5RXZlbnQpO1xyXG5cdFx0XHJcblx0XHQvLyBiaW5kcyBjb21tb24gc2lnbmFsc1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCdoaXQnLCB0aGlzLm9uSGl0KTtcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgnZGVzdHJveScsIHRoaXMub25EZXN0cm95KTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKEdhbWUuQWN0b3JzLkNoYXJhY3RlcilcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgcGxheWVyIG1vdmVtZW50IHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVTdGF0ZTogZnVuY3Rpb24gKGRlbHRhKSB7XHJcblx0XHRcdC8vIGNsZWFyIG1vdmVtZW50IHN0YXRlXHJcblx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQuc2V0KCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBoYW5kbGUgb24tZ3JvdW5kIHN0YXRlXHJcblx0XHRcdGlmKHRoaXMuc3RhdGUud2Fsa2luZykge1xyXG5cdFx0XHRcdC8vIGhhbmRsZSBhdHRhY2tpbmcgaW5wdXRzXHJcblx0XHRcdFx0aWYodGhpcy5pbnB1dC5hdHRhY2spIHtcclxuXHRcdFx0XHRcdHRoaXMucGxheSh0aGlzLmlucHV0LmF0dGFjayk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGhhbmRsZSBqdW1waW5nIGlucHV0XHJcblx0XHRcdFx0ZWxzZSBpZih0aGlzLmlucHV0Lmp1bXApIHtcclxuXHRcdFx0XHRcdHRoaXMucGxheSgnanVtcCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdC8vIGhhbmRsZSBpbnB1dHMgZm9yIGhvcml6b250YWwgbW92ZW1lbnRcclxuXHRcdFx0XHRcdGlmKHRoaXMuaW5wdXQucmlnaHQpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC54ID0gMTtcclxuXHRcdFx0XHRcdFx0dGhpcy5zY2FsZS54ID0gMTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYodGhpcy5pbnB1dC5sZWZ0KSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueCA9IC0xO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnNjYWxlLnggPSAtMTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBoYW5kbGUgaW5wdXRzIGZvciB2ZXJ0aWNhbCBtb3ZlbWVudFxyXG5cdFx0XHRcdFx0aWYodGhpcy5pbnB1dC5kb3duKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueSA9IDE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIGlmKHRoaXMuaW5wdXQudXApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC55ID0gLTE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjbGVhciBzdGF0ZXNcclxuXHRcdFx0dGhpcy5pbnB1dC5hdHRhY2sgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5pbnB1dC5qdW1wID0gZmFsc2U7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE92ZXJyaWRlcyBieSBhcHBseWluZyBzY2VuZSBib3VuZGluZ3MuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVBoeXNpY3M6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdEdhbWUuQWN0b3JzLkNoYXJhY3Rlci5wcm90b3R5cGUudXBkYXRlUGh5c2ljcy5jYWxsKHRoaXMsIGRlbHRhKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIG1ha2Ugc2NlbmUgYm91bmRzXHJcblx0XHRcdC8vdGhpcy5wb3NpdGlvbi54ID0gTWF0aC5tYXgoLTI1MCwgTWF0aC5taW4oMjUwLCB0aGlzLnBvc2l0aW9uLngpKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlIGtleWJvYXJkIGV2ZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge3R5cGV9IGVcclxuXHRcdCAqIEBwYXJhbSB7dHlwZX0gZG93blxyXG5cdFx0ICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuXHRcdCAqL1xyXG5cdFx0b25LZXlFdmVudDogZnVuY3Rpb24oa2V5LCBkb3duKSB7XHJcblx0XHRcdC8vIG1vdmVtZW50IGtleXNcclxuXHRcdFx0aWYgKGtleSA9PT0gdGhpcy5rZXltYXAucmlnaHQpIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnJpZ2h0ID0gZG93bjtcclxuXHRcdFx0fSBlbHNlIGlmIChrZXkgPT09IHRoaXMua2V5bWFwLmxlZnQpIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmxlZnQgPSBkb3duO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGtleSA9PT0gdGhpcy5rZXltYXAuZG93bikge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuZG93biA9IGRvd247XHJcblx0XHRcdH0gZWxzZSBpZiAoa2V5ID09PSB0aGlzLmtleW1hcC51cCkge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQudXAgPSBkb3duO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5wdW5jaCAmJiBkb3duKSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5hdHRhY2sgPSAncHVuY2gnO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKGtleSA9PT0gdGhpcy5rZXltYXAua2ljayAmJiBkb3duKSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5hdHRhY2sgPSAna2ljayc7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGlmIChrZXkgPT09IHRoaXMua2V5bWFwLmp1bXAgJiYgZG93bikge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuanVtcCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlIGFuIGhpdCBzaWduYWwuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBvdGhlclxyXG5cdFx0ICovXHJcblx0XHRvbkhpdDogZnVuY3Rpb24ob3RoZXIpIHtcclxuXHRcdFx0aWYoISB0aGlzLnN0YXRlLmhpdHRlZCAmJiAhIHRoaXMuc3RhdGUuanVtcGluZykge1xyXG5cdFx0XHRcdHRoaXMuc2NhbGUueCA9IC1vdGhlci5zY2FsZS54O1xyXG5cdFx0XHRcdHRoaXMuaGVhbHRoIC09IG90aGVyLnN0cmVuZ3RoW290aGVyLmFuaW1hdGlvbl0gfHwgMTA7XHJcblx0XHRcdFx0dGhpcy5wbGF5KCdoaXQnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZih0aGlzLmhlYWx0aCA8IDApIHtcclxuXHRcdFx0XHRcdEdhbWUuYXBwLnN0YXRlLnBsYXllcktpbGxlZCh0aGlzKTtcclxuXHRcdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBPbi1kZXN0cm95IGV2ZW50IGhhbmRsZXIuXHJcblx0XHQgKi9cclxuXHRcdG9uRGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdEdhbWUuYXBwLnN0YXRlLmNhbWVyYS51bmZvbGxvdyh0aGlzKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvLyBQcmVsb2FkIGFzc2V0c1xyXG5cdEdhbWUuQWN0b3JzLlBsYXllci5wcmVsb2FkID0gZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRhcHAubG9hZEltYWdlcygnZmF0Z3V5JywgJ2luZGljYXRvcicpO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogUGxheWVyIHdpdGggdG91Y2gtc2NyZWVuIHVzZWFiaWxpdHkuXHJcblx0ICovXHJcblx0R2FtZS5BY3RvcnMuUGxheWVyVG91Y2hTY3JlZW4gPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHRHYW1lLkFjdG9ycy5QbGF5ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFxyXG5cdFx0Ly8gdG91Y2ggZXZlbnQgaG9sZGVyXHJcblx0XHR0aGlzLnRvdWNoID0ge307XHJcblx0XHRcclxuXHRcdC8vIGJpbmQgdG91Y2gtc2NyZWVuIGV2ZW50c1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoU3RhcnQpO1xyXG5cdFx0dGhpcy5iaW5kU2lnbmFsKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlKTtcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQpO1xyXG5cdFx0XHJcblx0XHQvLyBiaW5kIGNvbW1vbiBldmVudHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgnZGVzdHJveScsIHRoaXMuZGVzdHJveUluZGljYXRvcik7XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhHYW1lLkFjdG9ycy5QbGF5ZXIpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogT24tdG91Y2ggaW5mb3JtYXRpb25zIGhhbmRsZXIuXHJcblx0XHQgKiBTaW11bGF0ZXMgY29tbW9uIGlucHV0IGV2ZW50cy5cclxuXHRcdCAqL1xyXG5cdFx0b25Ub3VjaFN0YXJ0OiBmdW5jdGlvbihpZCwgeCwgeSkge1xyXG5cdFx0XHR2YXIgX3Njcmh3ID0gR2FtZS5hcHAucmVuZGVyZXIud2lkdGggLyAyLFxyXG5cdFx0XHRcdF9zY3JoaCA9IEdhbWUuYXBwLnJlbmRlcmVyLmhlaWdodCAvIDI7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBtb3ZlbWVudFxyXG5cdFx0XHRpZih4IDwgX3Njcmh3KSB7XHJcblx0XHRcdFx0aWYoIXRoaXMudG91Y2gubW92ZSkge1xyXG5cdFx0XHRcdFx0dGhpcy50b3VjaC5tb3ZlID0ge1xyXG5cdFx0XHRcdFx0XHRpZDogaWQsXHJcblx0XHRcdFx0XHRcdHg6IHgsXHJcblx0XHRcdFx0XHRcdHk6IHlcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBjcmVhdGUgaW5kaWNhdG9yXHJcblx0XHRcdFx0XHR0aGlzLmluZGljYXRvciA9IG5ldyBQSVhJLlNwcml0ZShHYW1lLmFwcC50ZXgoJ2luZGljYXRvcicpKTtcclxuXHRcdFx0XHRcdHRoaXMuaW5kaWNhdG9yLmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMC41KTtcclxuXHRcdFx0XHRcdHRoaXMuaW5kaWNhdG9yLnBvc2l0aW9uLnggPSB4O1xyXG5cdFx0XHRcdFx0dGhpcy5pbmRpY2F0b3IucG9zaXRpb24ueSA9IHk7XHJcblxyXG5cdFx0XHRcdFx0R2FtZS5hcHAuc3RhdGUuZm9yZWdyb3VuZC5hZGRDaGlsZCh0aGlzLmluZGljYXRvcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGp1bXAgJiBhdHRhY2tcclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0aWYoeSA8IF9zY3JoaCkge1xyXG5cdFx0XHRcdFx0dGhpcy5pbnB1dC5qdW1wID0gdHJ1ZTtcdFx0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2UgaWYoeCA8IF9zY3JodyArIF9zY3JodyAvIDIpIHtcclxuXHRcdFx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gJ2tpY2snO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gJ3B1bmNoJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogT24tdG91Y2ggaW5mb3JtYXRpb25zIGhhbmRsZXIuXHJcblx0XHQgKiBTaW11bGF0ZXMgY29tbW9uIGlucHV0IGV2ZW50cy5cclxuXHRcdCAqL1xyXG5cdFx0b25Ub3VjaE1vdmU6IGZ1bmN0aW9uKGlkLCB4LCB5KSB7XHJcblx0XHRcdGlmKHRoaXMudG91Y2gubW92ZSAmJiB0aGlzLnRvdWNoLm1vdmUuaWQgPT09IGlkKSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5yaWdodCA9IHggLSB0aGlzLnRvdWNoLm1vdmUueCA+IDEwO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQubGVmdCAgPSB4IC0gdGhpcy50b3VjaC5tb3ZlLnggPCAtMTA7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5kb3duICA9IHkgLSB0aGlzLnRvdWNoLm1vdmUueSA+IDEwO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQudXAgICAgPSB5IC0gdGhpcy50b3VjaC5tb3ZlLnkgPCAtMTA7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogT24tdG91Y2ggaW5mb3JtYXRpb25zIGhhbmRsZXIuXHJcblx0XHQgKiBTaW11bGF0ZXMgY29tbW9uIGlucHV0IGV2ZW50cy5cclxuXHRcdCAqL1xyXG5cdFx0b25Ub3VjaEVuZDogZnVuY3Rpb24oaWQsIHgsIHkpIHtcclxuXHRcdFx0aWYodGhpcy50b3VjaC5tb3ZlICYmIHRoaXMudG91Y2gubW92ZS5pZCA9PT0gaWQpIHtcclxuXHRcdFx0XHR0aGlzLnRvdWNoLm1vdmUgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnJpZ2h0ID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5sZWZ0ICA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuZG93biAgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnVwICAgID0gZmFsc2U7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gcmVtb3ZlIGluZGljYXRvclxyXG5cdFx0XHRcdHRoaXMuZGVzdHJveUluZGljYXRvcigpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZXMgaW5kaWNhdG9yIGlmIGV4aXN0cy5cclxuXHRcdCAqL1xyXG5cdFx0ZGVzdHJveUluZGljYXRvcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmKHRoaXMuaW5kaWNhdG9yKSB7XHJcblx0XHRcdFx0R2FtZS5hcHAuc3RhdGUuZm9yZWdyb3VuZC5yZW1vdmVDaGlsZCh0aGlzLmluZGljYXRvcik7XHJcblx0XHRcdFx0dGhpcy5pbmRpY2F0b3IgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEVuZW15IGFjdG9yLlxyXG5cdCAqL1xyXG5cdEdhbWUuQWN0b3JzLkVuZW15ID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gaW5oZXJpdGUgY3RvciBjYWxsXHJcblx0XHRHYW1lLkFjdG9ycy5DaGFyYWN0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFxyXG5cdFx0Ly8gYmluZCBhZGRpdGlvbmFsIHNpZ25hbHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgnaGl0JywgdGhpcy5vbkhpdCk7XHJcblx0XHRcclxuXHRcdC8vIGZvbGxvd2luZyBwbGF5ZXIgb2JqZWN0XHJcblx0XHR0aGlzLmZvbGxvdyA9IGZhbHNlO1xyXG5cdFx0dGhpcy50aWNrID0gMDtcclxuXHRcdFxyXG5cdFx0Ly8gZW5lbXkgYmFzaWMgc3RhdGVzXHJcblx0XHR0aGlzLmhlYWx0aCA9IDUwO1xyXG5cdFx0dGhpcy5zcGVlZCA9IHtcclxuXHRcdFx0d2FsazogMjUsXHJcblx0XHRcdGp1bXA6IDQwLFxyXG5cdFx0XHRoaXQ6IC01MCxcclxuXHRcdFx0cHVuY2g6IDIwLFxyXG5cdFx0XHRraWNrOiAxMFxyXG5cdFx0fTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKEdhbWUuQWN0b3JzLkNoYXJhY3RlcilcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgZW5lbXkgbW92ZW1lbnQgc3RhdGUuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVN0YXRlOiBmdW5jdGlvbiAoZGVsdGEpIHtcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS53YWxraW5nKSB7XHJcblx0XHRcdFx0Ly8gZmluZCBuZWFyZXN0IHBsYXllclxyXG5cdFx0XHRcdHZhciBwbGF5ZXIgPSB0aGlzLmZpbmROZWFyZXN0UGxheWVyKCk7XHJcblxyXG5cdFx0XHRcdC8vIHBsYXllciBmb3VuZFxyXG5cdFx0XHRcdGlmKHBsYXllciAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdC8vIGNsZWFyIG1vdmVtZW50IHN0YXRlXHJcblx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnNldCgpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBtb3ZlbWVudFxyXG5cdFx0XHRcdFx0aWYodGhpcy5kaXN0YW5jZVRvKHBsYXllcikgPiAxMCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1vdmVUbyhwbGF5ZXIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZih0aGlzLnRpY2stLSA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGxheShNYXRoLnJhbmRvbSgpIDwgMC43NSA/ICdwdW5jaCcgOiAna2ljaycpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnRpY2sgPSA1ICsgMTAgKiBNYXRoLnJhbmRvbSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGZhY2UgZGlyZWN0aW9uXHJcblx0XHRcdFx0XHR0aGlzLnNjYWxlLnggPSB0aGlzLnBvc2l0aW9uLnggPiBwbGF5ZXIucG9zaXRpb24ueCA/IC0xIDogMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyBuZWFyZXN0IHBsYXllci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3RvcnxCb29sZWFufSBOZWFyZXN0IHBsYXllciBvciBGQUxTRS5cclxuXHRcdCAqL1xyXG5cdFx0ZmluZE5lYXJlc3RQbGF5ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgcGxheWVycyA9IEdhbWUuYXBwLnN0YXRlLnBsYXllcnMsXHJcblx0XHRcdFx0Y3VycmVudERpc3RhbmNlID0gMTAwMDA7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZXNldCBmb2xsb3dpbmcgc3RhdGVcclxuXHRcdFx0Ly90aGlzLmZvbGxvdyA9IGZhbHNlO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZmluZCBuZWFyZXN0IHBsYXllclxyXG5cdFx0XHRmb3IodmFyIHBpbmQgaW4gcGxheWVycykge1xyXG5cdFx0XHRcdHZhciBwbGF5ZXIgPSBwbGF5ZXJzW3BpbmRdLFxyXG5cdFx0XHRcdFx0cGxheWVyRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlVG8ocGxheWVyKTtcclxuXHRcdFx0XHQvL2lmKHBsYXllckRpc3RhbmNlIDwgNjApIHsgLy8gbWluIDYwIHBpeGVsc1xyXG5cdFx0XHRcdFx0aWYodGhpcy5mb2xsb3cgPT09IGZhbHNlIHx8IHBsYXllckRpc3RhbmNlIDwgY3VycmVudERpc3RhbmNlKSB7XHJcblx0XHRcdFx0XHRcdGN1cnJlbnREaXN0YW5jZSA9IHBsYXllckRpc3RhbmNlO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmZvbGxvdyA9IHBsYXllcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQvL31cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcGxheWVyIHdlcmUga2lsbGVkXHJcblx0XHRcdGlmKHRoaXMuZm9sbG93ICYmIHRoaXMuZm9sbG93LmtpbGxlZCkge1xyXG5cdFx0XHRcdHRoaXMuZm9sbG93ID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiB0aGlzLmZvbGxvdztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBkaXN0YW5jZSB0byBnaXZlbiBhY3Rvci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IGFjdG9yIE90aGVyIGFjdG9yLlxyXG5cdFx0ICogQHJldHVybnMge051bWJlcn0gRGlzdGFuY2UgYmV0d2VlbiBhY3RvcnMuXHJcblx0XHQgKi9cclxuXHRcdGRpc3RhbmNlVG86IGZ1bmN0aW9uKGFjdG9yKSB7XHJcblx0XHRcdHZhciB4ID0gYWN0b3IucG9zaXRpb24ueCAtIHRoaXMucG9zaXRpb24ueCxcclxuXHRcdFx0XHR5ID0gYWN0b3IucG9zaXRpb24ueSAtIHRoaXMucG9zaXRpb24ueTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGFsZ29yeXRtIHB5dGFnb2xhc2Egc3FydCh4XjIgKyB5XjIpXHJcblx0XHRcdHJldHVybiBNYXRoLnNxcnQoXHJcblx0XHRcdFx0eCp4ICsgeSp5XHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmVzIGVuZW15IHRvd2FyZHMgZ2l2ZW4gYWN0b3IuXHJcblx0XHQgKiBDaGFuZ2VzIG9ubHkgdmVsb2NpdHkgdmVjdG9yLCBkb2VzIG5vdCB3b3JrIGltbWVkaWF0ZWx5LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gYWN0b3IgVGFyZ2V0IGFjdG9yLlxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHNwZWVkIE1vdmVtZW50IHNwZWVkLlxyXG5cdFx0ICovXHJcblx0XHRtb3ZlVG86IGZ1bmN0aW9uKGFjdG9yLCBzcGVlZCkge1xyXG5cdFx0XHR2YXIgZGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlVG8oYWN0b3IpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gbm9ybWFsaXp1aiB3ZWt0b3IgaWEgcG9ydXN6ICdkbydcclxuXHRcdFx0Ly8gKG1ub3phYyBwcnpleiB3ZWt0b3Igbm9ybWFsbmVqIGFjdG9yLnBvcyAtIHRoaXMucG9zKVxyXG5cdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnggPSAoYWN0b3IucG9zaXRpb24ueCAtIHRoaXMucG9zaXRpb24ueCkvZGlzdGFuY2U7XHJcblx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueSA9IChhY3Rvci5wb3NpdGlvbi55IC0gdGhpcy5wb3NpdGlvbi55KS9kaXN0YW5jZTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlIGFuIGhpdCBzaWduYWwuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBvdGhlclxyXG5cdFx0ICovXHJcblx0XHRvbkhpdDogZnVuY3Rpb24ob3RoZXIpIHtcclxuXHRcdFx0aWYoISB0aGlzLnN0YXRlLmhpdHRlZCkge1xyXG5cdFx0XHRcdHRoaXMuc2NhbGUueCA9IC1vdGhlci5zY2FsZS54O1xyXG5cdFx0XHRcdHRoaXMuaGVhbHRoIC09IG90aGVyLnN0cmVuZ3RoW290aGVyLmFuaW1hdGlvbl0gfHwgMTA7XHJcblx0XHRcdFx0dGhpcy5wbGF5KCdoaXQnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZih0aGlzLmhlYWx0aCA8PSAwKSB7XHJcblx0XHRcdFx0XHR0aGlzLmRlc3Ryb3koKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvLyBQcmVsb2FkIGFzc2V0c1xyXG5cdEdhbWUuQWN0b3JzLkVuZW15LnByZWxvYWQgPSBmdW5jdGlvbihhcHApIHtcclxuXHRcdGFwcC5sb2FkSW1hZ2VzKCdlbmVteWd1eScpO1xyXG5cdH07XHJcbn0pKHdpbmRvdy5HYW1lID0gd2luZG93LkdhbWUgfHwge30sIEJCUSwgUElYSSk7XHJcblxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qXHJcbiAqIGNyZWF0dXJlcy5qc1xyXG4gKiBcclxuICogQ3JlYXR1cmVzLiBBbmltYWxzXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgRGFuaWVsIFwiU3pBUEtPXCIgRHVkemlrb3dza2kgPGRhbmllbC5zemFwa29AZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdHVyZXMgYW5kIGFuaW1hbHMgb2JqZWN0cy5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBHYW1lIENvbW1vbiBwdWJsaWMgZ2FtZSBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7UElYSX0gUGl4aSBQSVhJIHJlbmRlcmluZyBlbmdpbmUgbmFtZXNwYWNlLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbihHYW1lLCBCQlEsIFBJWEkpIHtcclxuXHJcblx0R2FtZS5BY3RvcnMuQ2F0ID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCl7XHJcblx0ICAgIEdhbWUuQWN0b3JzLkVuZW15LmNhbGwodGhpcywgXCJjYXRcIik7IC8vIG9icmF6ZWsgY2F0LnBuZ1xyXG5cdCAgICBcclxuXHQgICAgdGhpcy5mcmFtZVNpemUgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTYsIDE2KTtcclxuXHQgICAgXHJcblx0ICAgIC8vIGZvbGxvd2luZyBwbGF5ZXIgb2JqZWN0XHJcblx0XHR0aGlzLmZvbGxvdyA9IGZhbHNlO1xyXG5cdFx0dGhpcy50aWNrID0gMDtcclxuXHQgICAgXHJcblx0XHQvLyBjaGFyYWN0ZXIgYmFzaWMgc3RhdGVzXHJcblx0XHR0aGlzLmhlYWx0aCA9IDEwMDA7XHJcblx0XHR0aGlzLnN0cmVuZ3RoID0ge1xyXG5cdFx0XHRwdW5jaDogMTAsXHJcblx0XHRcdGtpY2s6IDE1XHJcblx0XHR9O1xyXG5cdFx0dGhpcy5zcGVlZCA9IHtcclxuXHRcdFx0d2FsazogMzUsXHJcblx0XHRcdGp1bXA6IDUwLFxyXG5cdFx0XHRoaXQ6IC01MCxcclxuXHRcdFx0cHVuY2g6IDIwLFxyXG5cdFx0XHRraWNrOiAxMFxyXG5cdFx0fTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKEdhbWUuQWN0b3JzLkVuZW15KVxyXG5cdC5wcm9wZXJ0aWVzKHtcclxuXHR9KVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIEFuaW1hdGlvbnMgZnJhbWVzIHRvIHVzZS5cclxuXHRcdCAqL1xyXG5cdFx0YW5pbWF0aW9uczoge1xyXG5cdFx0XHRpZGxlOiB7XHJcblx0XHRcdFx0dGltZTogMC41LFxyXG5cdFx0XHRcdGZyYW1lczogWzMsIDQsIDVdXHJcblx0XHRcdH0sXHJcblx0XHRcdHdhbGs6IHtcclxuXHRcdFx0XHR0aW1lOiAwLjUsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMCwgMSwgMCwgMl1cclxuXHRcdFx0fSxcclxuXHRcdFx0aGl0OiB7XHJcblx0XHRcdFx0dGltZTogMixcclxuXHRcdFx0XHRmcmFtZXM6IFswLCAxLCAyLCAzLCA0LCA1XSxcclxuXHRcdFx0XHRuZXh0OiAnaWRsZSdcclxuXHRcdFx0fS8vLFxyXG5cdFx0XHQvL2F0dGFjazoge1xyXG5cdFx0XHQvL1x0dGltZTogMC43LFxyXG5cdFx0XHQvL1x0ZnJhbWVzOiBbMCwgMSwgMCwgMl1cclxuXHRcdFx0Ly99LFxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0dXBkYXRlU3RhdGU6IGZ1bmN0aW9uIChkZWx0YSkge1xyXG5cdFx0XHRpZih0aGlzLnN0YXRlLndhbGtpbmcpIHtcclxuXHJcblx0XHRcdFx0Ly8gZmluZCBuZWFyZXN0IHBsYXllclxyXG5cdFx0XHRcdHZhciBwbGF5ZXIgPSB0aGlzLmZpbmROZWFyZXN0UGxheWVyKCk7XHJcblxyXG5cdFx0XHRcdC8vIHBsYXllciBmb3VuZFxyXG5cdFx0XHRcdGlmKHBsYXllciAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdC8vIGNsZWFyIG1vdmVtZW50IHN0YXRlXHJcblx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnNldCgpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQvLyBtb3ZlbWVudFxyXG5cdFx0XHRcdFx0aWYodGhpcy5kaXN0YW5jZVRvKHBsYXllcikgPiAyMCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1vdmVUbyhwbGF5ZXIpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKHRoaXMudGljay0tIDw9IDApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5hbmltYXRpb24gPSAnaWRsZSc7XHJcblx0XHRcdFx0XHRcdC8vdGhpcy50aWNrID0gNSArIDEwICogTWF0aC5yYW5kb20oKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBmYWNlIGRpcmVjdGlvblxyXG5cdFx0XHRcdFx0dGhpcy5zY2FsZS54ID0gdGhpcy5wb3NpdGlvbi54ID4gcGxheWVyLnBvc2l0aW9uLnggPyAtMSA6IDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdEdhbWUuQWN0b3JzLkNhdC5wcmVsb2FkID0gZnVuY3Rpb24oYXBwKSB7XHJcblx0ICAgIGFwcC5sb2FkSW1hZ2VzKCdjYXQnKTtcclxuXHR9O1xyXG5cclxufSkod2luZG93LkdhbWUgPSB3aW5kb3cuR2FtZSB8fCB7fSwgQkJRLCBQSVhJKTtcclxuXHQgXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLypcclxuICogZ2FtZS5qc1xyXG4gKiBcclxuICogRW50cnkgcG9pbnQgb2YgdGhlIFNsYXNoICduJyBTbWFzaCBnYW1lLlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4oZnVuY3Rpb24od2luZG93KSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogT3ZlcnJpZGVzIFBsYXlncm91bmQncyBjb21tb24gbG9hZGluZyBzY3JlZW4uXHJcblx0ICogVXNlcyBQSVhJIHJlbmRlcmVyIHRvIHJlbmRlciB0aGUgbG9hZGluZyBzdGF0ZS5cclxuXHQgKi9cclxuXHRQTEFZR1JPVU5ELkxvYWRpbmdTY3JlZW4gPSB7XHJcblx0XHQvKipcclxuXHRcdCAqIFZIUy10YXBlIGxvZ28gaW1hZ2UgYXNzZXQgZW5jb2RlZCBhcyBQTkcgaW4gYmFzZTY0LlxyXG5cdFx0ICovXHJcblx0XHRsb2dvUmF3OiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUFZQ0FZQUFBQkt0UHRFQUFBQSswbEVRVlJZdysxWDBRM0ZJQWdzalFzNGdDdTQveHl1NEFDTzBQZEZZbXpMUXl3MVZ2bW15aDNIU1dGamhuUHUyQWFKR0NOd2MrRnI0R3RKTU53RHJiWERnRThwc1hQM2JmSllCSHhOL3JYMVRxOEFJL2tvaEFDY1Z3STdVZVp6d250L1VJWld1anptcTNzQUZ6d0ZURm9zZGErRTVPWVJrSUFQSVFBV1d4SlJTOHdUKzRuUm1DdVVwN1gyMUNVRXllMFlucVcxak8xYTRLbTV2cE10UlVyTmV0dGRBVnoveUVtUnp2QndpOUNWQ2Vhak1jUXoyQUsrVjZkZlV3QmxWdGpwdk50SXlEOWl0RXl3U1FFeFJyZ3E3SzVZaWN3cDRFOFlvM2xUeHByeWwzb0lhQjdlTTdoa3I5L2hSY0FpWU81Z3UvSklSbGp6MnZ3QU51ZUZLMVJDTkN3QUFBQUFTVVZPUks1Q1lJST0nLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENyZWF0ZXMgbG9hZGVyIHNjZW5lLlxyXG5cdFx0ICovXHJcblx0XHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBjcmVhdGUgUGl4aSBsb2dvIHNwcml0ZVxyXG5cdFx0XHR0aGlzLmxvZ28gPSBuZXcgUElYSS5TcHJpdGUoUElYSS5UZXh0dXJlLmZyb21JbWFnZSh0aGlzLmxvZ29SYXcpKTtcclxuXHRcdFx0dGhpcy5sb2dvLmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjcmVhdGUgbG9hZGVyIHByb2dyZXNzIGJhclxyXG5cdFx0XHR0aGlzLnByb2dyZXNzQmFyID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcclxuXHRcdFx0dGhpcy5wcm9ncmVzc0Jhci5wb3NpdGlvbiA9IG5ldyBQSVhJLlBvaW50KDAsIDgpO1xyXG5cdFx0XHR0aGlzLmxvZ28uYWRkQ2hpbGQodGhpcy5wcm9ncmVzc0Jhcik7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBlcnJvciBoYW5kbGVyXHJcblx0XHRcdHRoaXMuYXBwLmxvYWRlci5vbignZXJyb3InLCB0aGlzLmVycm9yLCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZXMgbG9hZGVyIHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHRlbnRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNoYW5nZSBiYWNrZ3JvdW5kIGNvbG91clxyXG5cdFx0XHR0aGlzLmFwcC5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSAweDEwMTAxMDtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlc2V0IHByb2dyZXNzIHZhbHVlXHJcblx0XHRcdHRoaXMucHJvZ3Jlc3MgPSAwO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2FkaW5nIHNjZW5lIGRvbmUuIFF1aXR0aW5nLlxyXG5cdFx0ICovXHJcblx0XHRsZWF2ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdMb2FkaW5nIGRvbmUuJyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFByb2Nlc3MgdGhlIGxvYWRlciBwcm9ncmVzcy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhIERlbHRhIHRpbWUgYmV0d2VlbiBsYXN0IGZyYW1lLlxyXG5cdFx0ICovXHJcblx0XHRzdGVwOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyBwcm9ncmVzcyBzdGF0dXNcclxuXHRcdFx0dGhpcy5wcm9ncmVzcyArPSBNYXRoLmFicyh0aGlzLmFwcC5sb2FkZXIucHJvZ3Jlc3MgLSB0aGlzLnByb2dyZXNzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGtlZXAgY2VudGVyZWQgcG9zaXRpb25cclxuXHRcdFx0dGhpcy5sb2dvLnBvc2l0aW9uID0gbmV3IFBJWEkuUG9pbnQoXHJcblx0XHRcdFx0TWF0aC5mbG9vcih0aGlzLmFwcC5yZW5kZXJlci53aWR0aCAvIDIpLFxyXG5cdFx0XHRcdE1hdGguZmxvb3IodGhpcy5hcHAucmVuZGVyZXIuaGVpZ2h0IC8gMilcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmVuZGVycyBsb2FkZXIgc3RhdGUuXHJcblx0XHQgKi9cclxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIHVwZGF0ZSBwcm9ncmVzcyBiYXJcclxuXHRcdFx0dmFyIGcgPSB0aGlzLnByb2dyZXNzQmFyLFxyXG5cdFx0XHRcdGMgPSB0aGlzLnByb2dyZXNzO1xyXG5cdFx0XHRcclxuXHRcdFx0Zy5jbGVhcigpO1xyXG5cdFx0XHRnLmxpbmVTdHlsZSgwKTtcclxuXHRcdFx0Zy5iZWdpbkZpbGwoMHhGRkZGRkYsIDEpO1xyXG5cdFx0XHRnLmRyYXdSZWN0KC0zMiwgLTIsIDY0ICogYywgNCk7XHJcblx0XHRcdGcuZW5kRmlsbCgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Zy5iZWdpbkZpbGwoMHhGRkZGRkYsIDEpO1xyXG5cdFx0XHRnLmRyYXdSZWN0KC0zNCwgLTIsIDEsIDQpO1xyXG5cdFx0XHRnLmVuZEZpbGwoKTtcclxuXHRcdFx0XHJcblx0XHRcdGcuYmVnaW5GaWxsKDB4RkZGRkZGLCAxKTtcclxuXHRcdFx0Zy5kcmF3UmVjdCgzMywgLTIsIDEsIDQpO1xyXG5cdFx0XHRnLmVuZEZpbGwoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlbmRlciBsb2FkZXIgc3RhZ2VcclxuXHRcdFx0dGhpcy5hcHAucmVuZGVyZXIucmVuZGVyKHRoaXMubG9nbyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZXMgbG9hZGVyIGVycm9yLlxyXG5cdFx0ICovXHJcblx0XHRlcnJvcjogZnVuY3Rpb24odXJsKSB7XHJcblx0XHRcdC8vIGNyZWF0ZSB0ZXh0IGNoaWxkIG5vZGVcclxuXHRcdFx0dmFyIHRleHQgPSBuZXcgUElYSS5UZXh0KCdFcnJvciB3aGlsZSBsb2FkaW5nXFxuJyArIHVybCwge1xyXG5cdFx0XHRcdGZvbnQ6ICc5cHggQ291cmllcicsXHJcblx0XHRcdFx0ZmlsbDogJyNGRkZGRkYnLFxyXG5cdFx0XHRcdGFsaWduOiAnY2VudGVyJ1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHRleHQuYW5jaG9yID0gbmV3IFBJWEkuUG9pbnQoMC41LCAwKTtcclxuXHRcdFx0dGV4dC5wb3NpdGlvbiA9IG5ldyBQSVhJLlBvaW50KDAsIDE4KTtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMubG9nby5hZGRDaGlsZCh0ZXh0KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEdhbWUgYXBwbGljYXRpb24gaW5zdGFuY2UuXHJcblx0ICogXHJcblx0ICogQHR5cGUgUExBWUdST1VORC5BcHBsaWNhdGlvblxyXG5cdCAqL1xyXG5cdEdhbWUuYXBwID0gcGxheWdyb3VuZCh7XHJcblx0XHQvKipcclxuXHRcdCAqIENvbW1vbiBhc3NldHMgcGF0aHMuXHJcblx0XHQgKi9cclxuXHRcdHBhdGhzOiB7XHJcblx0XHRcdGJhc2U6ICdhc3NldHMvJyxcclxuXHRcdFx0aW1hZ2VzOiAnaW1hZ2VzLycsXHJcblx0XHRcdHNvdW5kczogJ3NvdW5kcy8nLFxyXG5cdFx0XHRhdGxhc2VzOiAnYXRsYXNlcy8nXHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENhbnZhcyB2aWV3cG9ydCBzY2FsZS11cC5cclxuXHRcdCAqL1xyXG5cdFx0c2NhbGU6IDMsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybWFuY2UgZGV0ZWN0b3IuXHJcblx0XHQgKi9cclxuXHRcdHBlcmZvcm1hbmNlOiB7XHJcblx0XHRcdHRpY2tzOiAwLFxyXG5cdFx0XHRmcmFtZTogMCxcclxuXHRcdFx0ZnBzOiAwXHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGxpY2F0aW9uIGNyZWF0aW9uIGV2ZW50LlxyXG5cdFx0ICovXHJcblx0XHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBjcmVhdGUgUElYSSBwcm9wZXJseSByZW5kZXJlclxyXG5cdFx0XHR0aGlzLmNyZWF0ZVJlbmRlcmVyKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjcmVhdGVzIGluZm8tYm9hcmRcclxuXHRcdFx0QkJRLmNvbnNvbGUuc3RhdHVzKFxyXG5cdFx0XHRcdHRoaXMucmVuZGVyZXIgaW5zdGFuY2VvZiBQSVhJLldlYkdMUmVuZGVyZXIgP1xyXG5cdFx0XHRcdFx0J1dlYkdMJyA6ICdDYW52YXMnXHJcblx0XHRcdCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBwZXJmb3JtIGFzc2V0cyBsb2FkaW5nXHJcblx0XHRcdC8vIEZPUiBERU1PIFBVUlBPU0VTIE9OTFksIERPIE5PVCBCQVNFIE9OIElUXHJcblx0XHRcdGNvbnNvbGUubG9nKCdMb2FkaW5nIGdhbWUgYXNzZXRzLi4uJyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBsb2FkIGdhbWUgYXNzZXRzXHJcblx0XHRcdGZvcih2YXIgaSBpbiBHYW1lKSB7XHJcblx0XHRcdFx0dmFyIEdhbWVfQ2hpbGQgPSBHYW1lW2ldO1xyXG5cdFx0XHRcdGlmKHR5cGVvZiBHYW1lX0NoaWxkID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdFx0Zm9yKHZhciBuIGluIEdhbWVfQ2hpbGQpIHtcclxuXHRcdFx0XHRcdFx0Ly8gaW52b2tlIHByZWxvYWRzIGZvciBHYW1lLk9iamVjdC5PYmplY3QucHJlbG9hZFxyXG5cdFx0XHRcdFx0XHRpZih0eXBlb2YgR2FtZV9DaGlsZFtuXS5wcmVsb2FkID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdFx0R2FtZV9DaGlsZFtuXS5wcmVsb2FkLmNhbGwodGhpcywgdGhpcyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXNzZXRzIGxvYWRlciByZWFkeSBldmVudC5cclxuXHRcdCAqL1xyXG5cdFx0cmVhZHk6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBzd2l0Y2ggdG8gZ2FtZSBzdGF0ZVxyXG5cdFx0XHR0aGlzLnNldFN0YXRlKG5ldyBHYW1lLlN0YXRlLk1lbnUoKSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmUgc3ByaXRlcy5cclxuXHRcdCAqL1xyXG5cdFx0c3RlcDogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gZHVtbXkgbWV0aG9kXHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJlbmRlcnMgc2NlbmUgZnJhbWUuXHJcblx0XHQgKi9cclxuXHRcdHJlbmRlcjogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gdXBkYXRlIHRpY2tzIGFuZCBGUFNcclxuXHRcdFx0dGhpcy5wZXJmb3JtYW5jZS5mcmFtZSsrO1xyXG5cdFx0XHR0aGlzLnBlcmZvcm1hbmNlLnRpY2tzICs9IGRlbHRhO1xyXG5cdFx0XHRpZih0aGlzLnBlcmZvcm1hbmNlLnRpY2tzID49IDEpIHtcclxuXHRcdFx0XHQvLyB1cGRhdGUgRlBTIHN0YXR1c1xyXG5cdFx0XHRcdHRoaXMucGVyZm9ybWFuY2UuZnBzID0gdGhpcy5wZXJmb3JtYW5jZS5mcmFtZTtcclxuXHRcdFx0XHRCQlEuY29uc29sZS5mcHMoJ0ZQUzogJyArIHRoaXMucGVyZm9ybWFuY2UuZnBzKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyByZXNldCBjb3VudGVyc1xyXG5cdFx0XHRcdHRoaXMucGVyZm9ybWFuY2UudGlja3MgPSAwO1xyXG5cdFx0XHRcdHRoaXMucGVyZm9ybWFuY2UuZnJhbWUgPSAwO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZXMgdmlld3BvcnQgcmVzaXplIGV2ZW50LlxyXG5cdFx0ICovXHJcblx0XHRyZXNpemU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGUga2V5IGlucHV0LlxyXG5cdFx0ICovXHJcblx0XHRrZXlkb3duOiBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRpZihldmVudC5rZXkgPT09ICdmMScpIHtcclxuXHRcdFx0XHRCQlEuY29uc29sZS50b2dnbGUoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlIHBvaW50ZXIgKG1vdXNlL3RvdWNoKSBldmVudC5cclxuXHRcdCAqL1xyXG5cdFx0cG9pbnRlcmRvd246IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdC8vQkJRLlV0aWxzLmZ1bGxzY3JlZW4odHJ1ZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn0pKHdpbmRvdyk7XHJcblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qXHJcbiAqIHN0YWdlLmpzXHJcbiAqIFxyXG4gKiBBbGwgZ2FtZSBzdGFnZXMgZGVmaW5pdGlvbnMgc3RhY2suXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBHYW1lIHN0YWdlcyBkZWZpbml0aW9ucy5cclxuICogXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBHYW1lIENvbW1vbiBwdWJsaWMgZ2FtZSBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBCQlEgRW5naW5lIHB1YmxpYyBuYW1lc3BhY2UuXHJcbiAqIEBwYXJhbSB7UElYSX0gUGl4aSBQSVhJIHJlbmRlcmluZyBlbmdpbmUgbmFtZXNwYWNlLlxyXG4gKi9cclxuKGZ1bmN0aW9uKEdhbWUsIEJCUSwgUElYSSkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEZhdGFsaXR5IGltYWdlLlxyXG5cdCAqL1xyXG5cdEdhbWUuRmF0YWxpdHkgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBjYWxsIGluaGVyaXRlZCBjdG9yXHJcblx0XHRQSVhJLlNwcml0ZS5jYWxsKHRoaXMsIEdhbWUuYXBwLnRleCgnZmF0YWxpdHknKSk7XHJcblx0XHRcclxuXHRcdC8vIGNoYW5nZSBzcHJpdGUgYW5jaG9yIHRvIGNlbnRlclxyXG5cdFx0dGhpcy5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDAuNSk7XHJcblx0XHR0aGlzLnRpbWVyID0gMTAwO1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoUElYSS5TcHJpdGUpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VudGVyIGZhdGFsaXR5IGltYWdlLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnggPSBHYW1lLmFwcC5yZW5kZXJlci53aWR0aCAvIDI7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSA9IChHYW1lLmFwcC5yZW5kZXJlci5oZWlnaHQgLyAyLjUpIC0gTWF0aC5hYnMoTWF0aC5jb3MoKHRoaXMudGltZXIvMTAwICsgNTApKk1hdGguUEkpICogMTAwICogTWF0aC5zaW4oKHRoaXMudGltZXIvMjAwKSpNYXRoLlBJKSk7XHJcblx0XHRcdFBJWEkuU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmKHRoaXMudGltZXIgPiAwKSB7XHJcblx0XHRcdFx0dGhpcy50aW1lci0tO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogR2FtZSBzdGF0ZXMuXHJcblx0ICovXHJcblx0R2FtZS5TdGF0ZSA9IHt9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIE1lbnUgc3RhdGUgZGVmaW5pdGlvbi5cclxuXHQgKi9cclxuXHRHYW1lLlN0YXRlLk1lbnUgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHRCQlEuU3RhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdHZhciBzcCA9IG5ldyBHYW1lLlN0YXRlLk1lbnUuQnV0dG9uKEdhbWUuYXBwLnRleCgnc2luZ2xlcGxheWVyJykpO1xyXG5cdFx0dmFyIG1wID0gbmV3IEdhbWUuU3RhdGUuTWVudS5CdXR0b24oR2FtZS5hcHAudGV4KCdtdWx0aXBsYXllcicpKTtcclxuXHRcdHZhciBmcyA9IG5ldyBHYW1lLlN0YXRlLk1lbnUuQnV0dG9uKEdhbWUuYXBwLnRleCgnZnVsbHNjcmVlbicpKTtcclxuXHRcdHNwLm9mZnNldC55ID0gLTI1O1xyXG5cdFx0bXAub2Zmc2V0LnkgPSAwO1xyXG5cdFx0ZnMub2Zmc2V0LnkgPSAyNTtcclxuXHRcdFxyXG5cdFx0c3AuY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0R2FtZS5hcHAuc2luZ2xlcGxheWVyID0gdHJ1ZTtcclxuXHRcdFx0R2FtZS5hcHAuc2V0U3RhdGUobmV3IEdhbWUuU3RhdGUuU3RhZ2UoKSk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRtcC5jbGljayA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRHYW1lLmFwcC5zaW5nbGVwbGF5ZXIgPSBmYWxzZTtcclxuXHRcdFx0R2FtZS5hcHAuc2V0U3RhdGUobmV3IEdhbWUuU3RhdGUuU3RhZ2UoKSk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRmcy5jbGljayA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRCQlEuVXRpbHMuZnVsbHNjcmVlbigpO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0c3AuYmluZCgpO1xyXG5cdFx0bXAuYmluZCgpO1xyXG5cdFx0ZnMuYmluZCgpO1xyXG5cdFx0XHJcblx0XHR0aGlzLmFkZENoaWxkKHNwKTtcclxuXHRcdHRoaXMuYWRkQ2hpbGQobXApO1xyXG5cdFx0dGhpcy5hZGRDaGlsZChmcyk7XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhCQlEuU3RhdGUpO1xyXG5cdFxyXG5cdC8vIENvbW1vbiBtZW51IGJ1dHRvblxyXG5cdEdhbWUuU3RhdGUuTWVudS5CdXR0b24gPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHRQSVhJLlNwcml0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0dGhpcy5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDAuNSk7XHJcblx0XHR0aGlzLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuXHRcdHRoaXMub2Zmc2V0ID0gbmV3IFBJWEkuUG9pbnQoKTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKFBJWEkuU3ByaXRlKVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIEJ1dHRvbiBjbGlja2VkIGhhbmRsZXIuXHJcblx0XHQgKi9cclxuXHRcdGNsaWNrOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gZHVtbXlcclxuXHRcdFx0Y29uc29sZS5sb2coJ2FzZDEnKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQmluZCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLm9uKCdtb3VzZWRvd24nLCB0aGlzLmNsaWNrLmJpbmQodGhpcykpO1xyXG5cdFx0XHR0aGlzLm9uKCd0b3VjaHN0YXJ0JywgdGhpcy5jbGljay5iaW5kKHRoaXMpKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2VudGVyIGJ1dHRvbnMuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBfc2NyaHcgPSBHYW1lLmFwcC5yZW5kZXJlci53aWR0aCAvIDIsXHJcblx0XHRcdFx0X3NjcmhoID0gR2FtZS5hcHAucmVuZGVyZXIuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueCA9IF9zY3JodyArIHRoaXMub2Zmc2V0Lng7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueSA9IF9zY3JoaCArIHRoaXMub2Zmc2V0Lnk7XHJcblx0XHRcdFBJWEkuU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvLyBQcmVsb2FkIGFzc2V0c1xyXG5cdEdhbWUuU3RhdGUuTWVudS5wcmVsb2FkID0gZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRhcHAubG9hZEltYWdlcygnc2luZ2xlcGxheWVyJywgJ211bHRpcGxheWVyJywgJ2Z1bGxzY3JlZW4nKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENvbW1vbiBzdGFnZSBkZWZpbml0aW9uLlxyXG5cdCAqL1xyXG5cdEdhbWUuU3RhdGUuU3RhZ2UgPSBmdW5jdGlvbigpIHtcclxuXHRcdEJCUS5TdGF0ZS5jYWxsKHRoaXMpO1xyXG5cdFx0XHJcblx0XHR0aGlzLnBsYXllcnMgPSBbXTtcclxuXHRcdHRoaXMudGltZXIgPSAxMDtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgR2FtZS5TdGFnZSBieSBCQlEuU3RhdGUgY2xhc3NcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhHYW1lLlN0YXRlLlN0YWdlLCBCQlEuU3RhdGUsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogUHJlcGFyZXMgZ2FtZSBzdGFnZS5cclxuXHRcdCAqL1xyXG5cdFx0ZW50ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmJhY2tncm91bmQuYWRkQmFja2dyb3VuZCgndG93bnNreScsIHtcclxuXHRcdFx0XHRzY2FsZTogbmV3IFBJWEkuUG9pbnQoLjEsIC4xKVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHRoaXMuYmFja2dyb3VuZC5hZGRCYWNrZ3JvdW5kKCd0b3duYmcnLCB7XHJcblx0XHRcdFx0c2NhbGU6IG5ldyBQSVhJLlBvaW50KC41LCAxKSxcclxuXHRcdFx0XHRvZmZzZXQ6IG5ldyBQSVhJLlBvaW50KDAsIC0yMDApLFxyXG5cdFx0XHRcdHZ0aWxlZDogZmFsc2UsXHJcblx0XHRcdFx0aHRpbGVkOiB0cnVlXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kLmFkZEJhY2tncm91bmQoJ3Rvd25mZycsIHtcclxuXHRcdFx0XHRzY2FsZTogbmV3IFBJWEkuUG9pbnQoLjY1LCAxKSxcclxuXHRcdFx0XHRvZmZzZXQ6IG5ldyBQSVhJLlBvaW50KDAsIC0yMDApLFxyXG5cdFx0XHRcdHZ0aWxlZDogZmFsc2UsXHJcblx0XHRcdFx0aHRpbGVkOiB0cnVlXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kLmFkZEJhY2tncm91bmQoJ3JvYWQnLCB7XHJcblx0XHRcdFx0c2NhbGU6IG5ldyBQSVhJLlBvaW50KDEsIDEpLFxyXG5cdFx0XHRcdG9mZnNldDogbmV3IFBJWEkuUG9pbnQoMCwgLTIyKSxcclxuXHRcdFx0XHR2dGlsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdGh0aWxlZDogdHJ1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBjaGFyYSA9IG5ldyBHYW1lLkFjdG9ycy5QbGF5ZXJUb3VjaFNjcmVlbignZmF0Z3V5Jyk7XHJcblx0XHRcdGNoYXJhLnBvc2l0aW9uLnggPSA2MDtcclxuXHRcdFx0dGhpcy5hY3RvcnMuYWRkQ2hpbGQoY2hhcmEpO1xyXG5cdFx0XHR0aGlzLmNhbWVyYS5mb2xsb3coY2hhcmEpO1xyXG5cdFx0XHR0aGlzLnBsYXllcnMucHVzaChjaGFyYSk7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgY2F0ID0gbmV3IEdhbWUuQWN0b3JzLkNhdCgnY2F0Jyk7XHJcblx0XHRcdGNhdC5wb3NpdGlvbi54ID0gNDAwO1xyXG5cdFx0XHR0aGlzLmFjdG9ycy5hZGRDaGlsZChjYXQpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYoIUdhbWUuYXBwLnNpbmdsZXBsYXllcikge1xyXG5cdFx0XHRcdGNoYXJhID0gbmV3IEdhbWUuQWN0b3JzLlBsYXllcignZmF0Z3V5Jyk7XHJcblx0XHRcdFx0Y2hhcmEucG9zaXRpb24ueCA9IDEwMDtcclxuXHRcdFx0XHRjaGFyYS5rZXltYXAgPSB7XHJcblx0XHRcdFx0XHRyaWdodDogJ2QnLFxyXG5cdFx0XHRcdFx0bGVmdDogJ2EnLFxyXG5cdFx0XHRcdFx0ZG93bjogJ3MnLFxyXG5cdFx0XHRcdFx0dXA6ICd3JyxcclxuXHJcblx0XHRcdFx0XHRwdW5jaDogJ3QnLFxyXG5cdFx0XHRcdFx0a2ljazogJ3knLFxyXG5cdFx0XHRcdFx0anVtcDogJ2cnXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0aGlzLmNhbWVyYS5mb2xsb3coY2hhcmEpO1xyXG5cdFx0XHRcdHRoaXMuYWN0b3JzLmFkZENoaWxkKGNoYXJhKTtcclxuXHRcdFx0XHR0aGlzLnBsYXllcnMucHVzaChjaGFyYSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vdmFyIGVuZW15ID0gbmV3IEdhbWUuQWN0b3JzLkVuZW15KCdlbmVteWd1eScpO1xyXG5cdFx0XHQvL3RoaXMuYWN0b3JzLmFkZENoaWxkKGVuZW15KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogT3ZlcnJpZGVzIHN0YXRlIHN0ZXAuXHJcblx0XHQgKi9cclxuXHRcdHN0ZXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRCQlEuU3RhdGUucHJvdG90eXBlLnN0ZXAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNyZWF0ZSBlbmVtaWVzIGR1cm5pbmcgdGltZVxyXG5cdFx0XHRpZih0aGlzLnBsYXllcnMubGVuZ3RoID4gMCAmJiB0aGlzLnRpbWVyLS0gPCAwKSB7XHJcblx0XHRcdFx0dGhpcy50aW1lciA9IDgwICsgMjAwICogTWF0aC5yYW5kb20oKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2YXIgZW5lbXkgPSBuZXcgR2FtZS5BY3RvcnMuRW5lbXkoJ2VuZW15Z3V5Jyk7XHJcblx0XHRcdFx0ZW5lbXkucG9zaXRpb24ueCA9IChNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxKSo0MDA7XHJcblx0XHRcdFx0ZW5lbXkucG9zaXRpb24ueSA9IE1hdGgucmFuZG9tKCkqMTAwO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGVuZW15LnBvc2l0aW9uLnggLT0gdGhpcy5jYW1lcmEuZ2V0Q2VudGVyKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dGhpcy5hY3RvcnMuYWRkQ2hpbGQoZW5lbXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEtleWRvd24gZXZlbnQgaGFuZGxlLlxyXG5cdFx0ICovXHJcblx0XHRrZXlkb3duOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHRcdHBsYXllci5lbnF1ZXVlRXZlbnQoJ2tleWRvd24nLCBlLmtleSwgdHJ1ZSwgZSk7XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBcclxuXHRcdCAqL1xyXG5cdFx0a2V5dXA6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgna2V5dXAnLCBlLmtleSwgZmFsc2UsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHRvdWNoc3RhcnQ6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgndG91Y2hzdGFydCcsIGUuaWRlbnRpZmllciwgZS54LCBlLnksIGZhbHNlLCBlKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHR0b3VjaG1vdmU6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgndG91Y2htb3ZlJywgZS5pZGVudGlmaWVyLCBlLngsIGUueSwgZmFsc2UsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHRoaXMucGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKHBsYXllcikge1xyXG5cdFx0XHRcdHBsYXllci5lbnF1ZXVlRXZlbnQoJ3RvdWNoZW5kJywgZS5pZGVudGlmaWVyLCBlLngsIGUueSwgZmFsc2UsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHBsYXllcktpbGxlZDogZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdHZhciBpbmQgPSB0aGlzLnBsYXllcnMuaW5kZXhPZihwbGF5ZXIpO1xyXG5cdFx0XHRpZihpbmQgIT09IC0xKSB7XHJcblx0XHRcdFx0dGhpcy5wbGF5ZXJzLnNwbGljZShpbmQsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBmYXRhbGl0eSBtZXNzYWdlXHJcblx0XHRcdGlmKHRoaXMucGxheWVycy5sZW5ndGggPD0gMCkge1xyXG5cdFx0XHRcdHRoaXMuZm9yZWdyb3VuZC5hZGRDaGlsZChuZXcgR2FtZS5GYXRhbGl0eSgpKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFsbCBnYW1lIHN0YWdlcyBkZWZpbml0aW9ucy5cclxuXHQgKi9cclxuXHRHYW1lLlN0YWdlcyA9IHt9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENvbW1vbiBwcmVsb2FkIGFzc2V0cy5cclxuXHQgKi9cclxuXHRHYW1lLlN0YWdlcy5fID0ge1xyXG5cdFx0cHJlbG9hZDogZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRcdGFwcC5sb2FkSW1hZ2VzKCdmYXRhbGl0eScpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogRmlyc3Qgc3RhZ2UgLSBFdmlsIFRvd24uXHJcblx0ICovXHJcblx0R2FtZS5TdGFnZXMudG93biA9IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQ29tbW9uIGdhbWUgcHJlbG9hZCBmdW5jdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0cHJlbG9hZDogZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRcdGFwcC5sb2FkSW1hZ2VzKCdyb2FkJywgJ3Rvd25za3knLCAndG93bmJnJywgJ3Rvd25mZycpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBTdGFnZSBhcHBlYXJhbmNlIHBlcmZzLlxyXG5cdFx0ICovXHJcblx0XHRhcHBlYXJhbmNlOiB7XHJcblx0XHRcdGdyb3VuZDogJ3JvYWQnLFxyXG5cdFx0XHRwYXJhbGxheDogW1xyXG5cdFx0XHRcdHsgdGV4dHVyZTogJ3Rvd25za3knLCB2c2NhbGU6IDEsIGhzY2FsZTogMSB9XHJcblx0XHRcdF1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogR2FtZXBsYXkgc2VjdGlvbnMuXHJcblx0XHQgKi9cclxuXHRcdHNlY3Rpb25zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHR3YXZlczogW1xyXG5cdFx0XHRcdFx0WydTa2luSGVhZCcsJ1NraW5IZWFkJywnU2tpbkhlYWQnXVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fVxyXG5cdFx0XSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZnRlci13aW4gbmV4dCBzdGFnZS5cclxuXHRcdCAqL1xyXG5cdFx0bmV4dDogJ3B1YidcclxuXHR9O1xyXG59KSh3aW5kb3cuR2FtZSA9IHdpbmRvdy5HYW1lIHx8IHt9LCBCQlEsIFBJWEkpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfYmJxX2JicV9iYXNlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9iYnFfYmJxX2Jhc2VfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9iYnFfYmJxX2Jhc2VfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX2JicV9iYnFfY29uc29sZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfYmJxX2JicV9jb25zb2xlX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfYmJxX2JicV9jb25zb2xlX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9iYnFfYmJxX3BpeGlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2JicV9iYnFfcGl4aV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2JicV9iYnFfcGl4aV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYmJxX2JicV9zdGF0ZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYmJxX2JicV9zdGF0ZV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JicV9iYnFfc3RhdGVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2dhbWVfYWN0b3JzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9nYW1lX2FjdG9yc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2dhbWVfYWN0b3JzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9nYW1lX2NyZWF0dXJlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfZ2FtZV9jcmVhdHVyZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9nYW1lX2NyZWF0dXJlc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfZ2FtZV9zdGFnZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2dhbWVfc3RhZ2VzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfZ2FtZV9zdGFnZXNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X2dhbWVfZ2FtZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZ2FtZV9nYW1lX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfZ2FtZV9nYW1lX18pO1xuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYnVuZGxlLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vcnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9yeSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0fSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9idWlsZC9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBiOTU1YzJiMjU1MTk4N2VjYzVkMCIsIi8qIFxyXG4gKiBiYnEtYmFzZS5qc1xyXG4gKiBcclxuICogQkJRIGVuZ2luZSBjb3JlIGZ1bmN0aW9uYWxpdHkuXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKiBcclxuICogQ2hhbmdlbG9nOlxyXG4gKiAoMjYuMDEuMjAxNilcclxuICpcdFx0LSBEb2RhxYJlbSBub3d5IHV0aWxpdHkgZGxhIGrEmXp5a2EgSlMgLSBCQlEuQ2xhc3NcclxuICogKDMwLjEyLjIwMTUpXHJcbiAqXHRcdC0gQkJRLlVuaWxpcy5mdWxsc2NyZWVuKCkgdW1vxbxsaXdpYSBwcnplasWbY2llIHcgdHJ5YiBwZcWCbm9la3Jhbm93eVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBCQlEgQ29yZSBNb2R1bGUuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gQkJRIEVuZ2luZSBwdWJsaWMgbmFtZXNwYWNlLlxyXG4gKi9cclxuKGZ1bmN0aW9uKEJCUSkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFVzZWZ1bCBjb21tb24gdXRpbGl0aWVzLlxyXG5cdCAqL1xyXG5cdEJCUS5VdGlscyA9IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQXNzaWducyB0d28gb3IgbW9yZSBvYmplY3RzIGludG8gdGFyZ2V0IG9uZS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IC4uLnNvdXJjZVxyXG5cdFx0ICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0YXJnZXQgY2hhaW5pbmcgaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGFzc2lnbjogT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0YXJnZXQsIHNvdXJjZSkge1xyXG5cdFx0XHRmb3IodmFyIGkgPSAxLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwcm9wOyBpIDwgbGVuOyBpKyspIHtcclxuXHRcdFx0XHRzb3VyY2UgPSBhcmd1bWVudHNbaV07XHJcblx0XHRcdFx0Zm9yKHByb3AgaW4gc291cmNlKSB7XHJcblx0XHRcdFx0XHR0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRXh0ZW5kcyBjbGFzc2VzIGJldHdlZW4gcHJvdG90eXBlcy5cclxuXHRcdCAqIEF1dG9tYXRlcyBjb25zdHJ1Y3RvciByZWFzc2lnbi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQGRlcHJlY2F0ZWQgRnVuY3Rpb25hbGl0eSBkZXByZWNhdGVkLCBjaGVja291dCBmb3IgQkJRLkNsYXNzIGluc3RlYWRcclxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNsYXNzYSBDbGFzcyB0byBwcmVwYXJlLlxyXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2xhc3NiIEV4dGVuZHMgZnJvbSB0aGlzIGNsYXNzLlxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFByb3RvdHlwZSBuZXcgYXNzaWducy5cclxuXHRcdCAqL1xyXG5cdFx0ZXh0ZW5kczogZnVuY3Rpb24oY2xhc3NhLCBjbGFzc2IsIHByb3RvKSB7XHJcblx0XHRcdEJCUS5VdGlscy5hc3NpZ24oXHJcblx0XHRcdFx0Y2xhc3NhLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoY2xhc3NiLnByb3RvdHlwZSksIHtcclxuXHRcdFx0XHRcdGNvbnN0cnVjdG9yOiBjbGFzc2FcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHByb3RvXHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEVuYWJsZXMvZGlzYWJsZXMgZnVsbHNjcmVlbiBmZWF0dXJlLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0Jvb2xlYW59IGVuYWJsZSBFbmFibGUgZnVsbHNjcmVlbi5cclxuXHRcdCAqL1xyXG5cdFx0ZnVsbHNjcmVlbjogZnVuY3Rpb24oZW5hYmxlKSB7XHJcblx0XHRcdC8vIHJlcXVlc3QgZnVsbHNjcmVlblxyXG5cdFx0XHRpZih0eXBlb2YgZW5hYmxlID09PSAndW5kZWZpbmVkJyB8fCBlbmFibGUpIHtcclxuXHRcdFx0XHR2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksXHJcblx0XHRcdFx0XHRyZXF1ZXN0RnVsbHNjcmVlbiA9IGJvZHkucmVxdWVzdEZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRib2R5LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ym9keS5tb3pSZXF1ZXN0RnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJvZHkubXNSZXF1ZXN0RnVsbFNjcmVlbjtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBpbnZva2UgcmVxdWVzdFxyXG5cdFx0XHRcdGlmKHJlcXVlc3RGdWxsc2NyZWVuKSB7XHJcblx0XHRcdFx0XHRyZXF1ZXN0RnVsbHNjcmVlbi5jYWxsKGJvZHkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBjbG9zZSBmdWxsc2NyZWVuXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSxcclxuXHRcdFx0XHRcdGNsb3NlRnVsbHNjcmVlbiA9IGJvZHkuY2xvc2VGdWxsU2NyZWVuIHx8XHJcblx0XHRcdFx0XHRcdFx0XHRcdCAgYm9keS53ZWJraXRDbG9zZUZ1bGxTY3JlZW4gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICBib2R5Lm1vekNsb3NlRnVsbFNjcmVlbiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQgIGJvZHkubXNDbG9zZUZ1bGxTY3JlZW47XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gaW52b2tlIHJlcXVlc3RcclxuXHRcdFx0XHRpZihjbG9zZUZ1bGxzY3JlZW4pIHtcclxuXHRcdFx0XHRcdGNsb3NlRnVsbHNjcmVlbi5jYWxsKGJvZHkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ2xhc3MgYnVpbGRlciB1dGlsaXR5LlxyXG5cdCAqIFNpbXBsZSB1c2FnZTpcclxuXHQgKiBNeUNsYXNzID0gQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0ICogICAgIC8vIHRoaXMgaXMgbXkgY29uc3RydWN0b3JcclxuXHQgKiAgICAgdGhpcy5mb28gPSAxO1xyXG5cdCAqIH0pXHJcblx0ICogLmV4dGVuZHMoRXh0ZW5kZWRDbGFzcylcclxuXHQgKiAucHJvcGV0aWVzKHtcclxuXHQgKiAgICAgLy8gdGhpcyBpcyBteSBvd24gY2xhc3MgcHJvcGVydHlcclxuXHQgKiAgICAgZm9vcHJvcDoge1xyXG5cdCAqICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuXHQgKiAgICAgICAgICAgICByZXR1cm4gMTIzO1xyXG5cdCAqICAgICAgICAgfVxyXG5cdCAqICAgICB9XHJcblx0ICogfSlcclxuXHQgKiAuc2NvcGUoe1xyXG5cdCAqICAgICAvLyB0aGlzIGlzIG15IGNsYXNzIGJvZHlcclxuXHQgKiAgICAgYmFyOiBmdW5jdGlvbigpIHtcclxuXHQgKiAgICAgICAgIHJldHVybiB0aGlzLmZvbysrO1xyXG5cdCAqICAgICB9LFxyXG5cdCAqICAgICBwZWVrOiBmdW5jdGlvbigpIHtcclxuXHQgKiAgICAgICAgIHJldHVybiB0aGlzLmZvbztcclxuXHQgKiAgICAgfVxyXG5cdCAqIH0pO1xyXG5cdCAqIFxyXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBDbGFzcyBidWlsZGVyLlxyXG5cdCAqL1xyXG5cdHdpbmRvdy5DbGFzcyA9IEJCUS5DbGFzcyA9IGZ1bmN0aW9uKGN0b3IpIHtcclxuXHRcdGlmKHR5cGVvZiBjdG9yLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdC8vIHN0b3JlIGNsYXNzIHR5cGVcclxuXHRcdFx0Y3Rvci50eXBlID0gY3RvcjtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlZGVmaW5lIGNsYXNzIHByb3RvdHlwZVxyXG5cdFx0XHRjdG9yLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0XHRjb25zdHJ1Y3RvcjogY3RvclxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFsbG93cyBleHRlbmRpbmcgY2xhc3MgYnkgYW5vdGhlciBvbmUuXHJcblx0XHQgKiBTdXBwb3J0cyBzaW5nbGUgaW5oZXJpdGFuY2UuXHJcblx0XHQgKiBJbmhlcml0YW5jZSByZW1vdmVzIG9sZCBwcm90b3R5cGUgdmFsdWVzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBleHRlbmRlZCBDbGFzcyB0byBleHRlbmQuXHJcblx0XHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gQ2hhaW5pbmcgKnRoaXMqIGNsYXNzIGJ1aWxkZXIuXHJcblx0XHQgKi9cclxuXHRcdGN0b3IuZXh0ZW5kcyA9IGZ1bmN0aW9uKGV4dGVuZGVkKSB7XHJcblx0XHRcdGlmKHR5cGVvZiBleHRlbmRlZCAhPT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0V4dGVuZGluZyBjbGFzcyBieSBub24tY2xhc3Mgb2JqZWN0IGlzIHVuYWxsb3dlZCcpO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBjcmVhdGUgY2xhc3MgaW5oZXJpdGFuY2VcclxuXHRcdFx0dGhpcy50eXBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZXh0ZW5kZWQucHJvdG90eXBlKTtcclxuXHRcdFx0dGhpcy50eXBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHRoaXMudHlwZTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIERlZmluZSBwcm9wZXJ0aWVzIGZvciBjbGFzcy5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BlcnRpZXMgc3BlY2lmaWVkIG9iamVjdC5cclxuXHRcdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBDaGFpbmluZyAqdGhpcyogY2xhc3MgYnVpbGRlci5cclxuXHRcdCAqL1xyXG5cdFx0Y3Rvci5wcm9wZXJ0aWVzID0gZnVuY3Rpb24ocHJvcHMpIHtcclxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy50eXBlLnByb3RvdHlwZSwgcHJvcHMpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwbHkgc2NvcGUgYm9keSB0byB0aGUgY2xhc3MgcHJvdG90eXBlLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gc2NvcGUgU2NvcGUgb2JqZWN0IHRvIGFwcGx5IGFzIGNsYXNzIHByb3RvdHlwZS5cclxuXHRcdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBDaGFpbmluZyAqdGhpcyogY2xhc3MgYnVpbGRlci5cclxuXHRcdCAqL1xyXG5cdFx0Y3Rvci5zY29wZSA9IGZ1bmN0aW9uKHNjb3BlKSB7XHJcblx0XHRcdEJCUS5VdGlscy5hc3NpZ24odGhpcy50eXBlLnByb3RvdHlwZSwgc2NvcGUpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTWFrZSBjbGFzcyBmaW5hbC5cclxuXHRcdCAqIERpc2FibGVzIGNsYXNzIGJ1aWxkZXIgZnVuY3Rpb25hbGl0eS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybiB7RnVuY3Rpb259IENoYWluaW5nICp0aGlzKiB3aXRob3V0IGNsYXNzIGJ1aWxkZXIuXHJcblx0XHQgKi9cclxuXHRcdGN0b3IuZmluYWwgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0ZGVsZXRlIHRoaXMudHlwZS5zY29wZTtcclxuXHRcdFx0ZGVsZXRlIHRoaXMudHlwZS5wcm9wZXJ0aWVzO1xyXG5cdFx0XHRkZWxldGUgdGhpcy50eXBlLmV4dGVuZHM7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnR5cGUudHlwZTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQvLyByZXR1cm5zIGNsYXNzIGJ1aWxkZXJcclxuXHRcdHJldHVybiBjdG9yO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ3JlYXRlcyBET00gbW9kaWZpZXIuXHJcblx0ICogXHJcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBTaW5nbGUgRE9NIGVsZW1lbnQuXHJcblx0ICogQHJldHVybnMge0JCUS5ET00uRWxlbWVudH0gRWxlbWVudCBCQlEgbW9kaWZpZXIuXHJcblx0ICovXHJcblx0QkJRLkRPTSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdHJldHVybiBuZXcgQkJRLkRPTS5FbGVtZW50KGVsZW1lbnQpO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogRE9NIGVsZW1lbnQgbW9kaWZpZXIgdXRpbGl0eSBjbGFzcy5cclxuXHQgKiBcclxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250ZXh0XHJcblx0ICovXHJcblx0QkJRLkRPTS5FbGVtZW50ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cdFx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIEJCUS5ET00uRWxlbWVudCBjbGFzcyBwcm90b3R5cGVcclxuXHRCQlEuRE9NLkVsZW1lbnQucHJvdG90eXBlID0ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21tb24gY3Rvci5cclxuXHRcdCAqL1xyXG5cdFx0Y29uc3RydWN0b3I6IEJCUS5ET00sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQmluZHMgZXZlbnQgdG8gdGhlIGFzc2lnbmVkIGVsZW1lbnQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFxyXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRvbjogZnVuY3Rpb24odHlwZSwgY2FsbGJhY2spIHtcclxuXHRcdFx0aWYodGhpcy5jb250ZXh0LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuXHRcdFx0XHR0aGlzLmNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLmNvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly8gb3VwcywgZnVuY3Rpb24gbm90IHJlY29yZ25pemVkXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvcignTm8gZXZlbnQgYmluZGluZyBmdW5jdGlvbmFsaXR5IGZvdW5kIScpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQXNzaWducyBnaXZlbiBDU1MgcHJvcGVydGllcyB0byBIVE1MIGVsZW1lbnQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBDU1MgcHJvcGVydGllcy5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRjc3M6IGZ1bmN0aW9uKHByb3BzKSB7XHJcblx0XHRcdEJCUS5VdGlscy5hc3NpZ24odGhpcy5jb250ZXh0LnN0eWxlLCBwcm9wcyk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIEhUTUwgZWxlbWVudCBpbnRvICp0aGlzKi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBIVE1MIGVsZW1lbnQgdG8gYXBwZW5kLlxyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGFwcGVuZDogZnVuY3Rpb24obm9kZSkge1xyXG5cdFx0XHRmb3IodmFyIGkgaW4gYXJndW1lbnRzKSB7XHJcblx0XHRcdFx0bm9kZSA9IGFyZ3VtZW50c1tpXTsgLy8gcmUtYXNzaWduXHJcblx0XHRcdFx0dGhpcy5jb250ZXh0LmFwcGVuZENoaWxkKFxyXG5cdFx0XHRcdFx0bm9kZSBpbnN0YW5jZW9mIEJCUS5ET00uRWxlbWVudCA/XHJcblx0XHRcdFx0XHRcdG5vZGUuY29udGV4dCA6IG5vZGVcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzICp0aGlzKiBlbGVtZW50IGludG8gc3BlY2lmaWVkIGVsZW1lbnQgYXMgdGFyZ2V0LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgVGFyZ2V0IEhUTUwgZWxlbWVudC5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRhcHBlbmRUbzogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHRcdGlmKHRhcmdldCBpbnN0YW5jZW9mIEJCUS5ET00uRWxlbWVudCkge1xyXG5cdFx0XHRcdHRhcmdldC5jb250ZXh0LmFwcGVuZENoaWxkKHRoaXMuY29udGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHRoaXMuY29udGV4dCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZXMgKnRoaXMqIGVsZW1lbnQgaWQgYXR0cmlidXRlIHZhbHVlLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gaWROYW1lIEVsZW1lbnQgbmV3IGlkIHZhbHVlLlxyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGlkOiBmdW5jdGlvbihpZE5hbWUpIHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LmlkID0gaWROYW1lO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2hhbmdlcyAqdGhpcyogZWxlbWVudCBjbGFzcyBhdHRyaWJ1dGUgdmFsdWUuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWUgRWxlbWVudCBuZXcgY2xhc3MgbmFtZS5cclxuXHRcdCAqIEByZXR1cm4ge0JCUS5ET00uRWxlbWVudH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRjbGFzczogZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcblx0XHRcdHRoaXMuY29udGV4dC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGFuZ2VzICp0aGlzKiBlbGVtZW50J3MgdGV4dCBjb250ZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBIVE1MIGVudHJpZXMgYXMgc3RyaW5nLlxyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdHRleHQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LnRleHRDb250ZW50ID0gY29udGVudDtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENoYW5nZXMgKnRoaXMqIGVsZW1lbnQncyBjb250ZW50LlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBIVE1MIGVudHJpZXMgYXMgc3RyaW5nLlxyXG5cdFx0ICogQHJldHVybiB7QkJRLkRPTS5FbGVtZW50fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGh0bWw6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0dGhpcy5jb250ZXh0LmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIGVsZW1lbnQgaW50byBnaXZlbiB0YXJnZXQgKGlmIHNwZWNpZmllZCksIGFuZCByZXR1cm5zXHJcblx0XHQgKiBET00gcmF3ICp0aGlzKiBIVE1MIGVsZW1lbnQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8QkJRLkRPTS5FbGVtZW50fSB0YXJnZXQgVGFyZ2V0IEhUTUwgZWxlbWVudC5cclxuXHRcdCAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBSYXcgSFRNTCBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRkb25lOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdFx0aWYodHlwZW9mIHRhcmdldCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0aGlzLmFwcGVuZFRvKHRhcmdldCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXMuY29udGV4dDtcclxuXHRcdH1cclxuXHR9O1xyXG59KSh3aW5kb3cuQkJRID0gd2luZG93LkJCUSB8fCB7fSk7XHJcblxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9iYnEvYmJxLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogXHJcbiAqIGJicS1jb25zb2xlLmpzXHJcbiAqIFxyXG4gKiBCQlEgbW9kdWxlIGZvciBleHRlbmQgY29uc29sZS5sb2cgYnkgY3VzdG9taXplZCBvbi1zY3JlZW4gbG9nZ2VyLlxyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIEtvbnJhZCBOb3dha293c2tpIDxrb25yYWQueDkyQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogQkJRIENvbnNvbGUgTW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihCQlEpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBCQlEgb24tc2NyZWVuIGNvbnNvbGUgbWFuYWdlci5cclxuXHQgKi9cclxuXHRCQlEuY29uc29sZSA9IChmdW5jdGlvbigpIHtcclxuXHRcdC8vIGNyZWF0ZXMgc3RhdHVzIGVsZW1lbnRzXHJcblx0XHR2YXIgc3ViaW5mbyA9IFtcclxuXHRcdFx0QkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpXHJcblx0XHRcdFx0LmNzcyh7bWFyZ2luUmlnaHQ6ICc4cHgnfSlcclxuXHRcdFx0XHQuY29udGV4dCxcclxuXHRcdFx0QkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpXHJcblx0XHRcdFx0LnRleHQoJy0tLScpXHJcblx0XHRcdFx0LmNvbnRleHRcclxuXHRcdF07XHJcblx0XHRcclxuXHRcdC8vIGNyZWF0ZXMgY29tbW9uIGluZm9iYXJcclxuXHRcdHZhciBpbmZvYmFyID0gQkJRLkRPTShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcclxuXHRcdFx0LmFwcGVuZChzdWJpbmZvWzBdLCBzdWJpbmZvWzFdKVxyXG5cdFx0XHQuY29udGV4dDtcclxuXHRcdFxyXG5cdFx0Ly8gY3JlYXRlcyBsb2dzIGNvbnRhaW5lclxyXG5cdFx0dmFyIGxvZ3MgPSBCQlEuRE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJykpXHJcblx0XHRcdC5jb250ZXh0O1xyXG5cdFx0XHJcblx0XHQvLyBjcmVhdGVzIGNvbnRhaW5lciBlbGVtZW50IGFuZCBhcHBlbmRzIHRvIGJvZHlcclxuXHRcdHZhciBjb250YWluZXIgPSBCQlEuRE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxyXG5cdFx0XHQuaWQoJ2dhbWUtbG9nZ2VyJylcclxuXHRcdFx0LmNzcyh7ZGlzcGxheTogJ25vbmUnfSlcclxuXHRcdFx0LmFwcGVuZChpbmZvYmFyLCBsb2dzKVxyXG5cdFx0XHQuZG9uZShkb2N1bWVudC5ib2R5KTtcclxuXHRcdFxyXG5cdFx0Ly8gcHVibGljIHNjb3BlXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU2hvd3MgY29uc29sZSBjb250YWluZXIgd2hlbiBkb2N1bWVudCdzIHJlYWR5LlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0c2hvd09uUmVhZHk6IHRydWUsXHJcblx0XHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ2hhbmdlcyBzdGF0aWMgc3RhdHVzIGNvbnRlbnQuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBOZXcgY29udGVudC5cclxuXHRcdFx0ICogQHJldHVybiB7T2JqZWN0fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0XHRzdWJpbmZvWzBdLnRleHRDb250ZW50ID0gY29udGVudDtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHRcdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDaGFuZ2VzIGR5bmFtaWMgc3RhdHVzIGNvbnRlbnQuXHJcblx0XHRcdCAqIFxyXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBOZXcgY29udGVudC5cclxuXHRcdFx0ICogQHJldHVybiB7T2JqZWN0fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRmcHM6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0XHRzdWJpbmZvWzFdLnRleHRDb250ZW50ID0gY29udGVudDtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHRcdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBDcmVhdGVzIG5ldyBlbnRyeSBpbnRvIGxvZ3MgY29udGFpbmVyLlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRcclxuXHRcdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fSBBZGRlZCBsb2cgZW50cnkuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRsb2c6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuXHRcdFx0XHQvLyByZW1vdmUgZWxlbWVudCBmcm9tIHRvcFxyXG5cdFx0XHRcdGlmKGxvZ3MuY2hpbGROb2Rlcy5sZW5ndGggPiA1KSB7XHJcblx0XHRcdFx0XHRsb2dzLnJlbW92ZUNoaWxkKGxvZ3MuY2hpbGROb2Rlc1swXSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBhcHBlbmRzIGxvZ3MgZWxlbWVudFxyXG5cdFx0XHRcdHJldHVybiBCQlEuRE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJykpXHJcblx0XHRcdFx0XHQudGV4dChjb250ZW50KS5kb25lKGxvZ3MpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTaG93cyBjb25zb2xlIGNvbnRhaW5lci5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0c2hvdzogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEhpZGVzIGNvbnNvbGUgY29udGFpbmVyLlxyXG5cdFx0XHQgKiBcclxuXHRcdFx0ICogQHJldHVybiB7T2JqZWN0fSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRoaWRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBUb2dnbGVzIGNvbnNvbGUgdmlzaWJpbGl0eS5cclxuXHRcdFx0ICogXHJcblx0XHRcdCAqIEByZXR1cm4ge09iamVjdH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0XHQgKi9cclxuXHRcdFx0dG9nZ2xlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/XHJcblx0XHRcdFx0XHR0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogU2hvd3MgY29uc29sZSBvbi1zY3JlZW4gY29udGFpbmVyIG9uLURPTS1jb250ZW50LWxvYWQuXHJcblx0ICovXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdGlmKEJCUS5jb25zb2xlLnNob3dPblJlYWR5KSB7XHJcblx0XHRcdEJCUS5jb25zb2xlLnNob3coKTtcclxuXHRcdH1cclxuXHR9LCBmYWxzZSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogTWFrZXMgY29uc29sZSBpbnN0YW5jZSBpZiBub3QgYWxyZWFkeSBleGlzdHMuXHJcblx0ICovXHJcblx0aWYoIXdpbmRvdy5jb25zb2xlKSB7XHJcblx0XHR3aW5kb3cuY29uc29sZSA9IHtcclxuXHRcdFx0bG9nOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRpbmZvOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHR3YXJuOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7fVxyXG5cdFx0fTtcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogU3RvcmVzIG9sZCBDb25zb2xlIGZ1bmN0aW9uYWxpdHkuXHJcblx0ICovXHJcblx0dmFyIF9zdXBlciA9IHtcclxuXHRcdGxvZzogd2luZG93LmNvbnNvbGUubG9nLFxyXG5cdFx0aW5mbzogd2luZG93LmNvbnNvbGUuaW5mbyxcclxuXHRcdHdhcm46IHdpbmRvdy5jb25zb2xlLndhcm4sXHJcblx0XHRlcnJvcjogd2luZG93LmNvbnNvbGUuZXJyb3JcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEV4dGVuZHMgbmF0aXZlIENvbnNvbGUgZnVuY3Rpb25hbGl0eS5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMuYXNzaWduKHdpbmRvdy5jb25zb2xlLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIExvZ3MgbmV3IHZhbHVlIGludG8gYm90aCBjb25zb2xlcyAtIG5hdGl2ZSBhbmQgb24tc2NyZWVuLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge01peGVkfSB2YWx1ZSBBbnkgdmFsdWUgdG9TdHJpbmctYWJsZS5cclxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gT24tc2NyZWVuIGNvbnNvbGUgZW50cnkgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0bG9nOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRfc3VwZXIubG9nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdEJCUS5jb25zb2xlLmxvZygnJyArIHZhbHVlKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTG9ncyBuZXcgdmFsdWUgaW50byBib3RoIGNvbnNvbGVzIC0gbmF0aXZlIGFuZCBvbi1zY3JlZW4uXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlIEFueSB2YWx1ZSB0b1N0cmluZy1hYmxlLlxyXG5cdFx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fSBPbi1zY3JlZW4gY29uc29sZSBlbnRyeSBlbGVtZW50LlxyXG5cdFx0ICovXHJcblx0XHRpbmZvOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRfc3VwZXIuaW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRCQlEuY29uc29sZS5sb2coJycgKyB2YWx1ZSkuc3R5bGUuY29sb3IgPSAnI2MwYzBmZic7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIExvZ3MgbmV3IHZhbHVlIGludG8gYm90aCBjb25zb2xlcyAtIG5hdGl2ZSBhbmQgb24tc2NyZWVuLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge01peGVkfSB2YWx1ZSBBbnkgdmFsdWUgdG9TdHJpbmctYWJsZS5cclxuXHRcdCAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gT24tc2NyZWVuIGNvbnNvbGUgZW50cnkgZWxlbWVudC5cclxuXHRcdCAqL1xyXG5cdFx0d2FybjogZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0X3N1cGVyLndhcm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0QkJRLmNvbnNvbGUubG9nKCcnICsgdmFsdWUpLnN0eWxlLmNvbG9yID0gJyNmZmZmODAnO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBMb2dzIG5ldyB2YWx1ZSBpbnRvIGJvdGggY29uc29sZXMgLSBuYXRpdmUgYW5kIG9uLXNjcmVlbi5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWUgQW55IHZhbHVlIHRvU3RyaW5nLWFibGUuXHJcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IE9uLXNjcmVlbiBjb25zb2xlIGVudHJ5IGVsZW1lbnQuXHJcblx0XHQgKi9cclxuXHRcdGVycm9yOiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRfc3VwZXIuZXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0QkJRLmNvbnNvbGUubG9nKCcnICsgdmFsdWUpLnN0eWxlLmNvbG9yID0gJyNmMDMwMzAnO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSh3aW5kb3cuQkJRID0gd2luZG93LkJCUSB8fCB7fSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2JicS9iYnEtY29uc29sZS5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBcclxuICogYmJxLXBpeGkuanNcclxuICogXHJcbiAqIEJCUSByZW5kZXJlciBleHRlbnNpb24gZm9yIHBsYXlncm91bmQgYmFzZWQgb24gUGl4aSBXZWJHTC5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEJCUSBSZW5kZXJpbmcgTW9kdWxlLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oQkJRLCBQTEFZR1JPVU5ELCBQSVhJKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0Ly8gZGlzYWJsZXMgbGluZWFyIGludGVycG9sdGlvbiBieSBkZWZhdWx0XHJcblx0UElYSS5TQ0FMRV9NT0RFUy5ERUZBVUxUID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xyXG5cdFxyXG5cdC8vIHJlLWRlZmluZSBkZWZhdWx0IHJlbmRlcmVyIG9wdGlvbnNcclxuXHRCQlEuVXRpbHMuYXNzaWduKFBJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OUywge1xyXG5cdFx0Ly9jbGVhckJlZm9yZVJlbmRlcjogZmFsc2UsXHJcblx0XHRhdXRvUmVzaXplOiB0cnVlXHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogU3RvcmVzIG9sZCB1c2FibGUgbWV0aG9kcy5cclxuXHQgKi9cclxuXHR2YXIgX3N1cGVyID0ge1xyXG5cdFx0Z2V0QXNzZXRFbnRyeTogUExBWUdST1VORC5BcHBsaWNhdGlvbi5wcm90b3R5cGUuZ2V0QXNzZXRFbnRyeVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogRXh0ZW5kcyBQTEFZR1JPVU5ELkFwcGxpY2F0aW9uIGJ5IHJlbmRlcmVyLlxyXG5cdCAqL1xyXG5cdEJCUS5VdGlscy5hc3NpZ24oUExBWUdST1VORC5BcHBsaWNhdGlvbi5wcm90b3R5cGUsIHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQXNzaWducyBhbiBuZXcgUGl4aSByZW5kZXJlciB0byBQcm90b3R5cGUuQXBwbGljYXRpb24gaW5zdGFuY2UuXHJcblx0XHQgKiBDcmVhdGVzIFdlYkdMIG9uZSBvciB1c2VzIGZhbGxiYWNrIENhbnZhcyByZW5kZXJlci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgUElYSSByZW5kZXJlciBvcHRpb25zLlxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuU3lzdGVtUmVuZGVyZXJ9IFByb3Blcmx5IGRldGVjdGVkIHJlbmRlcmVyLlxyXG5cdFx0ICovXHJcblx0XHRjcmVhdGVSZW5kZXJlcjogZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0XHQvLyBjcmVhdGVkIG5ldyByZW5kZXJlclxyXG5cdFx0XHRjb25zb2xlLmxvZygnQ3JlYXRpbmcgUElYSSByZW5kZXJlci4uLicpO1xyXG5cdFx0XHR0aGlzLnJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoXHJcblx0XHRcdFx0d2luZG93LmlubmVyV2lkdGgsXHJcblx0XHRcdFx0d2luZG93LmlubmVySGVpZ2h0LFxyXG5cdFx0XHRcdE9iamVjdC5hc3NpZ24oe1xyXG5cdFx0XHRcdFx0cm91bmRQaXhlbHM6IHRydWVcclxuXHRcdFx0XHR9LCBvcHRpb25zKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8ga2VlcCBhc3BlY3QgcmF0aW8gKGlmIHNwZWNpZmllZClcclxuXHRcdFx0aWYodHlwZW9mIHRoaXMuc2NhbGUgPT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0Ly8gYmluZCB3aW5kb3cgcmVzaXplIGV2ZW50XHJcblx0XHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFx0XHQncmVzaXplJywgdGhpcy5rZWVwQXNwZWN0LmJpbmQodGhpcyksIGZhbHNlXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHR0aGlzLmtlZXBBc3BlY3QoKTsgLy9ydW4tb24tZmx5XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGFkZCByZW5kZXJlciB2aWV3IHRvIHRoZSBET00gZWxlbWVudFxyXG5cdFx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIgfHwgZG9jdW1lbnQuYm9keTtcclxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIudmlldyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEtlZXBzIGNhbnZhcyB2aWV3IGFzcGVjdC5cclxuXHRcdCAqL1xyXG5cdFx0a2VlcEFzcGVjdDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNoYW5nZSBzY2FsZSBzaXplXHJcblx0XHRcdGlmKHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4KSB7XHJcblx0XHRcdFx0dGhpcy5zY2FsZSA9IDI7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5zY2FsZSA9IDQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBwcm9wV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAlIHRoaXMuc2NhbGU7XHJcblx0XHRcdHZhciBwcm9wSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICUgdGhpcy5zY2FsZTtcclxuXHRcdFx0dmFyIG5ld1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggKyAodGhpcy5zY2FsZSAtIHByb3BXaWR0aCk7XHJcblx0XHRcdHZhciBuZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAodGhpcy5zY2FsZSAtIHByb3BIZWlnaHQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmVzaXplIGNhbnZhcyBlbGVtZW50XHJcblx0XHRcdHRoaXMucmVuZGVyZXIucmVzaXplKFxyXG5cdFx0XHRcdG5ld1dpZHRoIC8gdGhpcy5zY2FsZSxcclxuXHRcdFx0XHRuZXdIZWlnaHQgLyB0aGlzLnNjYWxlXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBzY2FsZS11cCBjYW52YXMgZWxlbWVudCB2aWEgQ1NTIHRyYW5zZm9ybSBwcm9wZXJ0eVxyXG5cdFx0XHR0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XHJcblx0XHRcdHRoaXMucmVuZGVyZXIudmlldy5zdHlsZS5oZWlnaHQgPSBuZXdIZWlnaHQgKyAncHgnO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGVzIHRleHR1cmUgZnJvbSBpbWFnZS5cclxuXHRcdCAqIFVzZXMgc2hhcmVkIHRleHR1cmUgaW5zdGFuY2UgYnkgZGVmYXVsdC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtJbWFnZXxTdHJpbmd9IGltYWdlIEltYWdlIEpTIGluc3RhbmNlIG9yIGltYWdlIG5hbWUuXHJcblx0XHQgKiBAcGFyYW0ge0Jvb2xlYW59IHNoYXJlZCBVc2Ugc2hhcmVkIChjYWNoZWQpIHRleHR1cmUgaW5zdGFuY2UuXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5UZXh0dXJlfSBQaXhpIHRleHR1cmUgaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdHRleDogZnVuY3Rpb24oaW1hZ2UsIHNoYXJlZCkge1xyXG5cdFx0XHR2YXIgaW1hZ2VJbnN0ID0gaW1hZ2U7XHJcblx0XHRcdGlmKHR5cGVvZiBpbWFnZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRpbWFnZUluc3QgPSB0aGlzLmltYWdlc1tpbWFnZV07XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoIShpbWFnZUluc3QgaW5zdGFuY2VvZiBJbWFnZSkpIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdJbWFnZSBcXCcnICsgaW1hZ2UgKyAnXFwnIG5vdCByZWNvZ25pemVkJywgaW1hZ2VJbnN0KTtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBjcmVhdGUgc2hhcmVkIHRleHR1cmVcclxuXHRcdFx0aWYodHlwZW9mIHNoYXJlZCA9PT0gJ3VuZGVmaW5lZCcgfHwgc2hhcmVkID09PSB0cnVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VJbnN0LnNyYyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY3JlYXRlIG5ldyB0ZXh0dXJlICp3aXRoIHNoYXJlZCBiYXNlIHRleHR1cmVcclxuXHRcdFx0cmV0dXJuIG5ldyBQSVhJLlRleHR1cmUoXHJcblx0XHRcdFx0UElYSS5CYXNlVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VJbnN0LnNyYylcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQWxsb3dzIGltYWdlcyBsb2FkaW5nIGZyb20gZXh0ZXJuYWwgc2VydmVycy5cclxuXHRcdCAqIFJlcXVpcmVzIGFsbG93ZWQgQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgcG9saWN5IHRvIHdvcmsuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFVSTCBvciByZWxhdGl2ZSBhc3NldCBwYXRoLlxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGZvbGRlciBBc3NldHMgc3RvcmluZyBmb2xkZXIuXHJcblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gZGVmYXVsdEV4dGVuc2lvbiBEZWZhdWx0IGFzc2V0IGV4dGVuc2lvbi5cclxuXHRcdCAqIEByZXR1cm5zIHtPYmplY3R9IEFzc2V0IGVudHJ5IG9iamVjdC5cclxuXHRcdCAqL1xyXG5cdFx0Z2V0QXNzZXRFbnRyeTogZnVuY3Rpb24ocGF0aCwgZm9sZGVyLCBkZWZhdWx0RXh0ZW5zaW9uKSB7XHJcblx0XHRcdC8vIGNoZWNrIGlmIGFzc2V0IGlzIGZyb20gZXh0ZXJuYWwgc2VydmVyXHJcblx0XHRcdGlmKC9eaHR0cCh8cyk6XFwvXFwvLisvaS50ZXN0KHBhdGgpKSB7XHJcblx0XHRcdFx0dmFyIGtleSA9IHBhdGguc3BsaXQoJy8nKS5wb3AoKS5zcGxpdCgnLicpWzBdLFxyXG5cdFx0XHRcdFx0ZXh0ID0gcGF0aC5zcGxpdCgnLicpLnBvcCgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRrZXk6IGtleSxcclxuXHRcdFx0XHRcdHVybDogcGF0aCxcclxuXHRcdFx0XHRcdHBhdGg6IHBhdGgsXHJcblx0XHRcdFx0XHRleHQ6IGV4dFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHVzZSBvbGQgbWV0aG9kXHJcblx0XHRcdHJldHVybiBfc3VwZXIuZ2V0QXNzZXRFbnRyeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgYWRkaXRpb25hbCBmdW5jdGlvbmFsaXR5IGludG8gUElYSS5Qb2ludCBjbGFzcy5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMuYXNzaWduKFBJWEkuUG9pbnQucHJvdG90eXBlLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIE92ZXJyaWRlIHZlY3RvciB2YWx1ZXMuXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRzZXQ6IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHRcdFx0dGhpcy54ID0geCB8fCAwO1xyXG5cdFx0XHR0aGlzLnkgPSB5IHx8IDA7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNdWx0aXBsaWVzIHZlY3RvciBieSBhIHNjYWxhci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuUG9pbnR9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0bXVsOiBmdW5jdGlvbihzY2FsYXIpIHtcclxuXHRcdFx0dGhpcy54ID0gKHRoaXMueCAqIHNjYWxhcikgfHwgMDtcclxuXHRcdFx0dGhpcy55ID0gKHRoaXMueSAqIHNjYWxhcikgfHwgMDtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIERpdmlkZXMgdmVjdG9yIGJ5IGEgc2NhbGFyLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRkaXY6IGZ1bmN0aW9uKHNjYWxhcikge1xyXG5cdFx0XHR0aGlzLnggPSAodGhpcy54IC8gc2NhbGFyKSB8fCAwO1xyXG5cdFx0XHR0aGlzLnkgPSAodGhpcy55IC8gc2NhbGFyKSB8fCAwO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ2FsY3VsYXRlcyBsZW5ndGggb2YgdGhlIHZlY3Rvci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge051bWJlcn0gVmVjdG9yIGxlbmd0aC5cclxuXHRcdCAqL1xyXG5cdFx0bGVuZ3RoOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIE1hdGguc3FydChcclxuXHRcdFx0XHR0aGlzLnggKiB0aGlzLnggK1xyXG5cdFx0XHRcdHRoaXMueSAqIHRoaXMueVxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBOb3JtYWxpemVzIHZlY3Rvci5cclxuXHRcdCAqIE1ha2VzIG5vcm1hbGl6YXRpb24gb24gaXRzZWxmLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRub3JtYWxpemU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5kaXYodGhpcy5sZW5ndGgoKSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQWRkcyBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkgaW50byBQSVhJLlJlY3RhbmdsZSBjbGFzcy5cclxuXHQgKi9cclxuXHRCQlEuVXRpbHMuYXNzaWduKFBJWEkuUmVjdGFuZ2xlLnByb3RvdHlwZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBEZXRlcm1pbmVzIGludGVyc2VjdGlvbiBiZXR3ZWVuIHJlY3RhbmdsZXMuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RcclxuXHRcdCAqIEByZXR1cm5zIHtCb29sZWFufVxyXG5cdFx0ICovXHJcblx0XHRpbnRlcnNlY3RzOiBmdW5jdGlvbihyZWN0KSB7XHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0KHRoaXMueCArIHRoaXMud2lkdGggPj0gcmVjdC54ICYmIHRoaXMueCA8PSByZWN0LnggKyByZWN0LndpZHRoKSAmJlxyXG5cdFx0XHRcdCh0aGlzLnkgKyB0aGlzLmhlaWdodCA+PSByZWN0LnkgJiYgdGhpcy55IDw9IHJlY3QueSArIHJlY3QuaGVpZ2h0KVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSh3aW5kb3cuQkJRID0gd2luZG93LkJCUSB8fCB7fSwgUExBWUdST1VORCwgUElYSSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmJxL2JicS1waXhpLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIFxyXG4gKiBiYnEtc3RhZ2UuanNcclxuICogXHJcbiAqIEJCUSBnYW1lcGxheSBzdGF0ZSBtYWNoaW5lIHN0YXRlcy5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENvbW1vbiBnYW1lcGxheSBzdGF0ZSBtb2R1bGUuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gQkJRIEVuZ2luZSBwdWJsaWMgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge1BJWEl9IFBpeGkgUElYSSByZW5kZXJpbmcgZW5naW5lIG5hbWVzcGFjZS5cclxuICovXHJcbihmdW5jdGlvbihCQlEsIFBJWEkpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHRcclxuXHQvKipcclxuXHQgKiBDcmVhdGVzIGFjdG9yIGluc3RhbmNlLlxyXG5cdCAqL1xyXG5cdEJCUS5BY3RvciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gaW5oZXJpdGFuY2UgY3RvclxyXG5cdFx0UElYSS5TcHJpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFxyXG5cdFx0Ly8gc2lnbmFscyBzZXRcclxuXHRcdHRoaXMuc2lnbmFscyA9IFtdO1xyXG5cdFx0XHJcblx0XHQvLyBldmVudHMgc2V0XHJcblx0XHR0aGlzLmV2ZW50cyA9IFtdO1xyXG5cdFx0XHJcblx0XHQvLyB3ZXRoZXIgYWN0b3IgaXMgbm8tbW9yZSBsaXZlXHJcblx0XHR0aGlzLmtpbGxlZCA9IGZhbHNlO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBCQlEuQWN0b3IgYnkgUElYSS5TcHJpdGUgY2xhc3NcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuQWN0b3IsIFBJWEkuU3ByaXRlLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIENvbW1vbiBjdG9yLlxyXG5cdFx0ICovXHJcblx0XHRjb25zdHJ1Y3RvcjogQkJRLkFjdG9yLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEVtaXRzIGFjdG9yJ3MgZGVmaW5lZCBzaWduYWwuXHJcblx0XHQgKiBBbGxvd3Mgb3B0aW9uYWwgYXJndW1lbnRzIGFwcGx5aW5nIGZvciBzaWduYWwgY2FsbC5cclxuXHRcdCAqIEV4YW1wbGU6XHJcblx0XHQgKlx0YWN0b3IuZW1pdCgnZGFtYWdlJywgMTApO1xyXG5cdFx0ICogXHJcblx0XHQgKiBTaWduYWxzIGNhbGwncyAqdGhpcyogY29udGV4dCBpcyB0aGUgYWN0b3IgaW5zdGFuY2UuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBzaWduYWwgU2lnbmFsIG5hbWUgdG8gZW1pdC5cclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J9IENoYWluaW5nICp0aGlzKiBpbnN0YW5jZS5cclxuXHRcdCAqL1xyXG5cdFx0ZW1pdFNpZ25hbDogZnVuY3Rpb24oc2lnbmFsKSB7XHJcblx0XHRcdHZhciBzaWduYWxzID0gdGhpcy5zaWduYWxzW3NpZ25hbF0sXHJcblx0XHRcdFx0c2xpY2VkQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHRcdFx0aWYodHlwZW9mIHNpZ25hbHMgIT09ICd1bmRlZmluZWQnICYmIHNpZ25hbHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdHNpZ25hbHMuZm9yRWFjaChmdW5jdGlvbihzKSB7XHJcblx0XHRcdFx0XHRzLmNhbGxiYWNrLmFwcGx5KHMuY29udGV4dCwgc2xpY2VkQXJndW1lbnRzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQmluZHMgYW5vdGhlciBzaWduYWwgY2FsbGJhY2suXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBzaWduYWwgU2lnbmFsIG5hbWUgZm9yIGJpbmQuXHJcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBTaWduYWwgY2FsbGJhY2sgdG8gYXBwZW5kLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3Rvcn0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRiaW5kU2lnbmFsOiBmdW5jdGlvbihzaWduYWwsIGNhbGxiYWNrLCBjb250ZXh0KSB7XHJcblx0XHRcdHRoaXMuc2lnbmFsc1tzaWduYWxdID0gdGhpcy5zaWduYWxzW3NpZ25hbF0gfHwgW107XHJcblx0XHRcdHRoaXMuc2lnbmFsc1tzaWduYWxdLnB1c2goe1xyXG5cdFx0XHRcdGNhbGxiYWNrOiBjYWxsYmFjayxcclxuXHRcdFx0XHRjb250ZXh0OiBjb250ZXh0IHx8IHRoaXNcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVbmJpbmRzIHNpZ25hbCBjYWxsYmFjay5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IHNpZ25hbCBTaWduYWwgbmFtZSB0byB1bmJpbmQuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdHVuYmluZFNpZ25hbDogZnVuY3Rpb24oc2lnbmFsLCBjYWxsYmFjaykge1xyXG5cdFx0XHR2YXIgc2lnbmFscyA9IHRoaXMuc2lnbmFsc1tzaWduYWxdLCBpbmRleCA9IC0xO1xyXG5cdFx0XHRpZih0eXBlb2Ygc2lnbmFscyAhPT0gJ3VuZGVmaW5lZCcgJiYgc2lnbmFscy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0dGhpcy5zaWduYWxzW3NpZ25hbF0gPSBzaWduYWxzLmZpbHRlcihmdW5jdGlvbihzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gIShzLmNhbGxiYWNrID09PSBjYWxsYmFjayk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENsZWFycyBhbGwgYmluZGVkIHNpZ25hbHMuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBzaWduYWwgU2lnbmFsIG5hbWUgdG8gY2xlYXIuXHJcblx0XHQgKiBAcmV0dXJucyB7QkJRLkFjdG9yfSBDaGFpbmluZyAqdGhpcyogaW5zdGFuY2UuXHJcblx0XHQgKi9cclxuXHRcdGNsZWFyU2lnbmFsOiBmdW5jdGlvbihzaWduYWwpIHtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuc2lnbmFsc1tzaWduYWxdO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogRW5xdWV1ZXMgZXZlbnQgaW50byBldmVudHMgYXJyYXkuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lIChzaWduYWwpLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3Rvcn0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRlbnF1ZXVlRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdHRoaXMuZXZlbnRzLnB1c2goe1xyXG5cdFx0XHRcdG5hbWU6IGV2ZW50LFxyXG5cdFx0XHRcdGFyZ3M6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBEZXF1ZXVlcyBldmVudCBmcm9tIGV2ZW50cyBhcnJheS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHJldHVybnMge09iamVjdHxCb29sZWFufSBGaXJzdCBldmVudCwgRkxBU0UgaWYgbm8gbW9yZSBldmVudHMgcmVtYWluaW5nLlxyXG5cdFx0ICovXHJcblx0XHRkZXF1ZXVlRXZlbnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZih0aGlzLmV2ZW50cy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gZ2V0IGV2ZW50IGZyb20gYmVnaW5uaW5nXHJcblx0XHRcdHZhciBldmVudCA9IHRoaXMuZXZlbnRzWzBdO1xyXG5cdFx0XHQvLyByZW1vdmUgZXZlbnQgZnJvbSBiZWdpbm5pZ1xyXG5cdFx0XHR0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzLnNsaWNlKDEpO1xyXG5cdFx0XHQvL3RoaXMuZXZlbnRzLnNoaWZ0KCk7XHJcblx0XHRcdC8vIHJldHVybiB0aGUgY2F0Y2hlZCBldmVudFxyXG5cdFx0XHRyZXR1cm4gZXZlbnQ7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEVucm9sbCByZW1haW5pbmcgZXZlbnRzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gZGVsdGEgRnJhbWUgZGVsdGEgdGltZS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHR2YXIgZXZlbnQ7XHJcblx0XHRcdHdoaWxlKChldmVudCA9IHRoaXMuZGVxdWV1ZUV2ZW50KCkpICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdC8vIGVtaXRzIGV2ZW50IHNpZ25hbFxyXG5cdFx0XHRcdHRoaXMuZW1pdFNpZ25hbC5hcHBseSh0aGlzLFxyXG5cdFx0XHRcdFx0QXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbZXZlbnQubmFtZV0sIGV2ZW50LmFyZ3MpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBTaWduIGFjdG9yIHRvIGRlc3Ryb3kuXHJcblx0XHQgKi9cclxuXHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZih0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC50b0RlbGV0ZSkge1xyXG5cdFx0XHRcdHRoaXMucGFyZW50LnRvRGVsZXRlLnB1c2godGhpcyk7XHJcblx0XHRcdFx0dGhpcy5raWxsZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQmFzaWMgYW5pbWF0ZWQgYWN0b3IuXHJcblx0ICovXHJcblx0QkJRLkFuaW1hdGVkQWN0b3IgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRlZCBjdG9yIGNhbGxcclxuXHRcdEJCUS5BY3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBCQlEuQW5pbWF0ZWRBY3RvciBieSBCQlEuQWN0b3IgY2xhc3NcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuQW5pbWF0ZWRBY3RvciwgQkJRLkFjdG9yLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIEFuaW1hdGlvbiBmcmFtZXMgdG8gdXNlLlxyXG5cdFx0ICovXHJcblx0XHRhbmltYXRpb25zOiB7XHJcblx0XHRcdGlkbGU6IHtcclxuXHRcdFx0XHR0aW1lOiAxLFxyXG5cdFx0XHRcdGZyYW1lczogWzBdXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ3VycmVudCBmcmFtZSB0aWNrLlxyXG5cdFx0ICovXHJcblx0XHRmcmFtZVRpY2s6IDAsXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogQ3VycmVudCBmcmFtZSBpbmRleC5cclxuXHRcdCAqL1xyXG5cdFx0ZnJhbWVJbmRleDogMCxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDdXJyZW50IHBsYXlpbmcgYW5pbWF0aW9uLlxyXG5cdFx0ICovXHJcblx0XHRhbmltYXRpb246ICdpZGxlJyxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQbGF5IGdpdmVuIGFuaW1hdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0cGxheTogZnVuY3Rpb24oYW5pbWF0aW9uLCByZXN0YXJ0KSB7XHJcblx0XHRcdGlmKGFuaW1hdGlvbiA9PT0gdGhpcy5hbmltYXRpb24gJiYgIXJlc3RhcnQpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlc2V0IGFuaW1hdGlvbiBmcmFtZSBjb3VudGVyc1xyXG5cdFx0XHR0aGlzLmZyYW1lVGljayA9IHRoaXMuZnJhbWVJbmRleCA9IDA7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBzZXQgYW5pbWF0aW9uXHJcblx0XHRcdHRoaXMuYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYW5pbWF0aW9uIHN0YXJ0IHNpZ25hbFxyXG5cdFx0XHR0aGlzLmVtaXRTaWduYWwoJ2FuaW1hdGlvblN0YXJ0JywgdGhpcy5hbmltYXRpb24pO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGVzIGFuaW1hdGlvbiBmcmFtZS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyBpbmhlcml0ZWQgc3VwZXIgbWV0aG9kIGNhbGxcclxuXHRcdFx0QkJRLkFjdG9yLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLCBkZWx0YSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBmZXRjaCBmb3IgYW5pbWF0aW9uXHJcblx0XHRcdHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbjtcclxuXHRcdFx0aWYodHlwZW9mIGFuaW1hdGlvbiA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbYW5pbWF0aW9uXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYW5pbWF0aW9uIHJlcXVpcmVzIGFuaW1hdGlvbiBvYmplY3RcclxuXHRcdFx0aWYodHlwZW9mIGFuaW1hdGlvbiAhPT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGNvbnRpbnVlIGFuaW1hdGlvbiBmcmFtZVxyXG5cdFx0XHR0aGlzLmZyYW1lVGljayArPSAoZGVsdGEgKiBhbmltYXRpb24uZnJhbWVzLmxlbmd0aCkgLyBhbmltYXRpb24udGltZTtcclxuXHRcdFx0aWYodGhpcy5mcmFtZVRpY2sgPj0gYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGgpIHtcclxuXHRcdFx0XHR0aGlzLmZyYW1lVGljayAtPSBhbmltYXRpb24uZnJhbWVzLmxlbmd0aDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBhbmltYXRpb24gZW5kIHNpZ25hbFxyXG5cdFx0XHRcdHRoaXMuZW1pdFNpZ25hbCgnYW5pbWF0aW9uRW5kJywgdGhpcy5hbmltYXRpb24pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIHNldCBuZXh0IGFuaW1hdGlvblxyXG5cdFx0XHRcdGlmKGFuaW1hdGlvbi5uZXh0KSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXkoYW5pbWF0aW9uLm5leHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZGV0ZXJtaW5lIGZyYW1lIGluZGV4XHJcblx0XHRcdHRoaXMuZnJhbWVJbmRleCA9IGFuaW1hdGlvbi5mcmFtZXNbTWF0aC5mbG9vcih0aGlzLmZyYW1lVGljayldO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEJhc2ljIGNhbWVyYSBmb3IgcmVuZGVyaW5nIGZyb20gY2VudGVyZWQgYXhpcy5cclxuXHQgKi9cclxuXHRCQlEuQ2FtZXJhID0gZnVuY3Rpb24ocmVuZGVyZXIpIHtcclxuXHRcdC8vIGluaGVyaXRlZCBjdG9yIGNhbGxcclxuXHRcdFBJWEkuQ29udGFpbmVyLmNhbGwodGhpcyk7XHJcblx0XHRcclxuXHRcdC8vIHJlbmRlcmVyIHNldHVwXHJcblx0XHR0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcblx0fTtcclxuXHRcclxuXHQvLyBleHRlbmRzIEJCUS5DZW50ZXJlZENvbnRhaW5lclxyXG5cdEJCUS5VdGlscy5leHRlbmRzKEJCUS5DYW1lcmEsIFBJWEkuQ29udGFpbmVyLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIFByZS1yZW5kZXIgdXBkYXRlIHRyYW5zZm9ybS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIF9jeCA9IHRoaXMucmVuZGVyZXIud2lkdGggLyAyLFxyXG5cdFx0XHRcdF9jeSA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC8gMjtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGNlbnRlciBjYW1lcmEgcG9zaXRpb25cclxuXHRcdFx0dGhpcy5wb3NpdGlvbi54ICs9IF9jeDtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi55ICs9IF9jeTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSB0cmFuc2Zvcm1zXHJcblx0XHRcdFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHJlLXBvc2l0aW9uIGNlbnRlcmVkIGNhbWVyYVxyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnggLT0gX2N4O1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnkgLT0gX2N5O1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFN0YXRlIGNhbWVyYSBtYW5pcHVsYXRpb24gY2xhc3MuXHJcblx0ICovXHJcblx0QkJRLkZvbGxvd0NhbWVyYSA9IGZ1bmN0aW9uKHJlbmRlcmVyLCB4LCB5KSB7XHJcblx0XHQvLyBpbmhlcml0ZWQgY3RvciBjYWxsXHJcblx0XHRCQlEuQ2FtZXJhLmNhbGwodGhpcywgcmVuZGVyZXIpO1xyXG5cdFx0XHJcblx0XHQvLyBzZXR1cCBwb3NpdGlvblxyXG5cdFx0dGhpcy5wb3NpdGlvbi54ID0geCB8fCAwO1xyXG5cdFx0dGhpcy5wb3NpdGlvbi55ID0geSB8fCAwO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBCQlEuQ2FtZXJhIGJ5IEJCUS5DYW1lcmEgY2xhc3NcclxuXHRCQlEuVXRpbHMuZXh0ZW5kcyhCQlEuRm9sbG93Q2FtZXJhLCBCQlEuQ2FtZXJhLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIENhbWVyYSBmb2xsb3dzIGdpdmVuIGFjdG9ycyBzZXQuXHJcblx0XHQgKi9cclxuXHRcdGZvbGxvd2VkOiBbXSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBZGQgYWN0b3IgdG8gZm9sbG93IHNldC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IGFjdG9yIEFjdG9yIHVuaXF1ZSBpbnN0YW5jZSB0byBhZGQuXHJcblx0XHQgKi9cclxuXHRcdGZvbGxvdzogZnVuY3Rpb24oYWN0b3IpIHtcclxuXHRcdFx0aWYodGhpcy5mb2xsb3dlZC5pbmRleE9mKGFjdG9yKSA9PT0gLTEpIHtcclxuXHRcdFx0XHR0aGlzLmZvbGxvd2VkLnB1c2goYWN0b3IpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJlbW92ZSBhY3RvciBmcm9tIGZvbGxvdyBzZXQuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvciBBY3RvciBpbnN0YW5jZSB0byByZW1vdmUuXHJcblx0XHQgKi9cclxuXHRcdHVuZm9sbG93OiBmdW5jdGlvbihhY3Rvcikge1xyXG5cdFx0XHR2YXIgaW5kZXggPSB0aGlzLmZvbGxvd2VkLmluZGV4T2YoYWN0b3IpO1xyXG5cdFx0XHRpZihpbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0XHR0aGlzLmZvbGxvd2VkLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIGNhbWVyYSBwb3NpdGlvbi5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyBmb2xsb3cgYWN0b3JzXHJcblx0XHRcdGlmKHRoaXMuZm9sbG93ZWQubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdC8vIGZvbGxvdyBjYW1lcmEgdG8gYWxsIHBsYXllcnMuXHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbi54ID0gdGhpcy5nZXRDZW50ZXIoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYWxjdWxhdGVzIGNlbnRlciBvZiB0aGUgZm9sbG93aW5nIG9iamVjdHMuXHJcblx0XHQgKi9cclxuXHRcdGdldENlbnRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGZvbGxvdyBhY3RvcnNcclxuXHRcdFx0aWYodGhpcy5mb2xsb3dlZC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Ly8gZ2V0IHBvc2l0aW9ucyBvZiBhbGwgYWN0b3JzXHJcblx0XHRcdFx0dmFyIF94ID0gMDtcclxuXHRcdFx0XHRmb3IodmFyIGkgaW4gdGhpcy5mb2xsb3dlZCkge1xyXG5cdFx0XHRcdFx0dmFyIGFjdG9yID0gdGhpcy5mb2xsb3dlZFtpXTtcclxuXHRcdFx0XHRcdF94IC09IGFjdG9yLnBvc2l0aW9uLng7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIGNhbGN1bGF0ZSBjZW50ZXJlZCBwb3NpdGlvbiBvZiBhY3RvcnNcclxuXHRcdFx0XHRyZXR1cm4gX3ggLyB0aGlzLmZvbGxvd2VkLmxlbmd0aDtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQWxsb3dzIG1ha2UgcGFyYWxsYXggYmFja2dyb3VuZHMuXHJcblx0ICovXHJcblx0QkJRLlBhcmFsbGF4QmFja2dyb3VuZCA9IGZ1bmN0aW9uKGNhbWVyYSkge1xyXG5cdFx0Ly8gaW5oZXJpdGVkIGN0b3IgY2FsbFxyXG5cdFx0UElYSS5Db250YWluZXIuY2FsbCh0aGlzKTtcclxuXHRcdFxyXG5cdFx0Ly8gc3RvcmUgYXNzaWduZWQgY2FtZXJhXHJcblx0XHR0aGlzLmNhbWVyYSA9IGNhbWVyYTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLlBhcmFsbGF4QmFja2dyb3VuZCBieSBQSVhJLkNvbnRhaW5lclxyXG5cdEJCUS5VdGlscy5leHRlbmRzKEJCUS5QYXJhbGxheEJhY2tncm91bmQsIFBJWEkuQ29udGFpbmVyLCB7XHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgbmV3IHBhcmFsbGF4IGJhY2tncm91bmQgbGF5ZXIuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7SW1hZ2V8U3RyaW5nfSBpbWFnZSBJbWFnZSBET00gaW5zdGFuY2Ugb3IgdGhlIGltYWdlIG5hbWUuXHJcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb21tb24gcGFyYWxsYXggYmFja2dyb3VuZCBvcHRpb25zLlxyXG5cdFx0ICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdH1cclxuXHRcdCAqL1xyXG5cdFx0YWRkQmFja2dyb3VuZDogZnVuY3Rpb24oaW1hZ2UsIG9wdGlvbnMpIHtcclxuXHRcdFx0b3B0aW9ucyA9IEJCUS5VdGlscy5hc3NpZ24oe1xyXG5cdFx0XHRcdGh0aWxlZDogdHJ1ZSxcclxuXHRcdFx0XHR2dGlsZWQ6IHRydWVcclxuXHRcdFx0fSwgb3B0aW9ucyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBmaW5kIGltYWdlIGJ5IG5hbWVcclxuXHRcdFx0aWYodHlwZW9mIGltYWdlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdGltYWdlID0gR2FtZS5hcHAuaW1hZ2VzW2ltYWdlXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlIGJnIGluc3RhbmNlXHJcblx0XHRcdHZhciBiZyA9IG5ldyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUoXHJcblx0XHRcdFx0R2FtZS5hcHAudGV4KGltYWdlKSxcclxuXHRcdFx0XHRvcHRpb25zLmh0aWxlZCA/IHRoaXMuY2FtZXJhLnJlbmRlcmVyLndpZHRoIDogaW1hZ2Uud2lkdGgsXHJcblx0XHRcdFx0b3B0aW9ucy52dGlsZWQgPyB0aGlzLmNhbWVyYS5yZW5kZXJlci5oZWlnaHQgOiBpbWFnZS5oZWlnaHRcclxuXHRcdFx0KTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHBhcmFsbGF4IGJhY2tncm91bmQgc2V0dGluZ3NcclxuXHRcdFx0YmcucGFyYWxsYXhTY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgbmV3IFBJWEkuUG9pbnQoMCwgMCk7XHJcblx0XHRcdGJnLnBhcmFsbGF4T2Zmc2V0ID0gb3B0aW9ucy5vZmZzZXQgfHwgbmV3IFBJWEkuUG9pbnQoMCwgMCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB0aWxpbmcgb3B0aW9uc1xyXG5cdFx0XHRiZy5odGlsZWQgPSBvcHRpb25zLmh0aWxlZDtcclxuXHRcdFx0YmcudnRpbGVkID0gb3B0aW9ucy52dGlsZWQ7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhcHBlbmQgYmFja2dyb3VuZCBhcyBwYXJhbGxheCBsYXllclxyXG5cdFx0XHRyZXR1cm4gdGhpcy5hZGRDaGlsZChiZyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHR1cGRhdGVUcmFuc2Zvcm06IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdHZhciBjYW1lcmEgPSB0aGlzLmNhbWVyYTtcclxuXHRcdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGJnKSB7XHJcblx0XHRcdFx0Ly8gaC10aWxlZFxyXG5cdFx0XHRcdGlmKGJnLmh0aWxlZCkge1xyXG5cdFx0XHRcdFx0Ly8gcmVzaXplIGJnXHJcblx0XHRcdFx0XHRiZy53aWR0aCA9IGNhbWVyYS5yZW5kZXJlci53aWR0aDtcclxuXHRcdFx0XHRcdC8vIGNlbnRlci11cCBwYXJhbGxheCBiYWNrZ3JvdW5kXHJcblx0XHRcdFx0XHRiZy50aWxlUG9zaXRpb24ueCA9IGJnLndpZHRoIC8gMiAtIGJnLnRleHR1cmUud2lkdGggLyAyO1xyXG5cdFx0XHRcdFx0Ly8gYXBwbHkgYmcgb2Zmc2V0c1xyXG5cdFx0XHRcdFx0YmcudGlsZVBvc2l0aW9uLnggKz0gYmcucGFyYWxsYXhPZmZzZXQueDtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IHBhcmFsbGF4IG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi54ICs9IGNhbWVyYS54ICogYmcucGFyYWxsYXhTY2FsZS54O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdC8vIHJlLXBvc2l0aW9uIGJhY2tncm91bmQgYnkgb2Zmc2V0XHJcblx0XHRcdFx0XHRiZy5wb3NpdGlvbi54ID0gYmcucGFyYWxsYXhPZmZzZXQueCAtIGNhbWVyYS5yZW5kZXJlci53aWR0aCAvIDI7XHJcblx0XHRcdFx0XHQvLyBhcHBseSBwYXJhbGxheCBvZmZzZXRzXHJcblx0XHRcdFx0XHRiZy5wb3NpdGlvbi54ICs9IGNhbWVyYS54ICogYmcucGFyYWxsYXhTY2FsZS54O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyB2LXRpbGVkXHJcblx0XHRcdFx0aWYoYmcudnRpbGVkKSB7XHJcblx0XHRcdFx0XHQvLyByZXNpemUgYmdcclxuXHRcdFx0XHRcdGJnLmhlaWdodCA9IGNhbWVyYS5yZW5kZXJlci5oZWlnaHQ7XHJcblx0XHRcdFx0XHQvLyBjZW50ZXItdXAgcGFyYWxsYXggYmFja2dyb3VuZFxyXG5cdFx0XHRcdFx0YmcudGlsZVBvc2l0aW9uLnkgPSBiZy5oZWlnaHQgLyAyIC0gYmcudGV4dHVyZS5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcdFx0Ly8gYXBwbHkgYmcgb2Zmc2V0c1xyXG5cdFx0XHRcdFx0YmcudGlsZVBvc2l0aW9uLnkgKz0gYmcucGFyYWxsYXhPZmZzZXQueTtcclxuXHRcdFx0XHRcdC8vIGFwcGx5IHBhcmFsbGF4IG9mZnNldHNcclxuXHRcdFx0XHRcdGJnLnRpbGVQb3NpdGlvbi55ICs9IGNhbWVyYS55ICogYmcucGFyYWxsYXhTY2FsZS55O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdC8vIHJlLXBvc2l0aW9uIGJhY2tncm91bmQgYnkgb2Zmc2V0XHJcblx0XHRcdFx0XHRiZy5wb3NpdGlvbi55ID0gYmcucGFyYWxsYXhPZmZzZXQueSArIGNhbWVyYS5yZW5kZXJlci5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcdFx0Ly8gYXBwbHkgcGFyYWxsYXggb2Zmc2V0c1xyXG5cdFx0XHRcdFx0YmcucG9zaXRpb24ueSArPSBjYW1lcmEueSAqIGJnLnBhcmFsbGF4U2NhbGUueTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY29tbW9uIHRyYW5zZm9ybSB1cGRhdGVcclxuXHRcdFx0UElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEdhbWUgc3RhdGUgbWFuaXB1bGF0aW5nIGNsYXNzLlxyXG5cdCAqL1xyXG5cdEJCUS5TdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gaW5oZXJpdGFuY2UgY3RvclxyXG5cdFx0UElYSS5Db250YWluZXIuY2FsbCh0aGlzKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8vIGV4dGVuZHMgQkJRLlN0YXRlIGJ5IFBJWEkuQ29udGFpbmVyIGNsYXNzXHJcblx0QkJRLlV0aWxzLmV4dGVuZHMoQkJRLlN0YXRlLCBQSVhJLkNvbnRhaW5lciwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21tb24gY3Rvci5cclxuXHRcdCAqL1xyXG5cdFx0Y29uc3RydWN0b3I6IEJCUS5TdGF0ZSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmVwYXJlcyBzdGF0ZSBzY2VuZSBiZWZvcmUgZmlyc3QgdXNlLlxyXG5cdFx0ICovXHJcblx0XHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBjYW1lcmEgaW5zdGFuY2VcclxuXHRcdFx0dGhpcy5jYW1lcmEgPSBuZXcgQkJRLkZvbGxvd0NhbWVyYSh0aGlzLmFwcC5yZW5kZXJlcik7XHJcblxyXG5cdFx0XHQvLyB0aGUgYmFja2dyb3VuZCBsYXllcnNcclxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kID0gbmV3IEJCUS5QYXJhbGxheEJhY2tncm91bmQodGhpcy5jYW1lcmEpO1xyXG5cclxuXHRcdFx0Ly8gY3JlYXRlIGNvbW1vbiBhY3RvcnMgbGF5ZXJcclxuXHRcdFx0dGhpcy5hY3RvcnMgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHRcdFx0dGhpcy5hY3RvcnMudG9EZWxldGUgPSBbXTsgLy8gZGVsZXRlIHJlbWFpbmluZyBsaXN0XHJcblx0XHRcdHRoaXMuY2FtZXJhLmFkZENoaWxkKHRoaXMuYWN0b3JzKTtcclxuXHJcblx0XHRcdC8vIHRoZSBmb3JlZ3JvdW5kIG9iamVjdHMgY29udGFpbmVyXHJcblx0XHRcdHRoaXMuZm9yZWdyb3VuZCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xyXG5cclxuXHRcdFx0Ly8gYWRkIGxheWVycyBieSByaWdodCBvcmRlclxyXG5cdFx0XHR0aGlzLmFkZENoaWxkKHRoaXMuYmFja2dyb3VuZCk7XHJcblx0XHRcdHRoaXMuYWRkQ2hpbGQodGhpcy5jYW1lcmEpO1xyXG5cdFx0XHR0aGlzLmFkZENoaWxkKHRoaXMuZm9yZWdyb3VuZCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgZnJhbWUgb2Ygc3RhZ2UgbGF5ZXJzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0Zsb2F0fSBkZWx0YSBTdGFnZSB1cGRhdGUgdGltZSB0byBhcHBseS5cclxuXHRcdCAqL1xyXG5cdFx0c3RlcDogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gcGVyZm9ybSBhY3RvcnMgZGVsZXRpbmdcclxuXHRcdFx0dGhpcy5hY3RvcnMudG9EZWxldGUuZm9yRWFjaChmdW5jdGlvbihhY3Rvcikge1xyXG5cdFx0XHRcdGlmKGFjdG9yKSB7XHJcblx0XHRcdFx0XHRhY3Rvci5lbWl0U2lnbmFsKCdkZXN0cm95Jyk7XHJcblx0XHRcdFx0XHR0aGlzLmFjdG9ycy5yZW1vdmVDaGlsZChhY3Rvcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHNvcnQgYWN0b3JzIGRlcHRoXHJcblx0XHRcdHRoaXMuYWN0b3JzLmNoaWxkcmVuLnNvcnQodGhpcy5zb3J0QWN0b3JzRnVuYyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBwZXJmb3JtIHVwZGF0ZSBhY3RvcnMgbGF5ZXJzXHJcblx0XHRcdHRoaXMucGVyZm9ybUxheWVyKHRoaXMuYWN0b3JzLCAndXBkYXRlJywgZGVsdGEsIHRoaXMuYXBwKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBjYW1lcmFcclxuXHRcdFx0dGhpcy5jYW1lcmEudXBkYXRlKGRlbHRhKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmVuZGVycyBzdGFnZSBvbnRvIHNjcmVlbi5cclxuXHRcdCAqL1xyXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gcmVuZGVycyBzdGFnZSBnYW1lcGxheVxyXG5cdFx0XHR0aGlzLmFwcC5yZW5kZXJlci5yZW5kZXIodGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1zIGFjdGlvbiBmb3Igc2luZ2xlIGxheWVyIGFjdG9ycy5cclxuXHRcdCAqIEFsbG93cyBvcHRpb25hbCBhcmd1bWVudHMgYXBwbHlpbmcgZm9yIGFjdGlvbiBjYWxsLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBsYXllciBBY3RvcnMgbGF5ZXIgY29udGFpbmVyLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5TdGFnZX0gQ2hhaW5pbmcgKnRoaXMqIGluc3RhbmNlLlxyXG5cdFx0ICovXHJcblx0XHRwZXJmb3JtTGF5ZXI6IGZ1bmN0aW9uKGxheWVyLCBhY3Rpb24pIHtcclxuXHRcdFx0dmFyIHNsaWNlZEFyZ3VtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XHJcblx0XHRcdGxheWVyLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oYWN0b3IpIHtcclxuXHRcdFx0XHR2YXIgYWN0b3JGdW5jID0gYWN0b3JbYWN0aW9uXTtcclxuXHRcdFx0XHRpZih0eXBlb2YgYWN0b3JGdW5jID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRhY3RvckZ1bmMuYXBwbHkoYWN0b3IsIHNsaWNlZEFyZ3VtZW50cyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEdlbmVyYWwgYWN0b3JzIHNvcnRpbmcgZnVuY3Rpb24uXHJcblx0XHQgKiBTb3J0cyBhY3RvcnMgZGVwdGggYnkgWSBwb3NpdGlvbiBwcm9wZXJ0eS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IGFjdG9yMSBMZWZ0IGFjdG9yLlxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IGFjdG9yMiBSaWdodCBhY3Rvci5cclxuXHRcdCAqIEByZXR1cm5zIHtOdW1iZXJ9IENvbXBhcnNpb24gcmVzdWx0LlxyXG5cdFx0ICovXHJcblx0XHRzb3J0QWN0b3JzRnVuYzogZnVuY3Rpb24oYWN0b3IxLCBhY3RvcjIpIHtcclxuXHRcdFx0aWYoYWN0b3IxLnBvc2l0aW9uLnkgPCBhY3RvcjIucG9zaXRpb24ueSkge1xyXG5cdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmKGFjdG9yMS5wb3NpdGlvbi55ID4gYWN0b3IyLnBvc2l0aW9uLnkpIHtcclxuXHRcdFx0XHRyZXR1cm4gMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSh3aW5kb3cuQkJRID0gd2luZG93LkJCUSB8fCB7fSwgUElYSSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2JicS9iYnEtc3RhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcclxuICogYWN0b3JzLmpzXHJcbiAqIFxyXG4gKiBHYW1lIGFsbCBhY3RvcnMuXHJcbiAqIFxyXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZS5cclxuICogRm9yIGxpY2Vuc2UgZGV0YWlscyBwbGVhc2UgY2hlY2sgdGhlIExJQ0VOU0UgZmlsZSBvZiB0aGUgcHJvamVjdC5cclxuICogXHJcbiAqIEBhdXRob3IgS29ucmFkIE5vd2Frb3dza2kgPGtvbnJhZC54OTJAZ21haWwuY29tPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBHYW1lIGFjdG9ycyBvYmplY3RzLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEdhbWUgQ29tbW9uIHB1YmxpYyBnYW1lIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oR2FtZSwgQkJRLCBQSVhJKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogR2FtZSBhY3RvcnMuXHJcblx0ICovXHJcblx0R2FtZS5BY3RvcnMgPSB7fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBGaXJzdCBzdGFnZSAtIEV2aWwgVG93bi5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycy5DaGFyYWN0ZXIgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oaW1hZ2UpIHtcclxuXHRcdC8vIGluaGVyaXRlZCBjdG9yXHJcblx0XHRCQlEuQW5pbWF0ZWRBY3Rvci5jYWxsKHRoaXMpO1xyXG5cdFx0XHJcblx0XHQvLyBmaW5kIGltYWdlIGJ5IG5hbWVcclxuXHRcdGlmKHR5cGVvZiBpbWFnZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0aW1hZ2UgPSBHYW1lLmFwcC5pbWFnZXNbaW1hZ2VdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBzZXR1cCBzaGFkb3cgdGV4dHVyZVxyXG5cdFx0dGhpcy50ZXh0dXJlID0gR2FtZS5hcHAudGV4KCdzaGFkb3cnKTtcclxuXHRcdHRoaXMuYW5jaG9yLnggPSB0aGlzLmFuY2hvci55ID0gMC41O1xyXG5cdFx0XHJcblx0XHQvLyBhZGQgYm9keSBjaGlsZFxyXG5cdFx0dGhpcy5ib2R5ID0gbmV3IFBJWEkuU3ByaXRlKEdhbWUuYXBwLnRleChpbWFnZSwgZmFsc2UpKTtcclxuXHRcdHRoaXMuYm9keS5hbmNob3IueCA9IDAuNTtcclxuXHRcdHRoaXMuYm9keS5hbmNob3IueSA9IDE7XHJcblx0XHQvL3RoaXMuYm9keS50ZXh0dXJlLnRyaW0ud2lkdGggPSB0aGlzLmZyYW1lU2l6ZS53aWR0aDtcclxuXHRcdC8vdGhpcy5ib2R5LnRleHR1cmUudHJpbS5oZWlnaHQgPSB0aGlzLmZyYW1lU2l6ZS5oZWlnaHQ7XHJcblx0XHQvL3RoaXMuYm9keS50ZXh0dXJlLnRyaW0gPSB0aGlzLmZyYW1lU2l6ZS5jbG9uZSgpO1xyXG5cdFx0Ly90aGlzLmJvZHkudGV4dHVyZS5jcm9wID0gdGhpcy5mcmFtZVNpemUuY2xvbmUoKTtcclxuXHRcdHRoaXMuYWRkQ2hpbGQodGhpcy5ib2R5KTtcclxuXHRcdFxyXG5cdFx0Ly8gY2FsY3VsYXRlIHRleHR1cmUgZnJhbWUgc2l6ZVxyXG5cdFx0dGhpcy5mcmFtZVNpemUgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTYsIDI4KTtcclxuXHRcdFxyXG5cdFx0Ly8gc3RhdGVzXHJcblx0XHR0aGlzLnN0YXRlID0ge1xyXG5cdFx0XHRtb3ZlbWVudDogbmV3IFBJWEkuUG9pbnQoKVxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0Ly8gbW92ZW1lbnQgdmVsb2NpdHlcclxuXHRcdHRoaXMudmVsb2NpdHkgPSBuZXcgUElYSS5Qb2ludCgpO1xyXG5cdFx0XHJcblx0XHQvLyBjb2xsaXNpb24gYm91bmRpbmcgYm94XHJcblx0XHR0aGlzLmJib3ggPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTYsIDgpO1xyXG5cdFx0dGhpcy5oaXRCYm94ID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDQsIDEwKTtcclxuXHRcdFxyXG5cdFx0Ly8gY2hhcmFjdGVyIGJhc2ljIHN0YXRlc1xyXG5cdFx0dGhpcy5oZWFsdGggPSAxMDA7XHJcblx0XHR0aGlzLnN0cmVuZ3RoID0ge1xyXG5cdFx0XHRwdW5jaDogMTAsXHJcblx0XHRcdGtpY2s6IDE1XHJcblx0XHR9O1xyXG5cdFx0dGhpcy5zcGVlZCA9IHtcclxuXHRcdFx0d2FsazogMzUsXHJcblx0XHRcdGp1bXA6IDUwLFxyXG5cdFx0XHRoaXQ6IC01MCxcclxuXHRcdFx0cHVuY2g6IDIwLFxyXG5cdFx0XHRraWNrOiAxMFxyXG5cdFx0fTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKEJCUS5BbmltYXRlZEFjdG9yKVxyXG5cdC5wcm9wZXJ0aWVzKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogRnJhbWUgc2l6ZSBhcyBQSVhJLlJlY3RhbmdsZVxyXG5cdFx0ICovXHJcblx0XHRmcmFtZVNpemU6IHtcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5ib2R5LnRleHR1cmUuY3JvcDtcclxuXHRcdFx0fSxcclxuXHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLnRyaW0gPSB2YWx1ZS5jbG9uZSgpO1xyXG5cdFx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLmNyb3AgPSB2YWx1ZS5jbG9uZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBbmltYXRpb25zIGZyYW1lcyB0byB1c2UuXHJcblx0XHQgKi9cclxuXHRcdGFuaW1hdGlvbnM6IHtcclxuXHRcdFx0aWRsZToge1xyXG5cdFx0XHRcdHRpbWU6IDEsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMF1cclxuXHRcdFx0fSxcclxuXHRcdFx0d2Fsazoge1xyXG5cdFx0XHRcdHRpbWU6IDAuNDIsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMCwgMSwgMCwgMl1cclxuXHRcdFx0fSxcclxuXHRcdFx0anVtcDoge1xyXG5cdFx0XHRcdHRpbWU6IC41LFxyXG5cdFx0XHRcdGZyYW1lczogWzMsIDRdLFxyXG5cdFx0XHRcdG5leHQ6ICdpZGxlJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRoaXQ6IHtcclxuXHRcdFx0XHR0aW1lOiAuMzUsXHJcblx0XHRcdFx0ZnJhbWVzOiBbNV0sXHJcblx0XHRcdFx0bmV4dDogJ2lkbGUnXHJcblx0XHRcdH0sXHJcblx0XHRcdHB1bmNoOiB7IC8vIGF0dGFjayBhbmltYXRpb25cclxuXHRcdFx0XHR0aW1lOiAuMyxcclxuXHRcdFx0XHRmcmFtZXM6IFs2LDcsOCw4LDhdLFxyXG5cdFx0XHRcdG5leHQ6ICdpZGxlJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRraWNrOiB7IC8vIGF0dGFjayBhbmltYXRpb25cclxuXHRcdFx0XHR0aW1lOiAuNCxcclxuXHRcdFx0XHRmcmFtZXM6IFs5LDEwLDExLDExLDExXSxcclxuXHRcdFx0XHRuZXh0OiAnaWRsZSdcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBVcGRhdGUgY2hhcmFjdGVyIHN0YXRlcy5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHQvLyBpbmhlcml0ZWQgc3VwZXIgbWV0aG9kIGNhbGxcclxuXHRcdFx0QkJRLkFuaW1hdGVkQWN0b3IucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsIGRlbHRhKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBhbmltYXRpb24gZnJhbWVcclxuXHRcdFx0dGhpcy51cGRhdGVBbmltRnJhbWUoKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGp1bXAvaGl0L2tpY2sgYW5pbWF0aW9uIGhlaWdodFxyXG5cdFx0XHRpZih0aGlzLmFuaW1hdGlvbiA9PT0gJ2p1bXAnKSB7XHJcblx0XHRcdFx0dGhpcy5ib2R5LnkgPSAtTWF0aC5zaW4oKHRoaXMuZnJhbWVUaWNrLzIpICogTWF0aC5QSSkgKiAxNjtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmKHRoaXMuYW5pbWF0aW9uID09PSAnaGl0Jykge1xyXG5cdFx0XHRcdHRoaXMuYm9keS55ID0gLU1hdGguc2luKCh0aGlzLmZyYW1lVGljaykgKiBNYXRoLlBJKSAqIDg7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZih0aGlzLmFuaW1hdGlvbiA9PT0gJ2tpY2snKSB7XHJcblx0XHRcdFx0dGhpcy5ib2R5LnkgPSAtTWF0aC5zaW4oKHRoaXMuZnJhbWVUaWNrLzUpICogTWF0aC5QSSkgKiA4O1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB1cGRhdGUgc3RhdGVcclxuXHRcdFx0aWYodHlwZW9mIHRoaXMudXBkYXRlU3RhdGUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR0aGlzLnVwZGF0ZVN0YXRlKGRlbHRhKTsgLy8gZXhlYyBvbmx5IGlmIGV4aXN0c1x0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBwaHlzaWNzXHJcblx0XHRcdHRoaXMudXBkYXRlUGh5c2ljcyhkZWx0YSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgYW5pbWF0aW9uIGZyYW1lIGJ5IHRleHR1cmUgY3JvcHBpbmcuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZUFuaW1GcmFtZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIGNyb3AgdGV4dHVyZSBieSBmcmFtZSBpbmRleFxyXG5cdFx0XHR0aGlzLmJvZHkudGV4dHVyZS5jcm9wLnggPSBNYXRoLmZsb29yKHRoaXMuZnJhbWVJbmRleCAlIDMpICogdGhpcy5mcmFtZVNpemUud2lkdGg7XHJcblx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLmNyb3AueSA9IE1hdGguZmxvb3IodGhpcy5mcmFtZUluZGV4IC8gMykgKiB0aGlzLmZyYW1lU2l6ZS5oZWlnaHQ7XHJcblx0XHRcdHRoaXMuYm9keS50ZXh0dXJlLl91cGRhdGVVdnMoKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlcyBjaGFyYWN0ZXIgcGh5c2ljLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVQaHlzaWNzOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHR0aGlzLnN0YXRlLndhbGtpbmcgPSB0aGlzLmFuaW1hdGlvbiA9PT0gJ2lkbGUnIHx8IHRoaXMuYW5pbWF0aW9uID09PSAnd2Fsayc7XHJcblx0XHRcdHRoaXMuc3RhdGUuanVtcGluZyA9IHRoaXMuYW5pbWF0aW9uID09PSAnanVtcCc7XHJcblx0XHRcdHRoaXMuc3RhdGUuaGl0dGVkID0gdGhpcy5hbmltYXRpb24gPT09ICdoaXQnO1xyXG5cdFx0XHR0aGlzLnN0YXRlLmF0dGFja2luZyA9IHRoaXMuYW5pbWF0aW9uID09PSAncHVuY2gnIHx8IHRoaXMuYW5pbWF0aW9uID09PSAna2ljayc7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBmcmVlIG1vdmVtZW50ICh1bmxvY2tlZClcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS53YWxraW5nKSB7XHJcblx0XHRcdFx0dGhpcy52ZWxvY2l0eSA9IHRoaXMuc3RhdGUubW92ZW1lbnQuY2xvbmUoKS5ub3JtYWxpemUoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBwbGF5IGFuaW1hdGlvblxyXG5cdFx0XHRcdGlmKHRoaXMudmVsb2NpdHkueCB8fCB0aGlzLnZlbG9jaXR5LnkpIHtcclxuXHRcdFx0XHRcdHRoaXMucGxheSgnd2FsaycpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMucGxheSgnaWRsZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gYXR0YWNraW5nIG9yIGhpdHRlZCBtb3ZlbWVudFxyXG5cdFx0XHRpZih0aGlzLnN0YXRlLmF0dGFja2luZyB8fCB0aGlzLnN0YXRlLmhpdHRlZCkge1xyXG5cdFx0XHRcdHRoaXMudmVsb2NpdHkuc2V0KHRoaXMuc2NhbGUueCwgMCkubm9ybWFsaXplKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGF0dGFja2luZyBjb2xsaXNpb24gaW5mb3JtZXJcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS5hdHRhY2tpbmcgJiYgdGhpcy5mcmFtZVRpY2sgPiAyKSB7XHJcblx0XHRcdFx0dmFyIGFjdG9yID0gdGhpcy5nZXRBY3RvckhpdENvbGxpc2lvbih0aGlzLnNjYWxlLngqMiwgMCk7XHJcblx0XHRcdFx0aWYoYWN0b3IgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRhY3Rvci5lbWl0U2lnbmFsKCdoaXQnLCB0aGlzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHVwZGF0ZSBwb3NpdGlvblxyXG5cdFx0XHR2YXIgc3BlZWQgPSB0aGlzLmdldEN1cnJlbnRTcGVlZCgpO1xyXG5cdFx0XHR0aGlzLnBvc2l0aW9uLnggKz0gdGhpcy52ZWxvY2l0eS54ICogc3BlZWQgKiBkZWx0YTtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi55ID0gTWF0aC5taW4oNzAsIE1hdGgubWF4KDAsXHJcblx0XHRcdFx0dGhpcy5wb3NpdGlvbi55ICsgdGhpcy52ZWxvY2l0eS55ICogc3BlZWQgKiBkZWx0YVxyXG5cdFx0XHQpKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB3b3JsZCBib3VuZGluZyBib3guXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0V29ybGRCQm94OiBmdW5jdGlvbih4LCB5KSB7XHJcblx0XHRcdHZhciBfY3ggPSB0aGlzLmJib3gud2lkdGggLyAyLFxyXG5cdFx0XHRcdF9jeSA9IHRoaXMuYmJveC5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIG5ldyBQSVhJLlJlY3RhbmdsZShcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnggLSBfY3ggKyB0aGlzLmJib3gueCArICh4IHx8IDApLFxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueSAtIF9jeSArIHRoaXMuYmJveC55ICsgKHkgfHwgMCksXHJcblx0XHRcdFx0dGhpcy5iYm94LndpZHRoLFxyXG5cdFx0XHRcdHRoaXMuYmJveC5oZWlnaHRcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB3b3JsZCBib3VuZGluZyBib3guXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX1cclxuXHRcdCAqL1xyXG5cdFx0Z2V0V29ybGRIaXRCQm94OiBmdW5jdGlvbih4LCB5KSB7XHJcblx0XHRcdHZhciBfY3ggPSB0aGlzLmhpdEJib3gud2lkdGggLyAyLFxyXG5cdFx0XHRcdF9jeSA9IHRoaXMuaGl0QmJveC5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIG5ldyBQSVhJLlJlY3RhbmdsZShcclxuXHRcdFx0XHR0aGlzLnBvc2l0aW9uLnggLSBfY3ggKyB0aGlzLmhpdEJib3gueCArICh4IHx8IDApLFxyXG5cdFx0XHRcdHRoaXMucG9zaXRpb24ueSAtIF9jeSArIHRoaXMuaGl0QmJveC55ICsgKHkgfHwgMCksXHJcblx0XHRcdFx0dGhpcy5oaXRCYm94LndpZHRoLFxyXG5cdFx0XHRcdHRoaXMuaGl0QmJveC5oZWlnaHRcclxuXHRcdFx0KTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyBjb2xsaXNpb24gd2l0aCBhY3Rvci5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHggU2hpZnQgYWFiYi54IGNvb3JkIGJ5IGdpdmVuIHZhbHVlLlxyXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgU2hpZnQgYWFiYi55IGNvb3JkIGJ5IGdpdmVuIHZhbHVlLlxyXG5cdFx0ICogQHJldHVybnMge0JCUS5BY3RvcnxCb29sZWFufSBDb2xsaWRlZCBhY3RvciBvciBGQUxTRS5cclxuXHRcdCAqL1xyXG5cdFx0Z2V0QWN0b3JIaXRDb2xsaXNpb246IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHRcdFx0dmFyIF9iYm94ID0gdGhpcy5nZXRXb3JsZEhpdEJCb3goeCwgeSksXHJcblx0XHRcdFx0YWN0b3JzID0gR2FtZS5hcHAuc3RhdGUuYWN0b3JzLmNoaWxkcmVuLFxyXG5cdFx0XHRcdGFjdG9yO1xyXG5cdFx0XHRcclxuXHRcdFx0Zm9yKHZhciBhaW5kIGluIGFjdG9ycykge1xyXG5cdFx0XHRcdGFjdG9yID0gYWN0b3JzW2FpbmRdO1xyXG5cdFx0XHRcdGlmKGFjdG9yID09PSB0aGlzKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYodHlwZW9mIGFjdG9yLmJib3ggIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRpZihhY3Rvci5nZXRXb3JsZEJCb3goKS5pbnRlcnNlY3RzKF9iYm94KSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYWN0b3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgY3VycmVudCBjaGFyYWN0ZXIgc3BlZWQgYnkgYWN0dWFsIGFuaW1hdGlvbi5cclxuXHRcdCAqIERpZmZlcmVudCBzcGVlZCBhcmUgZWFjaCBzdGF0ZXMgaS5lLiBncm91bmQvYWlyIHNwZWVkLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7TnVtYmVyfSBTcGVlZFxyXG5cdFx0ICovXHJcblx0XHRnZXRDdXJyZW50U3BlZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zcGVlZFt0aGlzLmFuaW1hdGlvbl0gfHwgMDtcclxuXHRcdH1cclxuXHR9KVxyXG5cdC5maW5hbCgpO1xyXG5cdFxyXG5cdC8vIFByZWxvYWQgYXNzZXRzXHJcblx0R2FtZS5BY3RvcnMuQ2hhcmFjdGVyLnByZWxvYWQgPSBmdW5jdGlvbihhcHApIHtcclxuXHRcdGFwcC5sb2FkSW1hZ2VzKCdzaGFkb3cnKTtcclxuXHR9O1xyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFBsYXllciBhY3Rvci5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycy5QbGF5ZXIgPSBCQlEuQ2xhc3MoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBpbmhlcml0ZSBjdG9yIGNhbGxcclxuXHRcdEdhbWUuQWN0b3JzLkNoYXJhY3Rlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHJcblx0XHQvLyBpbnB1dCBldmVudHMgaG9sZGVyXHJcblx0XHR0aGlzLmlucHV0ID0ge307XHJcblx0XHRcclxuXHRcdC8vIGlucHV0IGtleW1hcHBpbmdcclxuXHRcdHRoaXMua2V5bWFwID0ge1xyXG5cdFx0XHRyaWdodDogJ3JpZ2h0JyxcclxuXHRcdFx0bGVmdDogJ2xlZnQnLFxyXG5cdFx0XHR1cDogJ3VwJyxcclxuXHRcdFx0ZG93bjogJ2Rvd24nLFxyXG5cdFx0XHRcclxuXHRcdFx0cHVuY2g6ICdwJyxcclxuXHRcdFx0a2ljazogJ28nLFxyXG5cdFx0XHRqdW1wOiAnbCdcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdC8vIGJpbmQgZXZlbnRzIHNpZ25hbHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgna2V5ZG93bicsIHRoaXMub25LZXlFdmVudCk7XHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2tleXVwJywgdGhpcy5vbktleUV2ZW50KTtcclxuXHRcdFxyXG5cdFx0Ly8gYmluZHMgY29tbW9uIHNpZ25hbHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgnaGl0JywgdGhpcy5vbkhpdCk7XHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2Rlc3Ryb3knLCB0aGlzLm9uRGVzdHJveSk7XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhHYW1lLkFjdG9ycy5DaGFyYWN0ZXIpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIHBsYXllciBtb3ZlbWVudCBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlU3RhdGU6IGZ1bmN0aW9uIChkZWx0YSkge1xyXG5cdFx0XHQvLyBjbGVhciBtb3ZlbWVudCBzdGF0ZVxyXG5cdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnNldCgpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gaGFuZGxlIG9uLWdyb3VuZCBzdGF0ZVxyXG5cdFx0XHRpZih0aGlzLnN0YXRlLndhbGtpbmcpIHtcclxuXHRcdFx0XHQvLyBoYW5kbGUgYXR0YWNraW5nIGlucHV0c1xyXG5cdFx0XHRcdGlmKHRoaXMuaW5wdXQuYXR0YWNrKSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXkodGhpcy5pbnB1dC5hdHRhY2spO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBoYW5kbGUganVtcGluZyBpbnB1dFxyXG5cdFx0XHRcdGVsc2UgaWYodGhpcy5pbnB1dC5qdW1wKSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXkoJ2p1bXAnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBoYW5kbGUgaW5wdXRzIGZvciBob3Jpem9udGFsIG1vdmVtZW50XHJcblx0XHRcdFx0XHRpZih0aGlzLmlucHV0LnJpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueCA9IDE7XHJcblx0XHRcdFx0XHRcdHRoaXMuc2NhbGUueCA9IDE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIGlmKHRoaXMuaW5wdXQubGVmdCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnggPSAtMTtcclxuXHRcdFx0XHRcdFx0dGhpcy5zY2FsZS54ID0gLTE7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gaGFuZGxlIGlucHV0cyBmb3IgdmVydGljYWwgbW92ZW1lbnRcclxuXHRcdFx0XHRcdGlmKHRoaXMuaW5wdXQuZG93bikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnkgPSAxO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSBpZih0aGlzLmlucHV0LnVwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUubW92ZW1lbnQueSA9IC0xO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY2xlYXIgc3RhdGVzXHJcblx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuaW5wdXQuanVtcCA9IGZhbHNlO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBPdmVycmlkZXMgYnkgYXBwbHlpbmcgc2NlbmUgYm91bmRpbmdzLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVQaHlzaWNzOiBmdW5jdGlvbihkZWx0YSkge1xyXG5cdFx0XHRHYW1lLkFjdG9ycy5DaGFyYWN0ZXIucHJvdG90eXBlLnVwZGF0ZVBoeXNpY3MuY2FsbCh0aGlzLCBkZWx0YSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBtYWtlIHNjZW5lIGJvdW5kc1xyXG5cdFx0XHQvL3RoaXMucG9zaXRpb24ueCA9IE1hdGgubWF4KC0yNTAsIE1hdGgubWluKDI1MCwgdGhpcy5wb3NpdGlvbi54KSk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBrZXlib2FyZCBldmVudC5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHt0eXBlfSBlXHJcblx0XHQgKiBAcGFyYW0ge3R5cGV9IGRvd25cclxuXHRcdCAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcblx0XHQgKi9cclxuXHRcdG9uS2V5RXZlbnQ6IGZ1bmN0aW9uKGtleSwgZG93bikge1xyXG5cdFx0XHQvLyBtb3ZlbWVudCBrZXlzXHJcblx0XHRcdGlmIChrZXkgPT09IHRoaXMua2V5bWFwLnJpZ2h0KSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5yaWdodCA9IGRvd247XHJcblx0XHRcdH0gZWxzZSBpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5sZWZ0KSB7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5sZWZ0ID0gZG93bjtcclxuXHRcdFx0fSBlbHNlIGlmIChrZXkgPT09IHRoaXMua2V5bWFwLmRvd24pIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmRvd24gPSBkb3duO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGtleSA9PT0gdGhpcy5rZXltYXAudXApIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnVwID0gZG93bjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGtleSA9PT0gdGhpcy5rZXltYXAucHVuY2ggJiYgZG93bikge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gJ3B1bmNoJztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIGlmIChrZXkgPT09IHRoaXMua2V5bWFwLmtpY2sgJiYgZG93bikge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuYXR0YWNrID0gJ2tpY2snO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoa2V5ID09PSB0aGlzLmtleW1hcC5qdW1wICYmIGRvd24pIHtcclxuXHRcdFx0XHR0aGlzLmlucHV0Lmp1bXAgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBhbiBoaXQgc2lnbmFsLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gb3RoZXJcclxuXHRcdCAqL1xyXG5cdFx0b25IaXQ6IGZ1bmN0aW9uKG90aGVyKSB7XHJcblx0XHRcdGlmKCEgdGhpcy5zdGF0ZS5oaXR0ZWQgJiYgISB0aGlzLnN0YXRlLmp1bXBpbmcpIHtcclxuXHRcdFx0XHR0aGlzLnNjYWxlLnggPSAtb3RoZXIuc2NhbGUueDtcclxuXHRcdFx0XHR0aGlzLmhlYWx0aCAtPSBvdGhlci5zdHJlbmd0aFtvdGhlci5hbmltYXRpb25dIHx8IDEwO1xyXG5cdFx0XHRcdHRoaXMucGxheSgnaGl0Jyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYodGhpcy5oZWFsdGggPCAwKSB7XHJcblx0XHRcdFx0XHRHYW1lLmFwcC5zdGF0ZS5wbGF5ZXJLaWxsZWQodGhpcyk7XHJcblx0XHRcdFx0XHR0aGlzLmRlc3Ryb3koKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogT24tZGVzdHJveSBldmVudCBoYW5kbGVyLlxyXG5cdFx0ICovXHJcblx0XHRvbkRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRHYW1lLmFwcC5zdGF0ZS5jYW1lcmEudW5mb2xsb3codGhpcyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0Ly8gUHJlbG9hZCBhc3NldHNcclxuXHRHYW1lLkFjdG9ycy5QbGF5ZXIucHJlbG9hZCA9IGZ1bmN0aW9uKGFwcCkge1xyXG5cdFx0YXBwLmxvYWRJbWFnZXMoJ2ZhdGd1eScsICdpbmRpY2F0b3InKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFBsYXllciB3aXRoIHRvdWNoLXNjcmVlbiB1c2VhYmlsaXR5LlxyXG5cdCAqL1xyXG5cdEdhbWUuQWN0b3JzLlBsYXllclRvdWNoU2NyZWVuID0gQkJRLkNsYXNzKGZ1bmN0aW9uKCkge1xyXG5cdFx0R2FtZS5BY3RvcnMuUGxheWVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcclxuXHRcdC8vIHRvdWNoIGV2ZW50IGhvbGRlclxyXG5cdFx0dGhpcy50b3VjaCA9IHt9O1xyXG5cdFx0XHJcblx0XHQvLyBiaW5kIHRvdWNoLXNjcmVlbiBldmVudHNcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcclxuXHRcdHRoaXMuYmluZFNpZ25hbCgndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSk7XHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kKTtcclxuXHRcdFxyXG5cdFx0Ly8gYmluZCBjb21tb24gZXZlbnRzXHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2Rlc3Ryb3knLCB0aGlzLmRlc3Ryb3lJbmRpY2F0b3IpO1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoR2FtZS5BY3RvcnMuUGxheWVyKVxyXG5cdC5zY29wZSh7XHJcblx0XHQvKipcclxuXHRcdCAqIE9uLXRvdWNoIGluZm9ybWF0aW9ucyBoYW5kbGVyLlxyXG5cdFx0ICogU2ltdWxhdGVzIGNvbW1vbiBpbnB1dCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdG9uVG91Y2hTdGFydDogZnVuY3Rpb24oaWQsIHgsIHkpIHtcclxuXHRcdFx0dmFyIF9zY3JodyA9IEdhbWUuYXBwLnJlbmRlcmVyLndpZHRoIC8gMixcclxuXHRcdFx0XHRfc2NyaGggPSBHYW1lLmFwcC5yZW5kZXJlci5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gbW92ZW1lbnRcclxuXHRcdFx0aWYoeCA8IF9zY3Jodykge1xyXG5cdFx0XHRcdGlmKCF0aGlzLnRvdWNoLm1vdmUpIHtcclxuXHRcdFx0XHRcdHRoaXMudG91Y2gubW92ZSA9IHtcclxuXHRcdFx0XHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRcdFx0XHR4OiB4LFxyXG5cdFx0XHRcdFx0XHR5OiB5XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGluZGljYXRvclxyXG5cdFx0XHRcdFx0dGhpcy5pbmRpY2F0b3IgPSBuZXcgUElYSS5TcHJpdGUoR2FtZS5hcHAudGV4KCdpbmRpY2F0b3InKSk7XHJcblx0XHRcdFx0XHR0aGlzLmluZGljYXRvci5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDAuNSk7XHJcblx0XHRcdFx0XHR0aGlzLmluZGljYXRvci5wb3NpdGlvbi54ID0geDtcclxuXHRcdFx0XHRcdHRoaXMuaW5kaWNhdG9yLnBvc2l0aW9uLnkgPSB5O1xyXG5cclxuXHRcdFx0XHRcdEdhbWUuYXBwLnN0YXRlLmZvcmVncm91bmQuYWRkQ2hpbGQodGhpcy5pbmRpY2F0b3IpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBqdW1wICYgYXR0YWNrXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGlmKHkgPCBfc2NyaGgpIHtcclxuXHRcdFx0XHRcdHRoaXMuaW5wdXQuanVtcCA9IHRydWU7XHRcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmKHggPCBfc2NyaHcgKyBfc2NyaHcgLyAyKSB7XHJcblx0XHRcdFx0XHR0aGlzLmlucHV0LmF0dGFjayA9ICdraWNrJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR0aGlzLmlucHV0LmF0dGFjayA9ICdwdW5jaCc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE9uLXRvdWNoIGluZm9ybWF0aW9ucyBoYW5kbGVyLlxyXG5cdFx0ICogU2ltdWxhdGVzIGNvbW1vbiBpbnB1dCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdG9uVG91Y2hNb3ZlOiBmdW5jdGlvbihpZCwgeCwgeSkge1xyXG5cdFx0XHRpZih0aGlzLnRvdWNoLm1vdmUgJiYgdGhpcy50b3VjaC5tb3ZlLmlkID09PSBpZCkge1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQucmlnaHQgPSB4IC0gdGhpcy50b3VjaC5tb3ZlLnggPiAxMDtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmxlZnQgID0geCAtIHRoaXMudG91Y2gubW92ZS54IDwgLTEwO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQuZG93biAgPSB5IC0gdGhpcy50b3VjaC5tb3ZlLnkgPiAxMDtcclxuXHRcdFx0XHR0aGlzLmlucHV0LnVwICAgID0geSAtIHRoaXMudG91Y2gubW92ZS55IDwgLTEwO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIE9uLXRvdWNoIGluZm9ybWF0aW9ucyBoYW5kbGVyLlxyXG5cdFx0ICogU2ltdWxhdGVzIGNvbW1vbiBpbnB1dCBldmVudHMuXHJcblx0XHQgKi9cclxuXHRcdG9uVG91Y2hFbmQ6IGZ1bmN0aW9uKGlkLCB4LCB5KSB7XHJcblx0XHRcdGlmKHRoaXMudG91Y2gubW92ZSAmJiB0aGlzLnRvdWNoLm1vdmUuaWQgPT09IGlkKSB7XHJcblx0XHRcdFx0dGhpcy50b3VjaC5tb3ZlID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC5yaWdodCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuaW5wdXQubGVmdCAgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLmlucHV0LmRvd24gID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5pbnB1dC51cCAgICA9IGZhbHNlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIHJlbW92ZSBpbmRpY2F0b3JcclxuXHRcdFx0XHR0aGlzLmRlc3Ryb3lJbmRpY2F0b3IoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW1vdmVzIGluZGljYXRvciBpZiBleGlzdHMuXHJcblx0XHQgKi9cclxuXHRcdGRlc3Ryb3lJbmRpY2F0b3I6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZih0aGlzLmluZGljYXRvcikge1xyXG5cdFx0XHRcdEdhbWUuYXBwLnN0YXRlLmZvcmVncm91bmQucmVtb3ZlQ2hpbGQodGhpcy5pbmRpY2F0b3IpO1xyXG5cdFx0XHRcdHRoaXMuaW5kaWNhdG9yID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHRcclxuXHQvKipcclxuXHQgKiBFbmVteSBhY3Rvci5cclxuXHQgKi9cclxuXHRHYW1lLkFjdG9ycy5FbmVteSA9IEJCUS5DbGFzcyhmdW5jdGlvbigpIHtcclxuXHRcdC8vIGluaGVyaXRlIGN0b3IgY2FsbFxyXG5cdFx0R2FtZS5BY3RvcnMuQ2hhcmFjdGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcclxuXHRcdC8vIGJpbmQgYWRkaXRpb25hbCBzaWduYWxzXHJcblx0XHR0aGlzLmJpbmRTaWduYWwoJ2hpdCcsIHRoaXMub25IaXQpO1xyXG5cdFx0XHJcblx0XHQvLyBmb2xsb3dpbmcgcGxheWVyIG9iamVjdFxyXG5cdFx0dGhpcy5mb2xsb3cgPSBmYWxzZTtcclxuXHRcdHRoaXMudGljayA9IDA7XHJcblx0XHRcclxuXHRcdC8vIGVuZW15IGJhc2ljIHN0YXRlc1xyXG5cdFx0dGhpcy5oZWFsdGggPSA1MDtcclxuXHRcdHRoaXMuc3BlZWQgPSB7XHJcblx0XHRcdHdhbGs6IDI1LFxyXG5cdFx0XHRqdW1wOiA0MCxcclxuXHRcdFx0aGl0OiAtNTAsXHJcblx0XHRcdHB1bmNoOiAyMCxcclxuXHRcdFx0a2ljazogMTBcclxuXHRcdH07XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhHYW1lLkFjdG9ycy5DaGFyYWN0ZXIpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogVXBkYXRlIGVuZW15IG1vdmVtZW50IHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHR1cGRhdGVTdGF0ZTogZnVuY3Rpb24gKGRlbHRhKSB7XHJcblx0XHRcdGlmKHRoaXMuc3RhdGUud2Fsa2luZykge1xyXG5cdFx0XHRcdC8vIGZpbmQgbmVhcmVzdCBwbGF5ZXJcclxuXHRcdFx0XHR2YXIgcGxheWVyID0gdGhpcy5maW5kTmVhcmVzdFBsYXllcigpO1xyXG5cclxuXHRcdFx0XHQvLyBwbGF5ZXIgZm91bmRcclxuXHRcdFx0XHRpZihwbGF5ZXIgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHQvLyBjbGVhciBtb3ZlbWVudCBzdGF0ZVxyXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC5zZXQoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gbW92ZW1lbnRcclxuXHRcdFx0XHRcdGlmKHRoaXMuZGlzdGFuY2VUbyhwbGF5ZXIpID4gMTApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tb3ZlVG8ocGxheWVyKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2UgaWYodGhpcy50aWNrLS0gPD0gMCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsYXkoTWF0aC5yYW5kb20oKSA8IDAuNzUgPyAncHVuY2gnIDogJ2tpY2snKTtcclxuXHRcdFx0XHRcdFx0dGhpcy50aWNrID0gNSArIDEwICogTWF0aC5yYW5kb20oKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBmYWNlIGRpcmVjdGlvblxyXG5cdFx0XHRcdFx0dGhpcy5zY2FsZS54ID0gdGhpcy5wb3NpdGlvbi54ID4gcGxheWVyLnBvc2l0aW9uLnggPyAtMSA6IDE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgbmVhcmVzdCBwbGF5ZXIuXHJcblx0XHQgKiBcclxuXHRcdCAqIEByZXR1cm5zIHtCQlEuQWN0b3J8Qm9vbGVhbn0gTmVhcmVzdCBwbGF5ZXIgb3IgRkFMU0UuXHJcblx0XHQgKi9cclxuXHRcdGZpbmROZWFyZXN0UGxheWVyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHBsYXllcnMgPSBHYW1lLmFwcC5zdGF0ZS5wbGF5ZXJzLFxyXG5cdFx0XHRcdGN1cnJlbnREaXN0YW5jZSA9IDEwMDAwO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcmVzZXQgZm9sbG93aW5nIHN0YXRlXHJcblx0XHRcdC8vdGhpcy5mb2xsb3cgPSBmYWxzZTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIGZpbmQgbmVhcmVzdCBwbGF5ZXJcclxuXHRcdFx0Zm9yKHZhciBwaW5kIGluIHBsYXllcnMpIHtcclxuXHRcdFx0XHR2YXIgcGxheWVyID0gcGxheWVyc1twaW5kXSxcclxuXHRcdFx0XHRcdHBsYXllckRpc3RhbmNlID0gdGhpcy5kaXN0YW5jZVRvKHBsYXllcik7XHJcblx0XHRcdFx0Ly9pZihwbGF5ZXJEaXN0YW5jZSA8IDYwKSB7IC8vIG1pbiA2MCBwaXhlbHNcclxuXHRcdFx0XHRcdGlmKHRoaXMuZm9sbG93ID09PSBmYWxzZSB8fCBwbGF5ZXJEaXN0YW5jZSA8IGN1cnJlbnREaXN0YW5jZSkge1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50RGlzdGFuY2UgPSBwbGF5ZXJEaXN0YW5jZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5mb2xsb3cgPSBwbGF5ZXI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0Ly99XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIHBsYXllciB3ZXJlIGtpbGxlZFxyXG5cdFx0XHRpZih0aGlzLmZvbGxvdyAmJiB0aGlzLmZvbGxvdy5raWxsZWQpIHtcclxuXHRcdFx0XHR0aGlzLmZvbGxvdyA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5mb2xsb3c7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIENhbGN1bGF0ZXMgZGlzdGFuY2UgdG8gZ2l2ZW4gYWN0b3IuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7QkJRLkFjdG9yfSBhY3RvciBPdGhlciBhY3Rvci5cclxuXHRcdCAqIEByZXR1cm5zIHtOdW1iZXJ9IERpc3RhbmNlIGJldHdlZW4gYWN0b3JzLlxyXG5cdFx0ICovXHJcblx0XHRkaXN0YW5jZVRvOiBmdW5jdGlvbihhY3Rvcikge1xyXG5cdFx0XHR2YXIgeCA9IGFjdG9yLnBvc2l0aW9uLnggLSB0aGlzLnBvc2l0aW9uLngsXHJcblx0XHRcdFx0eSA9IGFjdG9yLnBvc2l0aW9uLnkgLSB0aGlzLnBvc2l0aW9uLnk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBhbGdvcnl0bSBweXRhZ29sYXNhIHNxcnQoeF4yICsgeV4yKVxyXG5cdFx0XHRyZXR1cm4gTWF0aC5zcXJ0KFxyXG5cdFx0XHRcdHgqeCArIHkqeVxyXG5cdFx0XHQpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlcyBlbmVteSB0b3dhcmRzIGdpdmVuIGFjdG9yLlxyXG5cdFx0ICogQ2hhbmdlcyBvbmx5IHZlbG9jaXR5IHZlY3RvciwgZG9lcyBub3Qgd29yayBpbW1lZGlhdGVseS5cclxuXHRcdCAqIFxyXG5cdFx0ICogQHBhcmFtIHtCQlEuQWN0b3J9IGFjdG9yIFRhcmdldCBhY3Rvci5cclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBzcGVlZCBNb3ZlbWVudCBzcGVlZC5cclxuXHRcdCAqL1xyXG5cdFx0bW92ZVRvOiBmdW5jdGlvbihhY3Rvciwgc3BlZWQpIHtcclxuXHRcdFx0dmFyIGRpc3RhbmNlID0gdGhpcy5kaXN0YW5jZVRvKGFjdG9yKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vIG5vcm1hbGl6dWogd2VrdG9yIGlhIHBvcnVzeiAnZG8nXHJcblx0XHRcdC8vIChtbm96YWMgcHJ6ZXogd2VrdG9yIG5vcm1hbG5laiBhY3Rvci5wb3MgLSB0aGlzLnBvcylcclxuXHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC54ID0gKGFjdG9yLnBvc2l0aW9uLnggLSB0aGlzLnBvc2l0aW9uLngpL2Rpc3RhbmNlO1xyXG5cdFx0XHR0aGlzLnN0YXRlLm1vdmVtZW50LnkgPSAoYWN0b3IucG9zaXRpb24ueSAtIHRoaXMucG9zaXRpb24ueSkvZGlzdGFuY2U7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBhbiBoaXQgc2lnbmFsLlxyXG5cdFx0ICogXHJcblx0XHQgKiBAcGFyYW0ge0JCUS5BY3Rvcn0gb3RoZXJcclxuXHRcdCAqL1xyXG5cdFx0b25IaXQ6IGZ1bmN0aW9uKG90aGVyKSB7XHJcblx0XHRcdGlmKCEgdGhpcy5zdGF0ZS5oaXR0ZWQpIHtcclxuXHRcdFx0XHR0aGlzLnNjYWxlLnggPSAtb3RoZXIuc2NhbGUueDtcclxuXHRcdFx0XHR0aGlzLmhlYWx0aCAtPSBvdGhlci5zdHJlbmd0aFtvdGhlci5hbmltYXRpb25dIHx8IDEwO1xyXG5cdFx0XHRcdHRoaXMucGxheSgnaGl0Jyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYodGhpcy5oZWFsdGggPD0gMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5kZXN0cm95KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0Ly8gUHJlbG9hZCBhc3NldHNcclxuXHRHYW1lLkFjdG9ycy5FbmVteS5wcmVsb2FkID0gZnVuY3Rpb24oYXBwKSB7XHJcblx0XHRhcHAubG9hZEltYWdlcygnZW5lbXlndXknKTtcclxuXHR9O1xyXG59KSh3aW5kb3cuR2FtZSA9IHdpbmRvdy5HYW1lIHx8IHt9LCBCQlEsIFBJWEkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9nYW1lL2FjdG9ycy5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxyXG4gKiBjcmVhdHVyZXMuanNcclxuICogXHJcbiAqIENyZWF0dXJlcy4gQW5pbWFsc1xyXG4gKiBcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2UuXHJcbiAqIEZvciBsaWNlbnNlIGRldGFpbHMgcGxlYXNlIGNoZWNrIHRoZSBMSUNFTlNFIGZpbGUgb2YgdGhlIHByb2plY3QuXHJcbiAqIFxyXG4gKiBAYXV0aG9yIERhbmllbCBcIlN6QVBLT1wiIER1ZHppa293c2tpIDxkYW5pZWwuc3phcGtvQGdtYWlsLmNvbT5cclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXR1cmVzIGFuZCBhbmltYWxzIG9iamVjdHMuXHJcbiAqIFxyXG4gKiBAcGFyYW0ge09iamVjdH0gR2FtZSBDb21tb24gcHVibGljIGdhbWUgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gQkJRIEVuZ2luZSBwdWJsaWMgbmFtZXNwYWNlLlxyXG4gKiBAcGFyYW0ge1BJWEl9IFBpeGkgUElYSSByZW5kZXJpbmcgZW5naW5lIG5hbWVzcGFjZS5cclxuICovXHJcblxyXG4oZnVuY3Rpb24oR2FtZSwgQkJRLCBQSVhJKSB7XHJcblxyXG5cdEdhbWUuQWN0b3JzLkNhdCA9IEJCUS5DbGFzcyhmdW5jdGlvbigpe1xyXG5cdCAgICBHYW1lLkFjdG9ycy5FbmVteS5jYWxsKHRoaXMsIFwiY2F0XCIpOyAvLyBvYnJhemVrIGNhdC5wbmdcclxuXHQgICAgXHJcblx0ICAgIHRoaXMuZnJhbWVTaXplID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDE2LCAxNik7XHJcblx0ICAgIFxyXG5cdCAgICAvLyBmb2xsb3dpbmcgcGxheWVyIG9iamVjdFxyXG5cdFx0dGhpcy5mb2xsb3cgPSBmYWxzZTtcclxuXHRcdHRoaXMudGljayA9IDA7XHJcblx0ICAgIFxyXG5cdFx0Ly8gY2hhcmFjdGVyIGJhc2ljIHN0YXRlc1xyXG5cdFx0dGhpcy5oZWFsdGggPSAxMDAwO1xyXG5cdFx0dGhpcy5zdHJlbmd0aCA9IHtcclxuXHRcdFx0cHVuY2g6IDEwLFxyXG5cdFx0XHRraWNrOiAxNVxyXG5cdFx0fTtcclxuXHRcdHRoaXMuc3BlZWQgPSB7XHJcblx0XHRcdHdhbGs6IDM1LFxyXG5cdFx0XHRqdW1wOiA1MCxcclxuXHRcdFx0aGl0OiAtNTAsXHJcblx0XHRcdHB1bmNoOiAyMCxcclxuXHRcdFx0a2ljazogMTBcclxuXHRcdH07XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhHYW1lLkFjdG9ycy5FbmVteSlcclxuXHQucHJvcGVydGllcyh7XHJcblx0fSlcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBBbmltYXRpb25zIGZyYW1lcyB0byB1c2UuXHJcblx0XHQgKi9cclxuXHRcdGFuaW1hdGlvbnM6IHtcclxuXHRcdFx0aWRsZToge1xyXG5cdFx0XHRcdHRpbWU6IDAuNSxcclxuXHRcdFx0XHRmcmFtZXM6IFszLCA0LCA1XVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR3YWxrOiB7XHJcblx0XHRcdFx0dGltZTogMC41LFxyXG5cdFx0XHRcdGZyYW1lczogWzAsIDEsIDAsIDJdXHJcblx0XHRcdH0sXHJcblx0XHRcdGhpdDoge1xyXG5cdFx0XHRcdHRpbWU6IDIsXHJcblx0XHRcdFx0ZnJhbWVzOiBbMCwgMSwgMiwgMywgNCwgNV0sXHJcblx0XHRcdFx0bmV4dDogJ2lkbGUnXHJcblx0XHRcdH0vLyxcclxuXHRcdFx0Ly9hdHRhY2s6IHtcclxuXHRcdFx0Ly9cdHRpbWU6IDAuNyxcclxuXHRcdFx0Ly9cdGZyYW1lczogWzAsIDEsIDAsIDJdXHJcblx0XHRcdC8vfSxcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHVwZGF0ZVN0YXRlOiBmdW5jdGlvbiAoZGVsdGEpIHtcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS53YWxraW5nKSB7XHJcblxyXG5cdFx0XHRcdC8vIGZpbmQgbmVhcmVzdCBwbGF5ZXJcclxuXHRcdFx0XHR2YXIgcGxheWVyID0gdGhpcy5maW5kTmVhcmVzdFBsYXllcigpO1xyXG5cclxuXHRcdFx0XHQvLyBwbGF5ZXIgZm91bmRcclxuXHRcdFx0XHRpZihwbGF5ZXIgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHQvLyBjbGVhciBtb3ZlbWVudCBzdGF0ZVxyXG5cdFx0XHRcdFx0dGhpcy5zdGF0ZS5tb3ZlbWVudC5zZXQoKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Ly8gbW92ZW1lbnRcclxuXHRcdFx0XHRcdGlmKHRoaXMuZGlzdGFuY2VUbyhwbGF5ZXIpID4gMjApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5tb3ZlVG8ocGxheWVyKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZih0aGlzLnRpY2stLSA8PSAwKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuYW5pbWF0aW9uID0gJ2lkbGUnO1xyXG5cdFx0XHRcdFx0XHQvL3RoaXMudGljayA9IDUgKyAxMCAqIE1hdGgucmFuZG9tKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gZmFjZSBkaXJlY3Rpb25cclxuXHRcdFx0XHRcdHRoaXMuc2NhbGUueCA9IHRoaXMucG9zaXRpb24ueCA+IHBsYXllci5wb3NpdGlvbi54ID8gLTEgOiAxO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRHYW1lLkFjdG9ycy5DYXQucHJlbG9hZCA9IGZ1bmN0aW9uKGFwcCkge1xyXG5cdCAgICBhcHAubG9hZEltYWdlcygnY2F0Jyk7XHJcblx0fTtcclxuXHJcbn0pKHdpbmRvdy5HYW1lID0gd2luZG93LkdhbWUgfHwge30sIEJCUSwgUElYSSk7XHJcblx0IFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2dhbWUvY3JlYXR1cmVzLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXHJcbiAqIGdhbWUuanNcclxuICogXHJcbiAqIEVudHJ5IHBvaW50IG9mIHRoZSBTbGFzaCAnbicgU21hc2ggZ2FtZS5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdykge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIE92ZXJyaWRlcyBQbGF5Z3JvdW5kJ3MgY29tbW9uIGxvYWRpbmcgc2NyZWVuLlxyXG5cdCAqIFVzZXMgUElYSSByZW5kZXJlciB0byByZW5kZXIgdGhlIGxvYWRpbmcgc3RhdGUuXHJcblx0ICovXHJcblx0UExBWUdST1VORC5Mb2FkaW5nU2NyZWVuID0ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBWSFMtdGFwZSBsb2dvIGltYWdlIGFzc2V0IGVuY29kZWQgYXMgUE5HIGluIGJhc2U2NC5cclxuXHRcdCAqL1xyXG5cdFx0bG9nb1JhdzogJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFBWUNBWUFBQUJLdFB0RUFBQUErMGxFUVZSWXcrMVgwUTNGSUFnc2pRczRnQ3U0L3h5dTRBQ08wUGRGWW16TFF5dzFWdm1teWgzSFNXRmpoblB1MkFhSkdDTndjK0ZyNEd0Sk1Od0RyYlhEZ0U4cHNYUDNiZkpZQkh4Ti9yWDFUcThBSS9rb2hBQ2NWd0k3VWVaendudC9VSVpXdWp6bXEzc0FGendGVEZvc2RhK0U1T1lSa0lBUElRQVdXeEpSUzh3VCs0blJtQ3VVcDdYMjFDVUV5ZTBZbnFXMWpPMWE0S201dnBNdFJVck5ldHRkQVZ6L3lFbVJ6dkJ3aTlDVkNlYWpNY1F6MkFLK1Y2ZGZVd0JsVnRqcHZOdEl5RDlpdEV5d1NRRXhScmdxN0s1WWljd3A0RThZbzNsVHhwcnlsM29JYUI3ZU03aGtyOS9oUmNBaVlPNWd1L0pJUmxqejJ2d0FOdWVGSzFSQ05Dd0FBQUFBU1VWT1JLNUNZSUk9JyxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcmVhdGVzIGxvYWRlciBzY2VuZS5cclxuXHRcdCAqL1xyXG5cdFx0Y3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY3JlYXRlIFBpeGkgbG9nbyBzcHJpdGVcclxuXHRcdFx0dGhpcy5sb2dvID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UodGhpcy5sb2dvUmF3KSk7XHJcblx0XHRcdHRoaXMubG9nby5hbmNob3IgPSBuZXcgUElYSS5Qb2ludCgwLjUsIDEpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlIGxvYWRlciBwcm9ncmVzcyBiYXJcclxuXHRcdFx0dGhpcy5wcm9ncmVzc0JhciA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcblx0XHRcdHRoaXMucHJvZ3Jlc3NCYXIucG9zaXRpb24gPSBuZXcgUElYSS5Qb2ludCgwLCA4KTtcclxuXHRcdFx0dGhpcy5sb2dvLmFkZENoaWxkKHRoaXMucHJvZ3Jlc3NCYXIpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZXJyb3IgaGFuZGxlclxyXG5cdFx0XHR0aGlzLmFwcC5sb2FkZXIub24oJ2Vycm9yJywgdGhpcy5lcnJvciwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFByZXBhcmVzIGxvYWRlciBzdGF0ZS5cclxuXHRcdCAqL1xyXG5cdFx0ZW50ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBjaGFuZ2UgYmFja2dyb3VuZCBjb2xvdXJcclxuXHRcdFx0dGhpcy5hcHAucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gMHgxMDEwMTA7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZXNldCBwcm9ncmVzcyB2YWx1ZVxyXG5cdFx0XHR0aGlzLnByb2dyZXNzID0gMDtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogTG9hZGluZyBzY2VuZSBkb25lLiBRdWl0dGluZy5cclxuXHRcdCAqL1xyXG5cdFx0bGVhdmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnTG9hZGluZyBkb25lLicpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBQcm9jZXNzIHRoZSBsb2FkZXIgcHJvZ3Jlc3MuXHJcblx0XHQgKiBcclxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YSBEZWx0YSB0aW1lIGJldHdlZW4gbGFzdCBmcmFtZS5cclxuXHRcdCAqL1xyXG5cdFx0c3RlcDogZnVuY3Rpb24oZGVsdGEpIHtcclxuXHRcdFx0Ly8gcHJvZ3Jlc3Mgc3RhdHVzXHJcblx0XHRcdHRoaXMucHJvZ3Jlc3MgKz0gTWF0aC5hYnModGhpcy5hcHAubG9hZGVyLnByb2dyZXNzIC0gdGhpcy5wcm9ncmVzcyk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBrZWVwIGNlbnRlcmVkIHBvc2l0aW9uXHJcblx0XHRcdHRoaXMubG9nby5wb3NpdGlvbiA9IG5ldyBQSVhJLlBvaW50KFxyXG5cdFx0XHRcdE1hdGguZmxvb3IodGhpcy5hcHAucmVuZGVyZXIud2lkdGggLyAyKSxcclxuXHRcdFx0XHRNYXRoLmZsb29yKHRoaXMuYXBwLnJlbmRlcmVyLmhlaWdodCAvIDIpXHJcblx0XHRcdCk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFJlbmRlcnMgbG9hZGVyIHN0YXRlLlxyXG5cdFx0ICovXHJcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyB1cGRhdGUgcHJvZ3Jlc3MgYmFyXHJcblx0XHRcdHZhciBnID0gdGhpcy5wcm9ncmVzc0JhcixcclxuXHRcdFx0XHRjID0gdGhpcy5wcm9ncmVzcztcclxuXHRcdFx0XHJcblx0XHRcdGcuY2xlYXIoKTtcclxuXHRcdFx0Zy5saW5lU3R5bGUoMCk7XHJcblx0XHRcdGcuYmVnaW5GaWxsKDB4RkZGRkZGLCAxKTtcclxuXHRcdFx0Zy5kcmF3UmVjdCgtMzIsIC0yLCA2NCAqIGMsIDQpO1xyXG5cdFx0XHRnLmVuZEZpbGwoKTtcclxuXHRcdFx0XHJcblx0XHRcdGcuYmVnaW5GaWxsKDB4RkZGRkZGLCAxKTtcclxuXHRcdFx0Zy5kcmF3UmVjdCgtMzQsIC0yLCAxLCA0KTtcclxuXHRcdFx0Zy5lbmRGaWxsKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRnLmJlZ2luRmlsbCgweEZGRkZGRiwgMSk7XHJcblx0XHRcdGcuZHJhd1JlY3QoMzMsIC0yLCAxLCA0KTtcclxuXHRcdFx0Zy5lbmRGaWxsKCk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyByZW5kZXIgbG9hZGVyIHN0YWdlXHJcblx0XHRcdHRoaXMuYXBwLnJlbmRlcmVyLnJlbmRlcih0aGlzLmxvZ28pO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGVzIGxvYWRlciBlcnJvci5cclxuXHRcdCAqL1xyXG5cdFx0ZXJyb3I6IGZ1bmN0aW9uKHVybCkge1xyXG5cdFx0XHQvLyBjcmVhdGUgdGV4dCBjaGlsZCBub2RlXHJcblx0XHRcdHZhciB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnRXJyb3Igd2hpbGUgbG9hZGluZ1xcbicgKyB1cmwsIHtcclxuXHRcdFx0XHRmb250OiAnOXB4IENvdXJpZXInLFxyXG5cdFx0XHRcdGZpbGw6ICcjRkZGRkZGJyxcclxuXHRcdFx0XHRhbGlnbjogJ2NlbnRlcidcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR0ZXh0LmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMCk7XHJcblx0XHRcdHRleHQucG9zaXRpb24gPSBuZXcgUElYSS5Qb2ludCgwLCAxOCk7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLmxvZ28uYWRkQ2hpbGQodGV4dCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBHYW1lIGFwcGxpY2F0aW9uIGluc3RhbmNlLlxyXG5cdCAqIFxyXG5cdCAqIEB0eXBlIFBMQVlHUk9VTkQuQXBwbGljYXRpb25cclxuXHQgKi9cclxuXHRHYW1lLmFwcCA9IHBsYXlncm91bmQoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21tb24gYXNzZXRzIHBhdGhzLlxyXG5cdFx0ICovXHJcblx0XHRwYXRoczoge1xyXG5cdFx0XHRiYXNlOiAnYXNzZXRzLycsXHJcblx0XHRcdGltYWdlczogJ2ltYWdlcy8nLFxyXG5cdFx0XHRzb3VuZHM6ICdzb3VuZHMvJyxcclxuXHRcdFx0YXRsYXNlczogJ2F0bGFzZXMvJ1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDYW52YXMgdmlld3BvcnQgc2NhbGUtdXAuXHJcblx0XHQgKi9cclxuXHRcdHNjYWxlOiAzLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1hbmNlIGRldGVjdG9yLlxyXG5cdFx0ICovXHJcblx0XHRwZXJmb3JtYW5jZToge1xyXG5cdFx0XHR0aWNrczogMCxcclxuXHRcdFx0ZnJhbWU6IDAsXHJcblx0XHRcdGZwczogMFxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBsaWNhdGlvbiBjcmVhdGlvbiBldmVudC5cclxuXHRcdCAqL1xyXG5cdFx0Y3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gY3JlYXRlIFBJWEkgcHJvcGVybHkgcmVuZGVyZXJcclxuXHRcdFx0dGhpcy5jcmVhdGVSZW5kZXJlcigpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlcyBpbmZvLWJvYXJkXHJcblx0XHRcdEJCUS5jb25zb2xlLnN0YXR1cyhcclxuXHRcdFx0XHR0aGlzLnJlbmRlcmVyIGluc3RhbmNlb2YgUElYSS5XZWJHTFJlbmRlcmVyID9cclxuXHRcdFx0XHRcdCdXZWJHTCcgOiAnQ2FudmFzJ1xyXG5cdFx0XHQpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gcGVyZm9ybSBhc3NldHMgbG9hZGluZ1xyXG5cdFx0XHQvLyBGT1IgREVNTyBQVVJQT1NFUyBPTkxZLCBETyBOT1QgQkFTRSBPTiBJVFxyXG5cdFx0XHRjb25zb2xlLmxvZygnTG9hZGluZyBnYW1lIGFzc2V0cy4uLicpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gbG9hZCBnYW1lIGFzc2V0c1xyXG5cdFx0XHRmb3IodmFyIGkgaW4gR2FtZSkge1xyXG5cdFx0XHRcdHZhciBHYW1lX0NoaWxkID0gR2FtZVtpXTtcclxuXHRcdFx0XHRpZih0eXBlb2YgR2FtZV9DaGlsZCA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHRcdGZvcih2YXIgbiBpbiBHYW1lX0NoaWxkKSB7XHJcblx0XHRcdFx0XHRcdC8vIGludm9rZSBwcmVsb2FkcyBmb3IgR2FtZS5PYmplY3QuT2JqZWN0LnByZWxvYWRcclxuXHRcdFx0XHRcdFx0aWYodHlwZW9mIEdhbWVfQ2hpbGRbbl0ucHJlbG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRcdEdhbWVfQ2hpbGRbbl0ucHJlbG9hZC5jYWxsKHRoaXMsIHRoaXMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFzc2V0cyBsb2FkZXIgcmVhZHkgZXZlbnQuXHJcblx0XHQgKi9cclxuXHRcdHJlYWR5OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gc3dpdGNoIHRvIGdhbWUgc3RhdGVcclxuXHRcdFx0dGhpcy5zZXRTdGF0ZShuZXcgR2FtZS5TdGF0ZS5NZW51KCkpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlIHNwcml0ZXMuXHJcblx0XHQgKi9cclxuXHRcdHN0ZXA6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIGR1bW15IG1ldGhvZFxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZW5kZXJzIHNjZW5lIGZyYW1lLlxyXG5cdFx0ICovXHJcblx0XHRyZW5kZXI6IGZ1bmN0aW9uKGRlbHRhKSB7XHJcblx0XHRcdC8vIHVwZGF0ZSB0aWNrcyBhbmQgRlBTXHJcblx0XHRcdHRoaXMucGVyZm9ybWFuY2UuZnJhbWUrKztcclxuXHRcdFx0dGhpcy5wZXJmb3JtYW5jZS50aWNrcyArPSBkZWx0YTtcclxuXHRcdFx0aWYodGhpcy5wZXJmb3JtYW5jZS50aWNrcyA+PSAxKSB7XHJcblx0XHRcdFx0Ly8gdXBkYXRlIEZQUyBzdGF0dXNcclxuXHRcdFx0XHR0aGlzLnBlcmZvcm1hbmNlLmZwcyA9IHRoaXMucGVyZm9ybWFuY2UuZnJhbWU7XHJcblx0XHRcdFx0QkJRLmNvbnNvbGUuZnBzKCdGUFM6ICcgKyB0aGlzLnBlcmZvcm1hbmNlLmZwcyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0Ly8gcmVzZXQgY291bnRlcnNcclxuXHRcdFx0XHR0aGlzLnBlcmZvcm1hbmNlLnRpY2tzID0gMDtcclxuXHRcdFx0XHR0aGlzLnBlcmZvcm1hbmNlLmZyYW1lID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBIYW5kbGVzIHZpZXdwb3J0IHJlc2l6ZSBldmVudC5cclxuXHRcdCAqL1xyXG5cdFx0cmVzaXplOiBmdW5jdGlvbigpIHtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogSGFuZGxlIGtleSBpbnB1dC5cclxuXHRcdCAqL1xyXG5cdFx0a2V5ZG93bjogZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0aWYoZXZlbnQua2V5ID09PSAnZjEnKSB7XHJcblx0XHRcdFx0QkJRLmNvbnNvbGUudG9nZ2xlKCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEhhbmRsZSBwb2ludGVyIChtb3VzZS90b3VjaCkgZXZlbnQuXHJcblx0XHQgKi9cclxuXHRcdHBvaW50ZXJkb3duOiBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHQvL0JCUS5VdGlscy5mdWxsc2NyZWVuKHRydWUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSh3aW5kb3cpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9nYW1lL2dhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcclxuICogc3RhZ2UuanNcclxuICogXHJcbiAqIEFsbCBnYW1lIHN0YWdlcyBkZWZpbml0aW9ucyBzdGFjay5cclxuICogXHJcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxyXG4gKiBGb3IgbGljZW5zZSBkZXRhaWxzIHBsZWFzZSBjaGVjayB0aGUgTElDRU5TRSBmaWxlIG9mIHRoZSBwcm9qZWN0LlxyXG4gKiBcclxuICogQGF1dGhvciBLb25yYWQgTm93YWtvd3NraSA8a29ucmFkLng5MkBnbWFpbC5jb20+XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEdhbWUgc3RhZ2VzIGRlZmluaXRpb25zLlxyXG4gKiBcclxuICogQHBhcmFtIHtPYmplY3R9IEdhbWUgQ29tbW9uIHB1YmxpYyBnYW1lIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtPYmplY3R9IEJCUSBFbmdpbmUgcHVibGljIG5hbWVzcGFjZS5cclxuICogQHBhcmFtIHtQSVhJfSBQaXhpIFBJWEkgcmVuZGVyaW5nIGVuZ2luZSBuYW1lc3BhY2UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oR2FtZSwgQkJRLCBQSVhJKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblx0LyoqXHJcblx0ICogRmF0YWxpdHkgaW1hZ2UuXHJcblx0ICovXHJcblx0R2FtZS5GYXRhbGl0eSA9IEJCUS5DbGFzcyhmdW5jdGlvbigpIHtcclxuXHRcdC8vIGNhbGwgaW5oZXJpdGVkIGN0b3JcclxuXHRcdFBJWEkuU3ByaXRlLmNhbGwodGhpcywgR2FtZS5hcHAudGV4KCdmYXRhbGl0eScpKTtcclxuXHRcdFxyXG5cdFx0Ly8gY2hhbmdlIHNwcml0ZSBhbmNob3IgdG8gY2VudGVyXHJcblx0XHR0aGlzLmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMC41KTtcclxuXHRcdHRoaXMudGltZXIgPSAxMDA7XHJcblx0fSlcclxuXHQuZXh0ZW5kcyhQSVhJLlNwcml0ZSlcclxuXHQuc2NvcGUoe1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDZW50ZXIgZmF0YWxpdHkgaW1hZ2UuXHJcblx0XHQgKi9cclxuXHRcdHVwZGF0ZVRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMucG9zaXRpb24ueCA9IEdhbWUuYXBwLnJlbmRlcmVyLndpZHRoIC8gMjtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi55ID0gKEdhbWUuYXBwLnJlbmRlcmVyLmhlaWdodCAvIDIuNSkgLSBNYXRoLmFicyhNYXRoLmNvcygodGhpcy50aW1lci8xMDAgKyA1MCkqTWF0aC5QSSkgKiAxMDAgKiBNYXRoLnNpbigodGhpcy50aW1lci8yMDApKk1hdGguUEkpKTtcclxuXHRcdFx0UElYSS5TcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKHRoaXMpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYodGhpcy50aW1lciA+IDApIHtcclxuXHRcdFx0XHR0aGlzLnRpbWVyLS07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBHYW1lIHN0YXRlcy5cclxuXHQgKi9cclxuXHRHYW1lLlN0YXRlID0ge307XHJcblx0XHJcblx0LyoqXHJcblx0ICogTWVudSBzdGF0ZSBkZWZpbml0aW9uLlxyXG5cdCAqL1xyXG5cdEdhbWUuU3RhdGUuTWVudSA9IEJCUS5DbGFzcyhmdW5jdGlvbigpIHtcclxuXHRcdEJCUS5TdGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0dmFyIHNwID0gbmV3IEdhbWUuU3RhdGUuTWVudS5CdXR0b24oR2FtZS5hcHAudGV4KCdzaW5nbGVwbGF5ZXInKSk7XHJcblx0XHR2YXIgbXAgPSBuZXcgR2FtZS5TdGF0ZS5NZW51LkJ1dHRvbihHYW1lLmFwcC50ZXgoJ211bHRpcGxheWVyJykpO1xyXG5cdFx0dmFyIGZzID0gbmV3IEdhbWUuU3RhdGUuTWVudS5CdXR0b24oR2FtZS5hcHAudGV4KCdmdWxsc2NyZWVuJykpO1xyXG5cdFx0c3Aub2Zmc2V0LnkgPSAtMjU7XHJcblx0XHRtcC5vZmZzZXQueSA9IDA7XHJcblx0XHRmcy5vZmZzZXQueSA9IDI1O1xyXG5cdFx0XHJcblx0XHRzcC5jbGljayA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRHYW1lLmFwcC5zaW5nbGVwbGF5ZXIgPSB0cnVlO1xyXG5cdFx0XHRHYW1lLmFwcC5zZXRTdGF0ZShuZXcgR2FtZS5TdGF0ZS5TdGFnZSgpKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdG1wLmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdEdhbWUuYXBwLnNpbmdsZXBsYXllciA9IGZhbHNlO1xyXG5cdFx0XHRHYW1lLmFwcC5zZXRTdGF0ZShuZXcgR2FtZS5TdGF0ZS5TdGFnZSgpKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGZzLmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdEJCUS5VdGlscy5mdWxsc2NyZWVuKCk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRzcC5iaW5kKCk7XHJcblx0XHRtcC5iaW5kKCk7XHJcblx0XHRmcy5iaW5kKCk7XHJcblx0XHRcclxuXHRcdHRoaXMuYWRkQ2hpbGQoc3ApO1xyXG5cdFx0dGhpcy5hZGRDaGlsZChtcCk7XHJcblx0XHR0aGlzLmFkZENoaWxkKGZzKTtcclxuXHR9KVxyXG5cdC5leHRlbmRzKEJCUS5TdGF0ZSk7XHJcblx0XHJcblx0Ly8gQ29tbW9uIG1lbnUgYnV0dG9uXHJcblx0R2FtZS5TdGF0ZS5NZW51LkJ1dHRvbiA9IEJCUS5DbGFzcyhmdW5jdGlvbigpIHtcclxuXHRcdFBJWEkuU3ByaXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHR0aGlzLmFuY2hvciA9IG5ldyBQSVhJLlBvaW50KDAuNSwgMC41KTtcclxuXHRcdHRoaXMuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG5cdFx0dGhpcy5vZmZzZXQgPSBuZXcgUElYSS5Qb2ludCgpO1xyXG5cdH0pXHJcblx0LmV4dGVuZHMoUElYSS5TcHJpdGUpXHJcblx0LnNjb3BlKHtcclxuXHRcdC8qKlxyXG5cdFx0ICogQnV0dG9uIGNsaWNrZWQgaGFuZGxlci5cclxuXHRcdCAqL1xyXG5cdFx0Y2xpY2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBkdW1teVxyXG5cdFx0XHRjb25zb2xlLmxvZygnYXNkMScpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBCaW5kIGV2ZW50cy5cclxuXHRcdCAqL1xyXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMub24oJ21vdXNlZG93bicsIHRoaXMuY2xpY2suYmluZCh0aGlzKSk7XHJcblx0XHRcdHRoaXMub24oJ3RvdWNoc3RhcnQnLCB0aGlzLmNsaWNrLmJpbmQodGhpcykpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBDZW50ZXIgYnV0dG9ucy5cclxuXHRcdCAqL1xyXG5cdFx0dXBkYXRlVHJhbnNmb3JtOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIF9zY3JodyA9IEdhbWUuYXBwLnJlbmRlcmVyLndpZHRoIC8gMixcclxuXHRcdFx0XHRfc2NyaGggPSBHYW1lLmFwcC5yZW5kZXJlci5oZWlnaHQgLyAyO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi54ID0gX3Njcmh3ICsgdGhpcy5vZmZzZXQueDtcclxuXHRcdFx0dGhpcy5wb3NpdGlvbi55ID0gX3NjcmhoICsgdGhpcy5vZmZzZXQueTtcclxuXHRcdFx0UElYSS5TcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8vIFByZWxvYWQgYXNzZXRzXHJcblx0R2FtZS5TdGF0ZS5NZW51LnByZWxvYWQgPSBmdW5jdGlvbihhcHApIHtcclxuXHRcdGFwcC5sb2FkSW1hZ2VzKCdzaW5nbGVwbGF5ZXInLCAnbXVsdGlwbGF5ZXInLCAnZnVsbHNjcmVlbicpO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ29tbW9uIHN0YWdlIGRlZmluaXRpb24uXHJcblx0ICovXHJcblx0R2FtZS5TdGF0ZS5TdGFnZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0QkJRLlN0YXRlLmNhbGwodGhpcyk7XHJcblx0XHRcclxuXHRcdHRoaXMucGxheWVycyA9IFtdO1xyXG5cdFx0dGhpcy50aW1lciA9IDEwO1xyXG5cdH07XHJcblx0XHJcblx0Ly8gZXh0ZW5kcyBHYW1lLlN0YWdlIGJ5IEJCUS5TdGF0ZSBjbGFzc1xyXG5cdEJCUS5VdGlscy5leHRlbmRzKEdhbWUuU3RhdGUuU3RhZ2UsIEJCUS5TdGF0ZSwge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBQcmVwYXJlcyBnYW1lIHN0YWdlLlxyXG5cdFx0ICovXHJcblx0XHRlbnRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuYmFja2dyb3VuZC5hZGRCYWNrZ3JvdW5kKCd0b3duc2t5Jywge1xyXG5cdFx0XHRcdHNjYWxlOiBuZXcgUElYSS5Qb2ludCguMSwgLjEpXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5iYWNrZ3JvdW5kLmFkZEJhY2tncm91bmQoJ3Rvd25iZycsIHtcclxuXHRcdFx0XHRzY2FsZTogbmV3IFBJWEkuUG9pbnQoLjUsIDEpLFxyXG5cdFx0XHRcdG9mZnNldDogbmV3IFBJWEkuUG9pbnQoMCwgLTIwMCksXHJcblx0XHRcdFx0dnRpbGVkOiBmYWxzZSxcclxuXHRcdFx0XHRodGlsZWQ6IHRydWVcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLmJhY2tncm91bmQuYWRkQmFja2dyb3VuZCgndG93bmZnJywge1xyXG5cdFx0XHRcdHNjYWxlOiBuZXcgUElYSS5Qb2ludCguNjUsIDEpLFxyXG5cdFx0XHRcdG9mZnNldDogbmV3IFBJWEkuUG9pbnQoMCwgLTIwMCksXHJcblx0XHRcdFx0dnRpbGVkOiBmYWxzZSxcclxuXHRcdFx0XHRodGlsZWQ6IHRydWVcclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLmJhY2tncm91bmQuYWRkQmFja2dyb3VuZCgncm9hZCcsIHtcclxuXHRcdFx0XHRzY2FsZTogbmV3IFBJWEkuUG9pbnQoMSwgMSksXHJcblx0XHRcdFx0b2Zmc2V0OiBuZXcgUElYSS5Qb2ludCgwLCAtMjIpLFxyXG5cdFx0XHRcdHZ0aWxlZDogZmFsc2UsXHJcblx0XHRcdFx0aHRpbGVkOiB0cnVlXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIGNoYXJhID0gbmV3IEdhbWUuQWN0b3JzLlBsYXllclRvdWNoU2NyZWVuKCdmYXRndXknKTtcclxuXHRcdFx0Y2hhcmEucG9zaXRpb24ueCA9IDYwO1xyXG5cdFx0XHR0aGlzLmFjdG9ycy5hZGRDaGlsZChjaGFyYSk7XHJcblx0XHRcdHRoaXMuY2FtZXJhLmZvbGxvdyhjaGFyYSk7XHJcblx0XHRcdHRoaXMucGxheWVycy5wdXNoKGNoYXJhKTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBjYXQgPSBuZXcgR2FtZS5BY3RvcnMuQ2F0KCdjYXQnKTtcclxuXHRcdFx0Y2F0LnBvc2l0aW9uLnggPSA0MDA7XHJcblx0XHRcdHRoaXMuYWN0b3JzLmFkZENoaWxkKGNhdCk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZighR2FtZS5hcHAuc2luZ2xlcGxheWVyKSB7XHJcblx0XHRcdFx0Y2hhcmEgPSBuZXcgR2FtZS5BY3RvcnMuUGxheWVyKCdmYXRndXknKTtcclxuXHRcdFx0XHRjaGFyYS5wb3NpdGlvbi54ID0gMTAwO1xyXG5cdFx0XHRcdGNoYXJhLmtleW1hcCA9IHtcclxuXHRcdFx0XHRcdHJpZ2h0OiAnZCcsXHJcblx0XHRcdFx0XHRsZWZ0OiAnYScsXHJcblx0XHRcdFx0XHRkb3duOiAncycsXHJcblx0XHRcdFx0XHR1cDogJ3cnLFxyXG5cclxuXHRcdFx0XHRcdHB1bmNoOiAndCcsXHJcblx0XHRcdFx0XHRraWNrOiAneScsXHJcblx0XHRcdFx0XHRqdW1wOiAnZydcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHRoaXMuY2FtZXJhLmZvbGxvdyhjaGFyYSk7XHJcblx0XHRcdFx0dGhpcy5hY3RvcnMuYWRkQ2hpbGQoY2hhcmEpO1xyXG5cdFx0XHRcdHRoaXMucGxheWVycy5wdXNoKGNoYXJhKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly92YXIgZW5lbXkgPSBuZXcgR2FtZS5BY3RvcnMuRW5lbXkoJ2VuZW15Z3V5Jyk7XHJcblx0XHRcdC8vdGhpcy5hY3RvcnMuYWRkQ2hpbGQoZW5lbXkpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBPdmVycmlkZXMgc3RhdGUgc3RlcC5cclxuXHRcdCAqL1xyXG5cdFx0c3RlcDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdEJCUS5TdGF0ZS5wcm90b3R5cGUuc3RlcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gY3JlYXRlIGVuZW1pZXMgZHVybmluZyB0aW1lXHJcblx0XHRcdGlmKHRoaXMucGxheWVycy5sZW5ndGggPiAwICYmIHRoaXMudGltZXItLSA8IDApIHtcclxuXHRcdFx0XHR0aGlzLnRpbWVyID0gODAgKyAyMDAgKiBNYXRoLnJhbmRvbSgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZhciBlbmVteSA9IG5ldyBHYW1lLkFjdG9ycy5FbmVteSgnZW5lbXlndXknKTtcclxuXHRcdFx0XHRlbmVteS5wb3NpdGlvbi54ID0gKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDEpKjQwMDtcclxuXHRcdFx0XHRlbmVteS5wb3NpdGlvbi55ID0gTWF0aC5yYW5kb20oKSoxMDA7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0ZW5lbXkucG9zaXRpb24ueCAtPSB0aGlzLmNhbWVyYS5nZXRDZW50ZXIoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR0aGlzLmFjdG9ycy5hZGRDaGlsZChlbmVteSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdC8qKlxyXG5cdFx0ICogS2V5ZG93biBldmVudCBoYW5kbGUuXHJcblx0XHQgKi9cclxuXHRcdGtleWRvd246IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgna2V5ZG93bicsIGUua2V5LCB0cnVlLCBlKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFxyXG5cdFx0ICovXHJcblx0XHRrZXl1cDogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR0aGlzLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihwbGF5ZXIpIHtcclxuXHRcdFx0XHRwbGF5ZXIuZW5xdWV1ZUV2ZW50KCdrZXl1cCcsIGUua2V5LCBmYWxzZSwgZSk7XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0dG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR0aGlzLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihwbGF5ZXIpIHtcclxuXHRcdFx0XHRwbGF5ZXIuZW5xdWV1ZUV2ZW50KCd0b3VjaHN0YXJ0JywgZS5pZGVudGlmaWVyLCBlLngsIGUueSwgZmFsc2UsIGUpO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblx0XHRcclxuXHRcdHRvdWNobW92ZTogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR0aGlzLnBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihwbGF5ZXIpIHtcclxuXHRcdFx0XHRwbGF5ZXIuZW5xdWV1ZUV2ZW50KCd0b3VjaG1vdmUnLCBlLmlkZW50aWZpZXIsIGUueCwgZS55LCBmYWxzZSwgZSk7XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0dG91Y2hlbmQ6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0dGhpcy5wbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcblx0XHRcdFx0cGxheWVyLmVucXVldWVFdmVudCgndG91Y2hlbmQnLCBlLmlkZW50aWZpZXIsIGUueCwgZS55LCBmYWxzZSwgZSk7XHJcblx0XHRcdH0sIHRoaXMpO1xyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0cGxheWVyS2lsbGVkOiBmdW5jdGlvbihwbGF5ZXIpIHtcclxuXHRcdFx0dmFyIGluZCA9IHRoaXMucGxheWVycy5pbmRleE9mKHBsYXllcik7XHJcblx0XHRcdGlmKGluZCAhPT0gLTEpIHtcclxuXHRcdFx0XHR0aGlzLnBsYXllcnMuc3BsaWNlKGluZCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGZhdGFsaXR5IG1lc3NhZ2VcclxuXHRcdFx0aWYodGhpcy5wbGF5ZXJzLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdFx0dGhpcy5mb3JlZ3JvdW5kLmFkZENoaWxkKG5ldyBHYW1lLkZhdGFsaXR5KCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0XHJcblx0XHJcblx0LyoqXHJcblx0ICogQWxsIGdhbWUgc3RhZ2VzIGRlZmluaXRpb25zLlxyXG5cdCAqL1xyXG5cdEdhbWUuU3RhZ2VzID0ge307XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ29tbW9uIHByZWxvYWQgYXNzZXRzLlxyXG5cdCAqL1xyXG5cdEdhbWUuU3RhZ2VzLl8gPSB7XHJcblx0XHRwcmVsb2FkOiBmdW5jdGlvbihhcHApIHtcclxuXHRcdFx0YXBwLmxvYWRJbWFnZXMoJ2ZhdGFsaXR5Jyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBGaXJzdCBzdGFnZSAtIEV2aWwgVG93bi5cclxuXHQgKi9cclxuXHRHYW1lLlN0YWdlcy50b3duID0ge1xyXG5cdFx0LyoqXHJcblx0XHQgKiBDb21tb24gZ2FtZSBwcmVsb2FkIGZ1bmN0aW9uLlxyXG5cdFx0ICovXHJcblx0XHRwcmVsb2FkOiBmdW5jdGlvbihhcHApIHtcclxuXHRcdFx0YXBwLmxvYWRJbWFnZXMoJ3JvYWQnLCAndG93bnNreScsICd0b3duYmcnLCAndG93bmZnJyk7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIFN0YWdlIGFwcGVhcmFuY2UgcGVyZnMuXHJcblx0XHQgKi9cclxuXHRcdGFwcGVhcmFuY2U6IHtcclxuXHRcdFx0Z3JvdW5kOiAncm9hZCcsXHJcblx0XHRcdHBhcmFsbGF4OiBbXHJcblx0XHRcdFx0eyB0ZXh0dXJlOiAndG93bnNreScsIHZzY2FsZTogMSwgaHNjYWxlOiAxIH1cclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBHYW1lcGxheSBzZWN0aW9ucy5cclxuXHRcdCAqL1xyXG5cdFx0c2VjdGlvbnM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHdhdmVzOiBbXHJcblx0XHRcdFx0XHRbJ1NraW5IZWFkJywnU2tpbkhlYWQnLCdTa2luSGVhZCddXHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9XHJcblx0XHRdLFxyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIEFmdGVyLXdpbiBuZXh0IHN0YWdlLlxyXG5cdFx0ICovXHJcblx0XHRuZXh0OiAncHViJ1xyXG5cdH07XHJcbn0pKHdpbmRvdy5HYW1lID0gd2luZG93LkdhbWUgfHwge30sIEJCUSwgUElYSSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2dhbWUvc3RhZ2VzLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=